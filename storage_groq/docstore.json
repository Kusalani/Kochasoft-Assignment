{"docstore/data": {"3305a4a6-dd44-4313-92fc-4c749f994fb5": {"__data__": {"id_": "3305a4a6-dd44-4313-92fc-4c749f994fb5", "embedding": null, "metadata": {"page_label": "1", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f57158dd-482c-460c-8a0c-383e996d287d", "node_type": "4", "metadata": {"page_label": "1", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "1d789b87d69ac4d2c50e7d2a6578de3b5753c33e47f6d9ca69de64edba6df1ff", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "TECHNICAL PAPER: Dec 2024 \nSAP HANA on  \nVMware vSphere \nBest Practices \nBy Erik Rieger \nPrincipal SAP Global Technical Alliance Manager & Architect", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 148, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8c3b1054-bc5a-4267-b1ee-015ac3a3b1ae": {"__data__": {"id_": "8c3b1054-bc5a-4267-b1ee-015ac3a3b1ae", "embedding": null, "metadata": {"page_label": "2", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "14de8f19-1af1-4e77-aa65-a47e801bed81", "node_type": "4", "metadata": {"page_label": "2", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "eb221c218e599479213e4bcf42e5c512b84be76399db166d7cbc2fdd3c95598a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 2 \nTable of contents Introduction ...................................................................................................................................... 5 Abstract ............................................................................................................................................... 5 Audience .............................................................................................................................................. 5 Solution overview .............................................................................................................................. 6 SAP HANA on VMware vSphere ............................................................................................................. 6 Solution components ............................................................................................................................. 7 What's new in vSphere 8.0? ................................................................................................................... 7 Benefits of SAP HANA on VMware vSphere 8.0 ...................................................................................... 8 Software and hardware support for SAP HANA on vSphere ................................................................... 8 SAP HANA production support for vSphere and  VMware Cloud Foundation ............................................. 8 vSphere version support for Intel CPU platforms ...................................................................................... 9 vSphere maximums ............................................................................................................................. 10 Release strategy .................................................................................................................................. 10 Supported vSphere and VMware Cloud Foundation offerings .................................................................. 11 Scalability and VM sizes ......................................................................................................................... 12 Deployment options and considerations ............................................................................................. 13 Reference architecture diagram ............................................................................................................ 13 SAP HANA on VCF deployment options and sizes .................................................................................. 19 Intel sub-NUMA clustering (SNC-2) support and deployment options ...................................................... 22 Support for SNC-2 ......................................................................................................................... 22 SNC-2 supported deployment examples .......................................................................................... 24 Scale-up and scale-out deployment architecture ................................................................................... 27 Configuration and sizing guidelines ..................................................................................................... 29 Sizing compute and memory ................................................................................................................ 29 Sizing process ............................................................................................................................... 29 Translating the SAP sizing to a VM configuration ............................................................................... 31 Virtual memory configuration example ............................................................................................ 32 CPU calculation examples .............................................................................................................. 34 VM CPU (SAPS) configuration example ...................................................................................... 34 VM vCPU configuration examples .............................................................................................. 34", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 4229, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b5ef1bba-1325-4638-ae7b-5037c0be243f": {"__data__": {"id_": "b5ef1bba-1325-4638-ae7b-5037c0be243f", "embedding": null, "metadata": {"page_label": "3", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ebb78c39-214b-414f-98da-c4f508e4c360", "node_type": "4", "metadata": {"page_label": "3", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "22e07f6b509c99af88384fef8549e3c95407195c6fc4badc11e3dc48b32edd6f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 3 \nConsiderations for the final VM configuration ................................................................................... 35 Pre-sized examples ........................................................................................................................ 36 Storage configuration and sizing ........................................................................................................... 39 Tools used to verify KPIs ................................................................................................................ 39 Storage connection ........................................................................................................................ 39 vSphere datastores ........................................................................................................................ 40 File system layout .......................................................................................................................... 40 Storage capacity calculation ............................................................................................................ 41 Hardware and cloud measurement tool for SAP HANA ........................................................................... 44 Network configuration and sizing .......................................................................................................... 46 Workload performance and validation testing ..................................................................................... 52 SAP workload characterization and the impact on network performance ................................................. 52 Performance tests run with SAP S/4HANA and BW/4HANA: workload and validation testing ................... 53 Testbed configuration .................................................................................................................... 53 Workload information .................................................................................................................... 54 Test methodology .......................................................................................................................... 54 Test results for OLTP workload ....................................................................................................... 55 SAP S/4HANA and B/4HANA validation test findings (OLAP) ............................................................ 61 BWH L-Class vs. M-Class sizings for SAP HANA VMs ....................................................................... 62 Virtual SAP HANA performance evolution over 5 CPU generations ......................................................... 66 Enhanced vMotion Compatibility, vSphere vMotion, and vSphere DRS best practices .............................. 70 Best practices for migrating SAP HANA VMs in a production environment ............................................... 71 VM migration scenarios ....................................................................................................................... 72 Managing SAP HANA landscapes using vSphere DRS ............................................................................ 76 SNC-2 management and operation .................................................................................................... 77 vSphere Cluster Services .................................................................................................................. 80 Architecture of vCLS ...................................................................................................................... 80 vCLS VM details .............................................................................................................................. 81 Guidelines for deploying vCLS in a cluster with SAP HANA VMs ........................................................ 82 Examples of deploying vCLS in a cluster with SAP HANA VMs .......................................................... 83 Mixed SAP HANA and other VMs in a vSphere cluster/VCF VI WLD ............................................ 83 Dedicated ESXi hosts for SAP HANA VMs on a vSphere cluster ..................................................... 84", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 4302, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d09ff1dc-fa95-4b7b-b861-e1abbb5c712f": {"__data__": {"id_": "d09ff1dc-fa95-4b7b-b861-e1abbb5c712f", "embedding": null, "metadata": {"page_label": "4", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a15bc9a4-bea6-4cfb-b1cf-5860d0d05985", "node_type": "4", "metadata": {"page_label": "4", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "5f5fcda7f6ec326272b4d3201154297779595bee68ef08ebd3ffa26205bb3a4d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices  \nTECHNICAL PAPER | 4 \nSAP HANA HCI on a vSphere cluster ..................................................................................................... 85 \nHigh availability  best practices for virtualized SAP HANA  ................................ ................................ ...... 87 \nAbout vSphere high availability (HA) ..................................................................................................... 88 \nvSphere HA with passthrough network adapters ................................................................................... 92 \nSAP HANA system replication with vSphere (local site) ........................................................................... 92 \nDisaster recovery ................................................................................................................................ 93 \nSAP HSR and vSphere Replication for a remote site .......................................................................... 94 \nBacking up and restoring SAP HANA systems virtualized on vSphere ...................................................... 95 \nSAP HANA with persistent memory on vSphere 7  ................................ ................................ ................  96 \nPrerequisites and general SAP support limitations for Intel Optane Persistent Memory (PMem) .................. 96 \nWhat is supported? .............................................................................................................................. 96 \nSizing of Optane PMem-enabled SAP HANA VMs .................................................................................. 97 \nvSphere HA support for PMem-enabled SAP HANA VMs ....................................................................... 101 \nSAP HANA with PMem VM configuration details ................................................................................... 102 \nMonitoring  and verifying an SAP HANA installation  ................................ ................................ ..............  107 \nSAP notes for monitoring data growth/CPU utilization and verifying configuration .................................. 107 \nNUMA tool: VMware NUMA Observer ................................................................................................. 107 \nPerformance optimizations for SAP HANA VMs  ................................ ................................ .................  109 \nOptimizing the configuration parameter list ......................................................................................... 109 \nPerformance optimization for low-latency SAP HANA VMs ................................................................... 120 \nCPU affinity settings ...................................................................................................................... 120 \nAdditional performance tuning settings for SAP HANA workloads ...................................................... 121 \nExamples of VMX configurations for SAP HANA VMs ...................................................................... 123 \nCPU thread matrix examples ......................................................................................................... 127 \nSAP HANA support and process ................................ ................................ ................................ ...... 130 \nOpen an SAP support request ticket ................................................................................................... 130 \nOpen a VMware support request ticket ................................................................................................ 132 \nConclusion  ................................ ................................ ................................ ................................ ..... 132 \nAbout the Author  ................................ ................................ ................................ ............................  133 \nAcknowledgments  ................................ ................................ ................................ ..........................  133", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 4142, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "da2411dc-df42-497a-9058-91f85e84cc3a": {"__data__": {"id_": "da2411dc-df42-497a-9058-91f85e84cc3a", "embedding": null, "metadata": {"page_label": "5", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b4ac6bdb-21de-4ba9-81a2-c8c9efd026d0", "node_type": "4", "metadata": {"page_label": "5", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "b2cca1f3085e3866284abb87db89cbb5d6dd8bf0a6dfb971707a860b70895fab", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "TECHNICAL PAPER | 5 \nSAP HANA on VMwar e vSphere Best Practices \nIntroduction \nAbstract \nThis guide is the 2024 July edition of the best practices and recommendations for SAP HANA on VMware Cloud \nFoundation, focusing on VMware vSphere. It describes the best practices and recommendations for configuring, \ndeploying, and optimizing SAP HANA scaled-up and scaled-out deployments, with a focus on vSphere 8.0 \nrunning on 3rd- and 4th-generation Intel Xeon Scalable processors, such as Cascade Lake, Cooper Lake, Ice Lake, \nand Sapphire Rapids systems. \nNote: Scale-up SAP HANA vSphere deployments use a larger host and, therefore, larger VMs to scale\tfrom 2-\nsocket up to 8-socket large VMs on a single 8-socket ESXi host. Scale-out means adding more hosts/VMs to a \nsingle SAP HANA, typically for a business warehouse instance. \nMost of the guidance provided here results from ongoing joint testing by VMware and SAP to characterize the \nperformance of SAP HANA running on vSphere. \nvSphere 7.0 and vSphere 7.0 update versions on second and third-generation Intel Xeon Scalable processors, \nsuch as Broadwell, Skylake, Cascade Lake, Cooper Lake, and Ice Lake ESXi hosts are still supported and are \ncovered in this document as well. \nWe also provide information on Intel Optane Persistent Memory (PMem) 100 series technology, which is only \nsupported with Cascade Lake and vSphere 7.0 virtualized SAP systems. SAP HANA does not support later CPU \ngenerations with PMem, and Intel has announced it is discontinuing this technology. \nAudience \nThis guide is intended for SAP and VMware hardware partners, cloud services providers, system integrators, \narchitects, and administrators responsible for configuring, deploying, and operating the SAP HANA platform in a \nVMware virtualization environment. \nIt assumes you have a basic knowledge of VMware Cloud Foundation concepts and features, SAP HANA, and \nrelated SAP products and technologies.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1940, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b6037a98-c333-4efe-8252-15771771d3ab": {"__data__": {"id_": "b6037a98-c333-4efe-8252-15771771d3ab", "embedding": null, "metadata": {"page_label": "6", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "57f68954-18a2-474f-92d4-1b2b379a82ef", "node_type": "4", "metadata": {"page_label": "6", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "01e6872a88bb586f1af15d0cdc000cf70cfa9c033305365171f9c753bfc187c1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices  \nTECHNICAL PAPER | 6 \nSolution overview \nSAP HANA on VMware vSphere \nPer SAP, 80% of their German and over 51% of their US customers run SAP on-premises or in a private cloud. \nAccording to an IDC study in the same SAP article, up to 68% of SAP workloads will stay on-premises in the \nUnited States, especially for large customers. SAP has supported vSphere for production use cases for 10 years, \nand most of the on-premises customers (over 70%) use VMware solutions as their private cloud (SDDC) solution \nfor SAP applications like SAP HANA. \nBy continuing to validate SAP HANA on the latest Intel CPU generations and latest vSphere and Cloud \nFoundation (VCF) versions, these customers can continue to seamlessly integrate their IT and SAP operations by \nleveraging their existing IT processes, know-how, and customer-tailored infrastructure. This allows full control of \ntheir data and the overall SAP HANA solution. \nSAP HANA on VMware vSphere supports scaling database sizes up to 12TB (16TB is planned with 8-socket \nSapphire Rapids systems) and scaling out with up to 16 nodes (plus high-availability nodes) with up to 48TB \n(depending on the host configuration). \nThe SAP HANA platform with VMware virtualized infrastructure provides an optimal environment for achieving a \nunique, secure, cost-effective solution. It also offers benefits that physical deployments of SAP HANA do not \ninclude, such as: \n\u2022 On-premises security and control\n\u2022 Locality for consistent and predictable performance\n\u2022 Regulatory demand for cloud neutrality\n\u2022 Sovereignty over data and business transactions\n\u2022 Increased security (using VMware NSX as a zero-trust platform)\n\u2022 Higher service-level agreements (SLAs) by leveraging vSphere vMotion to migrate live SAP HANA instances\nto other ESXi host systems before hardware maintenance or host resource constraints\n\u2022 Integrated lifecycle management provided by VMware Cloud Foundation SDDC Manager\n\u2022 Standardized high availability solution based on vSphere HA\n\u2022 Built-in multitenancy support via SAP HANA system encapsulation in a VM\n\u2022 Easier hardware upgrades or migrations due to the abstraction of the hardware layer\n\u2022 Higher hardware utilization rates\n\u2022 Automation, standardization, and streamlining of IT operations, processes, and tasks\n\u2022 Public cloud operating model and cloud readiness due to software-defined data center (SDDC) SAP HANA\ndeployments", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2433, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c8e54680-d98e-452d-86bf-8dbc22c0be21": {"__data__": {"id_": "c8e54680-d98e-452d-86bf-8dbc22c0be21", "embedding": null, "metadata": {"page_label": "7", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "11a53dba-f8d9-426c-9da6-fa1274ba338e", "node_type": "4", "metadata": {"page_label": "7", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "f3cc806849eb458b79940ae86f5e7f21fd4658d273171d4d5dacad75f2037fc8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 7 \nThese and other advanced features found almost exclusively in virtualization lower the total cost of ownership and ensure the best operational performance and availability. As mentioned in SAP Notes 2937606,  3102813, and 3372365, and SAP KB 2101244, this environment fully supports SAP HANA and related software in production environments, as well as SAP HANA features such as multi-tenant database containers (MDC) and system replication (HSR).  Note: Refer to SAP Note 2104291 \"FAQ - SAP HANA multi-tenant database containers,\" page 2. \nSolution components An SAP HANA system based on VMware technologies is a fully virtualized and cloud-ready infrastructure solution running on VMware vSphere and supporting technologies, such as VMware vCenter. All local server host resources\u2014such as CPU, memory, local storage, and networking components\u2014are presented to a VM virtually, abstracting the underlying hardware resources. The solution consists of the following components: \u2022 VMware-certified server systems as listed in the VMware hardware compatibility list (HCL) \u2022 SAP HANA-supported server systems, as listed in the SAP HANA HCL \u2022 SAP HANA-certified hyperconverged infrastructure (HCI) solutions, as listed in the SAP HANA HCI HCL \u2022 VMware Cloud Foundation or vSphere Foundation with VMware products like: \u2013 vSphere and vSAN version 7.0 U2 and later, Sapphire Rapids-based systems, vSphere 8.0 and vSAN U2 and later \u2013 vCenter 7.0 and later, vCenter 8.0 with vSphere 8.0 \u2013 Optional: NSX Networking and Security (out of scope for this document) \u2013 Optional: Aria Suite for management (out of scope for this document) \u2022 A VMware-specific and SAP-integrated support process \nWhat's new in vSphere 8.0? From Introducing vSphere 8: The Enterprise Workload Platform, VMware vSphere 8, the enterprise workload platform, brings the benefits of the cloud to on-premises workloads, supercharges performance through DPUs and GPUs, and accelerates innovation with an enterprise-ready integrated Kubernetes runtime. Additionally, there are significant operational benefits, like VMware Live Recovery add-on services, Unified Cloud Management, a unified multi-cloud management solution that provides capacity planning and optimization for your infrastructure with the right size to fit the current and future needs of your SAP workloads, host different GPU workloads on a single GPU, and perform pre-staged ESXi upgrades, to name some. Visit the VMware by Broadcom specific product webpages for details and up-to-date information.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2583, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9b0a191a-0cf2-447a-ad44-4e72c6a1aab0": {"__data__": {"id_": "9b0a191a-0cf2-447a-ad44-4e72c6a1aab0", "embedding": null, "metadata": {"page_label": "8", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6fa86d53-69c9-40cd-9e70-8c0250d03028", "node_type": "4", "metadata": {"page_label": "8", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "bf68859cd142fb4553deeb00b3c0c31457668f505752af7dc93b573def6987d2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 8 \nBenefits of SAP HANA on VMware vSphere 8.0 The latest advancements in vSphere 8.0 bring significant benefits to SAP customers, facilitating the creation of robust, cost-efficient, manageable, and high-performing SAP HANA environments. A notable enhancement for SAP users in vSphere 8.0 is the revamped approach to presenting the physical system/processor topology to virtual machines (VMs). Previously, vSphere administrators had to manually configure SAP HANA VMs to align with the underlying host hardware, including non-uniform memory access (NUMA) alignment. This alignment is crucial for optimizing SAP HANA performance. To achieve optimal performance before vSphere 8.0, admins had to configure the advanced parameters for each VM. The introduction of the enhanced virtual topology feature in vSphere 8.0 marks a significant improvement. This feature automatically determines optimal coresPerSocket values and virtual L3 cache sizes for VMs, simplifying configuration and enhancing performance. vSphere 8.0 also incorporates intelligent, adaptive NUMA scheduling and memory placement policies, eliminating the need for manual VM balancing across nodes. Admins can still use manual controls to override the default behaviors and configure the NUMA placement for performance-critical SAP HANA VMs. To learn more about optimizing performance, refer to the Performance Best Practices for VMware vSphere 8.0 paper. For detailed configuration steps, consult the VMware vSphere 8.0 Virtual Topology paper. In addition, vSphere 8 Update 1 marks the first release supporting up to 960 logical CPUs per physical host, further expanding scalability. vSphere 8 Enterprise is available as part of VMware Cloud Foundation and VMware vSphere Foundation, as well as standalone editions such as vSphere 8 Standard and Essentials. \nSoftware and hardware support for SAP HANA on vSphere SAP HANA production support for vSphere and  VMware Cloud Foundation In November 2012, SAP announced initial support for scaling up SAP HANA systems on vSphere 5.1 for non-production environments. Since then, SAP has extended its production-level support for scale-up and scale-out SAP HANA deployment options and multi-VM and half-socket support. vSphere versions 5.x and 6.x are no longer supported, and vSphere 7.0 will be unsupported in April 2025. Therefore, you should plan to upgrade to vSphere versions 7.0 or 8.0. The following table lists relevant SAP HANA on vSphere support notes as of March 2024.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2547, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d9ad649f-3689-4956-867f-b07050a582b7": {"__data__": {"id_": "d9ad649f-3689-4956-867f-b07050a582b7", "embedding": null, "metadata": {"page_label": "9", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f9dd9b41-38ce-4d00-8a49-56f10108ff5a", "node_type": "4", "metadata": {"page_label": "9", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "de01982182b056568b053ff66be90a09e3dfcb8b87b80a4a4634fabf390d64a7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 9 \nTable 1. Relevant SAP notes \nKey notes for virtual environments 1492000: General support statement for virtual environments 1380654: SAP support in cloud environments 2161991: VMware vSphere configuration guidelines \nSAP HANA on vSphere 3102813: SAP HANA on VMware vSphere 8 3102813: SAP HANA on VMware vSphere 7.0 U2 with up to 12 TB 448 vCPUs VM sizes 2937606: SAP HANA on VMware vSphere 7.0 (incl. U1 and U2) in production 2393917: SAP HANA on VMware vSphere 6.5 and 6.7 in production 2779240: Workload-based sizing for virtualized environments 2718982: SAP HANA on VMware vSphere and vSAN 6.x / 7.x 2718982: SAP HANA on VMware vSphere and vSAN 8.x 2913410: SAP HANA on VMware vSphere with Persistent Memory 2020657: SAP Business One, version for SAP HANA on VMware vSphere in production  \nvSphere version support for Intel CPU platforms The following table provides an overview, as of March 2024, of the vSphere 7/8 versions and CPU platforms supported by the SAP HANA on vSphere solution. Table 2. Supported vSphere versions and CPU platforms as of March 2024 \nvSphere version Broadwell Skylake Cascade Lake Cooper Lake Ice Lake Sapphire Rapids \nvSphere 7.0 U2 and later up to 8-socket wide VM \u2713 \u2713 \u2713 \u2713 \u2713  \nPMem Series 100 (vSphere 7)    \u2713    \nvSphere 8.0 U2 and later up to 2-socket wide VM   \u2713 \u2713 \u2713 \u2713 \nvSphere 8.0 U2 and later up to 4-socket wide VM   \u2713 \u2713  \u2713 \nvSphere 8.0 U2 and later up to 8-socket wide VM   \u2713 \u2713", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1482, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "687e5b25-8144-4ac4-868b-a8e18f2ffd6b": {"__data__": {"id_": "687e5b25-8144-4ac4-868b-a8e18f2ffd6b", "embedding": null, "metadata": {"page_label": "10", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7db2d1dd-0c52-4db7-91c9-66f044823976", "node_type": "4", "metadata": {"page_label": "10", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "fea7cdd034aa4701a7c1d7b3cc96a4f2c0ef51e150b959c2c7211a7c389eacd0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 10 \n vSphere maximums The following table summarizes the critical maximums of the different vSphere versions supported for SAP HANA. Table 3. vSphere memory and CPU SAP HANA relevant maximums per CPU generation as defined by SAP vSphere version SAP HANA maximum virtual memory Maximum CPUs for SAP HANA deployments CPU sockets for SAP HANA \nvSphere 7 U2 and later < 12TB with Cascade and Cooper Lake <= 448 vCPUs 0.5-, 1-, 2-, 3-, 4-, 5-, 6-, 7-, and 8-socket wide VMs vSphere 8 U2 and later < 4TB for Ice Lake and Sapphire Rapids 2-socket systems <= 240 vCPUs 0.5-, 1- and 2-socket wide VMs. SPR 2-socket hosts require SNC for half-socket VMs vSphere 8 U2 and later < 8TB for Sapphire Rapids <= 480 vCPUs 0.5-, 1-, 2-, 3-, and 4-socket wide VMs vSphere 8 U2 and later < 12TB with Cascade and Cooper Lake <= 448 vCPUs 0.5-, 1-, 2-, 3-, 4-, 5-, 6-, 7-, and 8-socket wide VMs  Note: These configurations may vary if smaller core count CPUs or different memory configurations are used and require an SAP HANA TDI/workload-based sizing. >8 socket Sapphire Rapids systems are in SAP HANA vSphere validation. \nRelease strategy VMware\u2019s SAP HANA certification and support strategies for vSphere are to support a single CPU generation or chipset with two versions of the hypervisor and to have a single hypervisor version span two CPU generations/chipsets.  VMware does its best to balance supporting new customers on the latest hardware and those on an older platform. You may still use vSphere 7 since this version is supported until April 2025. vSphere 8.0 Update 3 is the most recent available version, and we recommend using this version for all new SAP HANA deployments on vSphere. The end of general support for this version is April 2027.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1799, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "55dabf03-fee0-4f6b-9a19-c01f8720cc85": {"__data__": {"id_": "55dabf03-fee0-4f6b-9a19-c01f8720cc85", "embedding": null, "metadata": {"page_label": "11", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f37dc781-4f13-4d10-a1c4-f00d9c983df2", "node_type": "4", "metadata": {"page_label": "11", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "9da2b549876aae4d6713a89183230e51edcbe0448f989a8597ac21163fb36e52", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 11 \nTo directly show the ESXi versions: Set a filter for ESXi at the Product Release table heading, as shown in the following figure. Figure 1. Select the filter icon next to Product Release and type ESXi \n \nSupported vSphere and VMware Cloud Foundation offerings SAP HANA on vSphere is supported only with the following editions:  \u2022 VMware Cloud Foundation \u2022 vSphere Foundation vSphere Standard can also be used for smaller SAP application deployments. vSphere Essentials Plus supports Business One solutions. Make sure you are familiar with the feature, CPU, and host limitations of these products.  Notes: \u2022 We highly recommend VMware Cloud Foundation with bundled Select Support for strategic enterprise customers. \u2022 Per SAP Note 2652670: SAP HANA VM on VMware vSphere, usually all update and maintenance versions of vSphere hypervisors are automatically validated within the same boundary conditions. \u2022 This architecture reference guide and the involved test environment use only vSphere dvPortGroups to connect the SAP HANA nodes and non-SAP HANA DB / VM workloads. An upcoming version of this guide will include NSX-based vLANs or overlay segments. \u2022 For the latest SAP-released support information, refer to the SAP notes related to VMware.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1309, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5e5c9b33-a79b-476f-ba1c-720014db55bc": {"__data__": {"id_": "5e5c9b33-a79b-476f-ba1c-720014db55bc", "embedding": null, "metadata": {"page_label": "12", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "611393c2-a681-45af-83e7-6cb2187f62f8", "node_type": "4", "metadata": {"page_label": "12", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "d9b0c65ae86cbf373d6be8bf2936c3f9905e033603f29b847dcf8e316350c026", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 12 \nScalability and VM sizes SAP HANA on vSphere is supported on the smallest SAP HANA system, which is a half-socket CPU configuration with a minimum of 8 physical CPU cores and 128 GB of RAM, up to 8-socket large SAP HANA VMs with up to 12 TB of RAM. The CPU power and RAM required for SAP workloads on HANA must be sized appropriately. VMs larger than 4 sockets require an 8-socket host. 8-socket servers are an optimal consolidation platform and could, for instance, host two large 4-socket VMs, each with up to 6TB of memory, 16 half-socket VMs with up to 750GB memory, or one large 12TB SAP HANA VM. SAP supports VMware virtualized OLTP workloads up to 8TB for a 4-socket large SAP HANA VM and 12TB for an 8-socket large VM as standard sizes when selecting top-bin Intel CPUs. This standard sizing supports 50 % of the memory defined for OLTP-type workloads (for example, 3TB for 4-socket OLAP VMs or 6TB for 8-socket VMs). If additional memory is needed, you must do a workload-based SAP expert sizing. For more details, review SAP Note 2779240: Workload-based sizing for virtualized environments. Table 4 shows the current vSphere maximums per physical ESXi host. Table 4. vSphere physical host maximums (extract) Relevant Maximums ESXi 7.0 U2 and later ESXi 8.0 U1 and later Logical CPUs per host 896 960 VMs per host 1,024 Virtual CPUs per host 4,096 Virtual CPUs per core 32 RAM per host 24TB NUMA nodes/CPU sockets per host 16 (SAP HANA only 8-CPU socket hosts / HW partitions)  Note: ESXi hosts with up to 8 physical CPUs are supported. If larger 8-socket systems are required, contact your SAP or VMware account team and discuss deployment alternatives, such as scale-out or memory-tier solutions. Also note the support limitations when using 8-socket or larger hosts with node controllers (also known as glued-architecture systems or partially QPI meshed systems).  The following table shows the maximum size of a vSphere VM and some other relevant parameters, such as virtual disk size and the number of virtual NICs per VM. These VM limits are higher than the SAP HANA\u2013supported configurations.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2172, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0a8c4276-6098-48a3-b4c9-cf9877a608da": {"__data__": {"id_": "0a8c4276-6098-48a3-b4c9-cf9877a608da", "embedding": null, "metadata": {"page_label": "13", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "603b6f5c-74cb-4151-b57b-69d4a16b0fec", "node_type": "4", "metadata": {"page_label": "13", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "5339b83f92e771edafb097202c6a2f080dbda90916fe4206c0b687322b62d08b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 13 \nTable 5. vSphere guest VM maximums (extract) Maximums ESXi 7.0 U2 and later ESXi 8.0 U1 and later Virtual VM hardware version [1] 19 21 Virtual CPUs per VM  Up to 768 RAM per VM Up to 24TB CPU sockets per SAP HANA VM <= 8 RAM per SAP HANA VM <= 12TB Virtual SCSI adapters per VM 4 Virtual NVMe adapters per VM 4 Virtual disk size 62TB Virtual NICs per VM 10 Persistent Memory per SAP HANA VM <= 12TB Not supported \u00db [1] Review the Hardware Features Available with Virtual Machine Compatibility Settings web page for a detailed list of the guest hardware capacities. You must use hardware version 21 for VMs on (or migrated to) Sapphire Rapids hosts. \nDeployment options and considerations Reference architecture diagram The following figure shows an overview of a typical VMware software-defined data center (SDDC) for SAP applications. At the center of a VMware SDDC is VMware Cloud Foundation, which includes vSphere, vSAN, and NSX. VCF has VI Workload Domains\u2014each Workload Domain is a logical unit of application-ready infrastructure that groups ESXi hosts managed by a vCenter Server instance with specific characteristics according to VMware recommended practices.   The figure shows the preferred VCF design for non-SAP HANA database VMs and SAP HANA with separate VCF VI Workload Domains. (You can include an optional, isolated VI Workload Domain.) Each VI Workload Domain has a dedicated NSX Manager cluster to provide the benefits of flexible lifecycle management, which includes the option to run different VCF software stack versions across the different VI Workload Domains. A VI Workload Domain can consist of one or more vSphere clusters provisioned by the SDDC Manager. The red and blue VI Workload Domains are examples of SAP HANA Workload Domains with different storage types. The grey VI Workload Domain is an example of mixed SAP and non-SAP application Workload Domains with different SLAs/requirements, like ESXi hosts that are not SAP HANA-certified.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2038, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "eb8fb177-8f54-47f0-a7f5-91089dcc9d70": {"__data__": {"id_": "eb8fb177-8f54-47f0-a7f5-91089dcc9d70", "embedding": null, "metadata": {"page_label": "14", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "93ceda28-c6a9-4e98-9230-2ef4d4289b3a", "node_type": "4", "metadata": {"page_label": "14", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "9d55a746392e1bbe373c051c088bc07dac744255660272e63b0aa233af6bcde8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 14 \nFigure 2. VMware Cloud Foundation for SAP applications \n The next table provides an overview of the different Workload Domain types (WLDs) and how best to leverage these for SAP and non-SAP VMs/applications. A VI Workload Domain (VI WLD) shares a vCenter single sign-on domain and the identity provider configuration with the Management Domain. You can manage all VI WLDs through a single pane of glass. A VI WLD can share an NSX Manager instance with other VI WLDs. We recommend a dedicated NSX Manager per VI WLD for easier and more flexible lifecycle management. Small and medium SAP deployments could consolidate SAP HANA and non-SAP HANA database VM workloads into a single VCF VI WLD with one or more vSphere cluster configurations to reduce the required hardware footprint, but this would lose the lifecycle management flexibility between different SAP workloads.  Larger deployments with SAP HANA systems with different operation, hardware, and SLA requirements should not share a VI WLD/cluster with non-SAP HANA VMs. Running these VMs in a dedicated SAP HANA VI WLD/cluster eases lifecycle management and ensures the correct cluster-wide settings for features like HA, DRS, and EVC.  An isolated VI WLD is another option for a distinct vCenter single sign-on domain; this requires an identity provider configuration. VI WLDs of this type cannot yet share an NSX Manager instance with other VI WLDs and, therefore, need a dedicated NSX Manager instance. This allows the independent lifecycle management of isolated VI WLDs and is recommended when strict isolation of user and business data is required.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1676, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "168029fe-db58-4b40-a469-58bb39529ad4": {"__data__": {"id_": "168029fe-db58-4b40-a469-58bb39529ad4", "embedding": null, "metadata": {"page_label": "15", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "045e0363-71ef-4507-90e5-65e50e6d1c96", "node_type": "4", "metadata": {"page_label": "15", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "d59bf42c8ddb1a688e7adef34a827d4110745f50f5848b1b06858c2032d93020", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 15 \nSmall SAP deployments could leverage the consolidated VCF architecture model, which consolidates the VCF Management components (vCenter, NSX Manager, and SDDC Manager) and all SAP workloads (non-SAP HANA database VMs and SAP HANA) with the lowest possible hardware footprint, but this loses the lifecycle management flexibility between the VCF Management Domain and the VI WLD running the different SAP workloads. If you want to deploy SAP HANA production-level VMs in a consolidated WLD, you must ensure these SAP HANA VMs run on SAP HANA TDI-supported systems and do not share a NUMA node with a non-SAP HANA VM. We advise configuring dedicated vSphere clusters to manage VCF VMs and workload VMs. For a consolidated WLD, we recommend separate cluster-wide settings for management and SAP NetWeaver/SAP HANA hosts.  Note: Every vSphere cluster requires at least 2 embedded vCLS VMs or 3 external vCLS VMs. A cluster allows different cluster-wide settings; however, we recommend you add non-SAP HANA hosts to an SAP HANA cluster to offload the vCLS VMs.\t\tTable 6. VMware Cloud Foundation Management and VI Workload Domain types and use cases VCF Management Domain First domain deployed, runs on dedicated ESXi hosts  (min. 4) Contains the following management appliances for all Workload Domains: \u2022 vCenter Server \u2022 NSX Manager \u2022 SDDC Manager \u2022 Optional: VMware Aria Suite components, Management Domain NSX Edge nodes The VI WLD vCenter and NSX Manager VMs are installed on the Management Domain hosts. Depending on the Workload Domain type, you can scale from 14 to 24 VI WLDs. A total of 1000 ESXi hosts are supported per VCF instance following the VCF standard architecture, where a single VI WLD can scale up to 800 ESXi hosts and up to 4000 registered VMs. A single VCF instance can have multiple availability zones (a stretched deployment).", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1912, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f5f475ab-9c04-48e3-8d9d-51d37945ad46": {"__data__": {"id_": "f5f475ab-9c04-48e3-8d9d-51d37945ad46", "embedding": null, "metadata": {"page_label": "16", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e37f34b7-2894-4a1a-82f8-0b6486d094f3", "node_type": "4", "metadata": {"page_label": "16", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "1237ba129cb4562360e7dbc58789ea5bd1681672620862d664dd6f57fa3bc289", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 16 \nConsolidated VCF SAP Domain Represents a Management Domain that also runs customer workloads. It's limited to 100 hosts per consolidated VI WLD. Uses resource pools to ensure sufficient resources for management components. Considers the minimum possible initial hardware and management component footprint (min. 4 hosts). Only with vSAN and SAP HANA HCI certified hosts and the listed configurations for CPU, memory, and storage. Can be scaled to a standard architecture model. Management components and customer workloads are not isolated. SAP HANA production-level workloads must not run on the hosts that run the management components or non-SAP HANA VMs. This is an option for small deployments or test and dev environments. Add HANA dedicated hosts as required if you want to deploy production-level SAP HANA VMs. \n \nSAP/SAP HANA VI Workload Domain Represents an additional Workload Domain for running customer workloads. Can scale up to 14 VI Workload Domains per VCF instance. Shares a vCenter single sign-on domain and the identity provider configuration with the Management Domain. All Workload Domains can be managed through a single pane of glass. Can share an NSX Manager instance with other VI Workload Domains. A dedicated NSX Manager per VI WLD is recommended for easier lifecycle management. Allows for independent life cycle management of the different VI WLDs. This Workload Domain type cannot provide distinct vCenter single sign-on domains for customer workloads. For this, an isolated VI WLD is required. If SAP applications are deployed, only SAP-supported hosts can be used. SAP HANA hosts must also be SAP HANA TDI-supported systems and are limited to 2-, 4-, or 8-socket ESXi hosts with validated Intel CPUs. This Workload Domain type cannot provide distinct vCenter single sign-on domains for customer workloads. For this, an isolated VI WLD is required.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1945, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1be57a80-20a3-4fcc-9341-1613efb0ab3a": {"__data__": {"id_": "1be57a80-20a3-4fcc-9341-1613efb0ab3a", "embedding": null, "metadata": {"page_label": "17", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4247131f-f0bc-4f9b-8625-c3b2fdacb4a3", "node_type": "4", "metadata": {"page_label": "17", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "053d554b42a7cc329e7a6b0b05e7a650434a8eb882b5810434639164d3a27bf0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 17 \nIf SAP applications are deployed, then only SAP-supported hosts can be used. SAP HANA hosts must also be SAP HANA TDI supported systems and are limited to 2-, 4- and 8-socket ESXi hosts with validated Intel CPUs. VM maximum host size: \u2264 12TB and 480 vCPUs per single SAP HANA scale-up VM. The smallest size is 0.5 socket with 128GB RAM. Scale-out deployment: VM must be \u2265 4 sockets, maximum 8 sockets, VM vRAM up to 6TB per VM depending on the use. Maximum 8 hosts + HA for a total size of 48TB. For shared ESXi or VM connected SAN or NAS storage w/o vVOLs, the storage must meet HANA KPIs. HCI certified hosts are required when vSAN is used. SAN or NAS deployments require min. 2 hosts; vSAN systems require min. 3 hosts. SAP NetWeaver and SAP HANA hosts can run consolidated in a VI WLD if the same SLAs and lifecycle management requirements exist. If not, then use dedicated VI WLDs for SAP HANA and NetWeaver or AnyApp. SAP/SAP HANA Isolated VI WLD Represents an additional Workload Domain for running customer workloads. Can scale up to 24 VI Workload Domains per VCF instance Has a distinct vCenter single sign-on domain and identity provider configuration. Workload domain vCenter Server instances are managed through different panes of glass. Can provide distinct vCenter single sign-on domains for customer workloads. Workload domains of this type cannot share an NSX Manager instance with other VI Workload Domains. Allows for independent life cycle management of the isolated VI WLDs and is the recommended option when a strict isolation of user and business data is required. If SAP applications are deployed, then only SAP-supported hosts can be used. SAP HANA hosts must also be SAP HANA TDI supported systems and are limited to 2-, 4-, and 8-socket ESXi hosts with validated Intel CPUs.  VM maximum host size: \u2264 12TB and 480 vCPUs per single SAP HANA scale-up VM. Smallest size is 0.5 socket with 128GB RAM.  Scale-out deployment: VM must be \u2265 4 sockets, maximum 8 sockets, VM vRAM up to 6TB per VM depending on the use. Maximum 8 hosts + HA for a total size of 48TB.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2147, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8e577a27-23a5-4778-99e4-997cceb47ada": {"__data__": {"id_": "8e577a27-23a5-4778-99e4-997cceb47ada", "embedding": null, "metadata": {"page_label": "18", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "60a80aa1-1f98-4b29-90c9-69771ac56efe", "node_type": "4", "metadata": {"page_label": "18", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "875bc72643b6843c72801f7dadf0c43b033121ea626b682b768fa15b261bcce3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 18 \nFor shared ESXi or VM-connected SAN or NAS storage w/o vVOLs, the storage must meet HANA KPIs. HCI certified hosts are required when vSAN is used.  SAP NetWeaver and SAP HANA hosts can run consolidated in a VI WLD if the same SLAs and lifecycle management requitements exist. If not, then use dedicated VI WLDs for SAP HANA and NetWeaver or AnyApp.  Depending on the Workload Domain type, you can scale from 14 (ELM) to 24 (isolated) VI WLDs. Refer to Maximums and Configuration Limitations, VCF Deployment Options (for example, deployments in multiple availability zones), and vSphere Design for VMware Cloud Foundation. In total, 1000 ESXi hosts are supported per VCF instance following the VCF standard architecture, where a single VI WLD can scale up to 800 ESXi hosts and up to 4000 registered VMs.  As shown in the figure and table above, the VI WLD vCenter and the NSX Manager VMs are installed in the VCF Management Domain among the vCenter and the NSX Manager VMs to manage the VCF Management Domain.  Review the Maximums and configuration limitations and VCF Deployment Options (for example, deployments in multiple availability zones for configuration details). As previously explained, virtualized SAP HANA systems are currently supported on VMware vSphere with up to 448 vCPUs and 12 TB RAM per VM on Intel Cascade / Cooper Lake and with up to 480 vCPUs and 8 TB on Intel Sapphire Rapids systems; the vSphere 7.0 U2 and vSphere 8.0 U1 VM guest limits are 768 vCPUs and 24 TB per VM. Only the ESXi host systems shown in table 2 are validated on SAP HANA. Note: The following may limit the maximum number of vCPUs and vRAM available for a VM:\t \u2022 The selected CPU type \u2022 The virtualized SAP HANA workload type (OLTP or OLAP) \u2022 An\tSAP HANA use case of network-heavy\tOLTP workloads with thousands of concurrent users, which may be required to reserve CPU threads to handle such an intensive network load. \u2022 The implemented design options in VCF, like vSAN or NSX networking and security features, will reduce the available memory per SAP HANA VM. Larger SAP HANA systems can leverage SAP HANA extension nodes or be deployed as SAP HANA scale-out configurations. In a scale-out configuration, up to 16 nodes (more upon SAP approval) work together to provide larger memory configurations. A scale-out SAP HANA node\u2019s memory size depends on the selected CPU generation, and 4- or 8-socket systems with memory sizes per host and up to 6TB can be chosen. Refer to the relevant SAP Notes (3102813 and 3372365) for detailed information on supported host configurations. In addition, the SAP HANA on vSphere SAP Help Portal page provides an overview of supported configurations and is a good starting point.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2772, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "44554d05-8173-4678-af1c-9fa5742db362": {"__data__": {"id_": "44554d05-8173-4678-af1c-9fa5742db362", "embedding": null, "metadata": {"page_label": "19", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ac5daf6a-8557-4e7f-8f2b-04ad39aad244", "node_type": "4", "metadata": {"page_label": "19", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e526f2fdd28eedd849670ab8080ebc380f942a8a1d4af5f3ae48a988a8560c16", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 19 \nAn SAP HANA system deployed on a VMware SDDC based on VMware Cloud Foundation can be easily automated and operated by leveraging VMware Aria products. SAP HANA or hardware-specific management packs allow a top-to-bottom view of a virtualized SAP HANA environment, where an AI-based algorithm allows the operation of SAP HANA in a nearly automated approach, optimizing performance and availability. A tight integration with SAP Landscape Management Automation Manager via the VMware Adapter for SAP Landscape Management helps to cut down operation costs even further by automating work-intensive SAP management and operation tasks. An SAP HANA system deployed in VMware Cloud Foundation allows you to adopt cloud-like virtual networking with NSX overlay segments, and it protects your business-critical SAP workloads with the NSX Distributed Firewall (DFW). Note: This reference guide does not include the adoption of NSX vLAN, overlay segments, and NSX Distributed Firewall (DFW). These NSX deployment options require additional consideration and are currently out of the scope of this document. In addition to SAP HANA, most SAP applications and databases can be virtualized and are fully supported for production workloads. Each SAP workload can run on its own ESXi host, or multiple SAP workloads/VMs can be consolidated on a single ESXi host. Virtualizing all aspects of an SAP data center is the best way to plan for quick growth and easily move to a cloud-based infrastructure. SAP applications can also run in a true hybrid mode, where the most important SAP systems still run in the local data center and less critical systems run in the cloud. \nSAP HANA on VCF deployment options and sizes You can install SAP HANA on SAP-supported vSphere versions and validated CPU generations as scale-up and scale-out deployments on a single large VM or on multiple SAP HANA VMs on a single ESXi host. You may use only 2-, 4-, and 8-CPU socket VMware and SAP-supported or certified systems for SAP HANA production-level systems. SAP HANA tenant databases (MDC) can run inside a VMware VM (see SAP Note 2104291, FAQ doc, page 2). Running SAP HANA VMs next to non-SAP HANA VMs, such as vSphere management VMs or SAP application servers, is also supported when these VMs run on different CPU sockets or when an SAP HANA and SAP NetWeaver AS (ABAP or Java) run in one VM (see SAP Notes 1953429 and 2043509). The following table shows the supported host configurations for SAP HANA on vSphere and the deployment options for both single-tenant and multi-tenant SAP HANA instances on vSphere. It also gives guidelines for the standard memory sizes that SAP and VMware support based on the current SAP-defined memory limits for the top-bin Intel CPUs listed as certified appliance configurations. The examples show the SAP-selected, top-bin CPUs with the maximum core count and memory support available for SAP HANA workloads. Refer to the SAP HANA Certified and Supported SAP HANA Hardware directory for details. Lower-bin CPUs or other CPU families may have different SAP HANA-supported memory configurations. As mentioned, deviating from these memory configurations is possible when an SAP HANA expert workload-based sizing is performed.  Note: The maximum available memory for a virtualized SAP HANA system is limited to the maximum memory tested with vSphere, which is currently 12TB per single scale-up VM or 48TB with scale-out deployments.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3500, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0c2c5ab7-7a4c-47f0-a071-a8f50678aa20": {"__data__": {"id_": "0c2c5ab7-7a4c-47f0-a071-a8f50678aa20", "embedding": null, "metadata": {"page_label": "20", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "974ee13a-350b-4f28-a3c1-d080a1fc27f4", "node_type": "4", "metadata": {"page_label": "20", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "8e2d0544461542181067a4894b827f2fd325a5dfaaf0a21a18c76ad5c82fcd54", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 20 \nLegend: \n Table 7. Overview of SAP HANA on vSphere deployment options and possible VM sizes 2-socket host examples  \n \n  \nvSphere 7.0 supported CPU generations: \u2022 Broadwell \u2022 Skylake, Cascade Lake, and Cooper Lake \u2022 Ice Lake  vSphere 8.0 supported CPU generations: \u2022 Cascade Lake and Cooper Lake \u2022 Ice Lake \u2022 Sapphire Rapids (half-socket support only with SNC)  VM sizes: 0.5, 1, 2-socket wide VMs on 2-socket hosts with a minimum of 8 vCPUs and 128 GB vRAM and up to 240 vCPUs and >4 TB (SAP HANA standard memory size) with Ice Lake and Sapphire Rapids, 3 TB (standard) or larger memory sized based on a workload-based sizing possible with Cascade or Cooper Lake. Recommended network configuration per host (dual-NIC port configuration): \u2022 1GbE IPMI, 1 GbE ESXi Management network \u2022 >= 10GbE vMotion / HA \u2022 >= 10GbE HANA to App Server network \u2022 Plus optional networks like those for backup or replication  4-socket host example  vSphere 7.0 supported CPU generations: \u2022 Broadwell \u2022 Skylake, Cascade Lake, and Cooper Lake  vSphere 8.0 supported CPU generations: \u2022 Cascade Lake and Cooper Lake  \u2022 Sapphire Rapids VM sizes: 0.5, 1, 2, 3 and 4-socket wide VMs on 4-socket hosts with minimal 8 vCPUs and 128 GB vRAM and up to 224 vCPUs and >6 TB (SAP HANA standard", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1325, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "acc98e35-cac7-47d3-91e5-ee7eaa80ab87": {"__data__": {"id_": "acc98e35-cac7-47d3-91e5-ee7eaa80ab87", "embedding": null, "metadata": {"page_label": "21", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "334cf420-2348-4a23-97eb-9f5d36e78f06", "node_type": "4", "metadata": {"page_label": "21", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "75a7fa6fddf9a9e59b79f0021c8d87132386f2f761f57e72611bfad17f086888", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 21 \nmemory size) with Cascade and Cooper Lake. Larger memory sizes based on a workload-based sizing is possible. Recommended network configuration per host (dual-NIC port configuration): \u2022 1GbE IPMI, 1GbE ESXi Management network \u2022 >= 25GbE vMotion / HA \u2022 >= 10GbE HANA to App Server network \u2022 Plus optional networks like those for backup or replication 8-socket host examples \n \nvSphere 7.0 supported CPU generations: \u2022 Broadwell \u2022 Skylake, Cascade Lake, and Cooper Lake vSphere 8.0 supported CPU generations: \u2022 Cascade Lake and Cooper Lake \u2022 Sapphire Rapids is not currently available on 8-socket hosts, but is undergoing the validation process  VM sizes: 0.5, 1, 2, 3, 4, 5, 6, 7 and 8-socket wide VMs on 8-socket hosts with minimal 8 vCPUs and 128 GB vRAM and up to 448 vCPUs and >12 TB (SAP HANA standard memory size) with Cascade and Cooper Lake. Note: 6-socket ESXi host configurations are supported as well. Recommended network configuration per host (dual-NIC port configuration): \u2022 1GbE IPMI, 1GbE ESXi management network \u2022 >= 25GbE vMotion / HA \u2022 >= 10GbE HANA to App Server network \u2022 Plus optional networks like those for backup or replication SAP HANA half-socket VM support on 2-socket Sapphire Raids hosts requires Intel sub-NUMA Clustering (SNC-2) due to higher\tmeasured deviations while running\ttwo SAP VMs on 2-socket Sapphire Rapids hosts. However, 4-socket Sapphire Rapids systems support half-socket SAP HANA VMs without requiring SNC-2. You can deploy two SAP HANA VMs, as in previous CPU generations. SAP HANA half-socket VM support on non-SNC 2-socket Sapphire Rapids hosts or >2-socket Sapphire Rapids systems are not yet supported.  NUMA node/CPU sharing half-socket VMs are supported up to Ice Lake CPUs with vSphere 7 and, where applicable, with vSphere 8.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1844, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6af53963-f330-49e4-a687-7d486de0542c": {"__data__": {"id_": "6af53963-f330-49e4-a687-7d486de0542c", "embedding": null, "metadata": {"page_label": "22", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a7c57881-cac6-4466-8a0f-5ceb8e6a3008", "node_type": "4", "metadata": {"page_label": "22", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "699d83591db024b925fdbb293372ccc6dbfd62e98f561d0df567305a0705604b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 22 \nIntel sub-NUMA clustering (SNC-2) support and deployment options Support for SNC-2 Support for SNC-2 in SAP HANA considers the increasing density of processors, memory controllers, processor interconnects, and supporting infrastructure within a single chip as the CPU size decreases. Increasing the number of CPU cores and, consequently, CPU performance is advantageous for users. However, this increased density is associated with a longer data transfer time between different parts of the CPU chip. The process of accessing the memory within a CPU is facilitated by a uniform memory access (UMA) domain, which offers a unified and contiguous address space that is interleaved among all the memory controllers. UMA lacks a mechanism for optimizing data flow from the closest available resources. Processor affinity is typically employed to specify the processor(s) that a particular software thread utilizes. Consequently, in a Uniform Memory Access (UMA) system, all cores have equal access to the last level cache and memory. In this scenario, a processor might access a memory controller or a portion of the last level cache located on the opposite side of the CPU chip compared to the nearest. Accessing and moving data within a CPU chip takes longer, and the memory subsystem is used more than before. This is clear when you compare the latest Sapphire Rapids CPUs to Cascade Lake CPUs. In this case, the number of CPU cores and memory controllers doubled (from 2 to 4 memory controllers) or slightly more than doubled (from 28 to 60 cores), but the number of memory channels only went up by 33.33%. The Sapphire Rapids platform has a faster memory bandwidth (MT/s), but this means that more CPU threads need to share a memory channel. DDR5 memory modules also have a longer CAS latency than DDR4 modules. CAS latency is a timing parameter that measures the delay between a memory controller sending a request for data and the memory module responding with the requested data. A longer CAS latency leads to bigger differences when memory-sensitive applications are used, for example, when two SAP HANA VMs share a NUMA node or CPU socket. A Sapphire Rapids CPU performs much better than a Cascade Lake CPU. This includes half-socket deployments.  However, there are more fluctuations when running several SAP HANA VMs on a socket. Because of these fluctuations, SAP does not support half-socket deployments for Sapphire Rapids CPUs. The following table shows this. It also shows a Sapphire Rapids CPU's theoretical available memory channels per CPU core.  The table doesn't reflect the change in increased memory speed. It only shows that the available memory channels are more utilized because of the increased CPU core count per chip and the higher CAS latencies when first accessing data stored in memory.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2879, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0c3c40db-ded2-4a17-8410-a20d3da1d3f5": {"__data__": {"id_": "0c3c40db-ded2-4a17-8410-a20d3da1d3f5", "embedding": null, "metadata": {"page_label": "23", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3afd1d68-5450-4529-abbb-81fee2b3a04f", "node_type": "4", "metadata": {"page_label": "23", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "ad0322c5a53b292cb9b6707bc4aac9a5b3c03cc4367e29b6f0cd584282bbd0b2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 23 \nTable 8. Overview of CPU memory channels and CAS latency of selected SAP HANA-relevant CPUs \nCPU Cores # of memory controllers Max # of memory channels Core/channel ratio DDR type Percentage change Typical CAS latency [1] Percentage change Intel Xeon Platinum 8280 Processor \"Cascade Lake\"  28 2 6 4,667 4 0% 21 0% \nIntel Xeon Platinum 8380 Processor  \"Ice Lake\"  40 4 8 5,000 4 7% 22 5% \nIntel Xeon Platinum 8490H Processor \"Sapphire Rapids\" 60 4 8 7,500 5 61% 40 90% \n\u00db [1] For more information, refer to this article: The difference between RAM speed and CAS latency. The number of memory channels refers to the bandwidth operation for the real-world application. (After following the hyperlink, click on (?) at Max # of Memory Channels.) Intel introduced sub-NUMA clusters (SNC) to decrease the latency of data movements across the CPU. Sapphire Rapids CPUs support SNC-2 and SNC-4, but SAP HANA vSphere VMs support only SNC-2 on 2-socket host configurations. Two localization domains exist within a processor in a two-cluster SNC (SNC-2). Each domain has addresses mapped from the local memory controller and local Last Level Cache (LLC) slices. Processors in the local domain will use the local memory controller and local LLC slices. This means that LLC and memory accesses in the local domain will have lower latency than accesses to locations outside the same SNC domain. SNC has a unique location for every address in the LLC, and it is never duplicated within the LLC banks. Localization of addresses within the LLC for each SNC domain applies only to addresses mapped to the memory controllers in the same socket. All addresses mapped to memory on remote sockets are uniformly distributed across all LLC banks independent of the SNC mode. Therefore, even in the SNC mode, the entire LLC capacity on the socket is available to each core, and the LLC capacity reported through the CPUID is not affected by the SNC mode.  Refer to figure 2 \u2013 \"Block Diagram Representing Domains Of sub-NUMA With Two Clusters\" and figure 3 \"\u2013 Block Diagram Representing Domains Of sub-NUMA With Four Clusters\" on the Intel product webpage, which shows the block diagrams of a sub-NUMA node enabled CPU. Figure 2 represents a two-cluster configuration. This is the SAP-supported SAP HANA on vSphere configuration consisting of SNC Domains 0 and 1 and their associated cores, LLCs, and memory controllers. Each SNC-2 domain contains half of the processors on the socket, half of the LLC banks, and half of the memory controllers with its associated DDR channels, limiting a VM to these resources.  According to Intel, the affinity of cores, LLC, and memory within a domain are expressed via software using the NUMA affinity parameters in the operating system. Note: SNC is enabled at the BIOS level and requires that the memory be symmetrically populated.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2909, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8cb07cc5-8828-4ee7-80d1-bc11abfe3967": {"__data__": {"id_": "8cb07cc5-8828-4ee7-80d1-bc11abfe3967", "embedding": null, "metadata": {"page_label": "24", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9ea4203c-818f-4785-8e3b-3dbdb2e69452", "node_type": "4", "metadata": {"page_label": "24", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "2cc33f8c259ea3d58e3f0152e4378ca66a89c5a1cda83f7a120a20a6b3494516", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 24 \nWhen SNC-2 is used for SAP vSphere VMs on 2-socket Sapphire Rapids, then we advise that either all hosts in a Sapphire Rapids vSphere cluster are SNC-2 enabled or that a VM host rule is applied to ensure that the SNC-2-enabled VMs do not get migrated or started on non-SNC-enabled hosts.  \nSNC-2 supported deployment examples SAP HANA and SAP Application servers are supported by SAP and VMware with SNC-2 only on 2-socket Sapphire Rapids servers with vSphere 8 and can be leveraged as described in the table below.  Important: SAP and VMware don't support any other configurations for SAP HANA and SAP application deployments. They only support non-SNC-2 configurations as full-socket VM configurations. The SAP HANA reference architecture for 2-socket Intel Xeon Platinum 8490H Processor Sapphire Rapids\u2013based systems defines a 60-core Sapphire Rapids CPU to support up to 2TB of memory (4TB in total per 2-socket Sapphire Rapids host) according to SAP HANA appliance sizing. Different memory sizes and lower core count CPUs, like a 32- or 48-core Sapphire Rapids CPU, can also be used, but they require SAP application/workload sizing. Note: The following configuration options for\trunning SAP HANA on vSphere are not supported on bare metal servers enabled for SNC. Sapphire Rapids 4-socket hosts support half-socket deployments without SNC-2. Therefore, the following table isn't relevant for >2-socket Sapphire Rapids hosts. It only applies to 2-socket Sapphire Rapid hosts. Legend:", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1553, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2017bd80-cbdd-4c47-bae0-49d3e84201e1": {"__data__": {"id_": "2017bd80-cbdd-4c47-bae0-49d3e84201e1", "embedding": null, "metadata": {"page_label": "25", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ce88c7ba-579f-4c1e-972e-05c03e90988a", "node_type": "4", "metadata": {"page_label": "25", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e2d3cd61c228cd56e7c0c78186b785f9eeadc2a549c456b6fbacaf525067b641", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 25 \nTable 9. SAP HANA\u2013supported SNC-2 configurations Option 1: 2 VMs per NUMA node, 4 VMs in total per ESXi host VM size is based on the SAP HANA reference configuration for 2-socket Sapphire Rapids systems: \u2022 4 VMs with <=60 vCPUs, <1 TB vRAM, and 1 vSocket     \nOption 1 shows 4 SAP HANA VMs running on an SNC-2 enabled host.  Each VM operates on a sub-NUMA node that is fully isolated, providing exclusive access to all available CPU resources. This configuration replaces the NUMA node sharing half-socket configuration seen in older CPU generations running SAP HANA VMs shared on a CPU. The benefit lies in the dedicated CPU resources separated by SNC, eliminating resource sharing between VMs as seen without SNC. This full isolation and shorter distance from a CPU thread to memory offer the best possible performance per VM when 4 VMs run on a host. Additionally, SAP supports, with SNC, the deployment of non-SAP HANA VMs on another sub-NUMA node on the same physical CPU socket. This was not supported in the past, allowing VMs for infrastructure management (such as vCLS VMs) or SAP application servers to be co-deployed with SAP HANA VMs on the same CPU socket. Attention: The drawback of an SNC-divided CPU is that VMs sharing a CPU socket, as in the past, cannot utilize idle resources not used by a co-deployed VM. This may result in lower peak performance due to the split of CPU resources compared to a non-SNC configuration. However, in an SAP environment with its strict sizing rules, this drawback is not significant, and the benefits of lower latencies and more predictable performance outweigh it. Option 2: 1 VM per NUMA node, 2 VMs in total per ESXi host VM size is based on the SAP HANA reference configuration for 2-socket Sapphire Rapids systems: \u2022 2 VMs with <=120 vCPUs, <2 TB vRAM and 2 vSockets     \nOption 2 shows 2 SAP HANA VMs running on an SNC-2 enabled host.  SAP supports expanding an SAP HANA VM across two sub-NUMA nodes to utilize a full CPU socket. This is analogous to when a single CPU socket VM spans two CPU sockets on an older CPU generation. SAP HANA is NUMA-aware and optimizes memory access based on memory latencies. This allows a user to scale up an SAP HANA \"half-socket\" VM to occupy a full physical CPU socket, without the need to migrate a VM to a non-SNC host, which remains an option and may be the preferred solution due to the SNC-based CPU limitations. Attention: Be aware that leveraging two SNC-2 NUMA nodes to allocate more memory or CPU resources to this VM may result in lower performance compared to a single CPU socket VM running on a non-SNC-2 enabled host. If you observe this performance, then this VM must be migrated to a non-SNC configured host, because SAP (not VMware) can address this issue in their software. In approximately 3% of all tested cases, we observed a negative impact related to SNC-2 on a 2-sub-NUMA Node-wide VM compared to a 1-NUMA Node SAP HANA VM (without SNC-2) when transactions had to leverage more CPU threads or memory that crossed the sub-NUMA node boundary. The impact we measured ranged between 5% and 23% for runtime or throughput. The positive impact, when a task stayed inside the sub-NUMA node, was not measured.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3279, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ad06cbc0-abe9-49ae-bc9c-be1bd21bc53a": {"__data__": {"id_": "ad06cbc0-abe9-49ae-bc9c-be1bd21bc53a", "embedding": null, "metadata": {"page_label": "26", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d5e5d9ce-45bd-45fc-b6de-daeaa4f94458", "node_type": "4", "metadata": {"page_label": "26", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e4840e1a4093222c77ec355206963ed41a6f63267df3dbac70ad08d7d454605c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 26 \nOption 3: 1 VM across two NUMA nodes/physical CPU sockets VM size is based on the SAP HANA reference configuration for 2-socket Sapphire Rapids systems: \u2022 1 VM with <=240 vCPUs, <4 TB vRAM and 4 vSockets          \nOption 3 shows a 4-SNC 2-node wide single SAP HANA VM running on an SNC-2 enabled host.  On an SNC-2 enabled 2-socket SAP HANA host, SAP supports spanning an SAP HANA VM across 4-SNC 2 nodes. In this configuration, SAP HANA detects a '4 NUMA node' server and attempts to optimize memory latency based on NUMA locality. This capability allows a user to scale up an SAP HANA VM to the maximum size of a 2-socket Sapphire Rapids server, as specified in the SAP HANA reference architecture, which can accommodate up to 240 logical CPUs with <4 TB of memory per host. When an SAP HANA VM requires all CPU resources of a host, we recommend you migrate this VM to a non-SNC host. Attention: Be aware that leveraging four SNC-2 sub-NUMA nodes may result in lower performance compared to a two NUMA node wide VM running on a non-SNC-2 enabled host. If you observe this performance degradation, then this VM must be migrated to a non-SNC configured host, because SAP (not VMware) can address this issue in their software. In approximately 4% of all tested cases, we observed a negative impact related to SNC-2 on a 4 sub-NUMA node wide VM compared to a 2 NUMA node wide SAP HANA VM (without SNC-2) when transactions had to leverage more CPU threads or memory that crossed the sub-NUMA node boundary. The impact we measured ranged between 5% and 14% for runtime or throughput. The positive impact, when a task stayed inside the sub-NUMA node, was not measured. Option 4: 1 VM across two NUMA nodes/ physical CPU sockets VM size is based on the SAP HANA reference configuration for 2-socket SPR systems: \u2022 1 VM with <=120 vCPUs, <2 TB vRAM and 2 vSockets \u2022 2 VM with <=60 vCPUs, <1 TB vRAM and 1 vSocket       \nOption 4 shows a supported configuration with 3 SAP HANA VMs, two single SNC-2 wide VMs and one VM spanning two SNC nodes. This option is the last supported configuration.  Attention: Be aware that leveraging four SNC-2 sub-NUMA nodes may result in lower performance compared to a two NUMA node wide VM running on a non-SNC-2 enabled host. If you observe this performance degradation, then this VM must be migrated to a non-SNC configured host, because SAP (not VMware) can address this issue in their software.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2489, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "409b9130-07d2-4682-b4ec-63b7a85b29c5": {"__data__": {"id_": "409b9130-07d2-4682-b4ec-63b7a85b29c5", "embedding": null, "metadata": {"page_label": "27", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "430b42b6-22c0-4fdc-b042-861a90102908", "node_type": "4", "metadata": {"page_label": "27", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "d393eeed09b4929c50e76269062e5951552b56af7cea937d20adbbcea0db12c6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 27 \nOption 5: No support for NUMA node / sockets crossing SNC-2 VMs      \nNot supported for SAP HANA VM deployments. \nOption 6: No support for NUMA node / sockets crossing SNC-2 VMs     \nNot supported for SAP HANA VM deployments. \nImportant: Due to the lower memory bandwidth associated with an SNC-NUMA node, we recommend primarily using SNC-2 for half-socket VMs. If SAP HANA VMs running on SNC-2-enabled hosts experience performance issues, they should be migrated to a non-SNC-enabled host. All VMs that leverage SNC-2 require the VMX advanced parameter sched.nodeX.affinity=\"Y\" to prevent unwanted NUMA node migrations. If an SAP HANA VM running on an SNC-2-enabled host shows performance issues, migrate the VM to a whole socket non-SNC-enabled host as part of the troubleshooting. Recommended: Build a vSphere cluster based on the same CPU model and generation. This allows for easy VM migration.  When you deploy SNC-2-enabled Sapphire Rapids systems, you must build a dedicated 2-socket SNC-2-enabled Sapphire Rapids cluster to ensure seamless VM migration. We don\u2019t recommend adding non-SNC-enabled hosts to this cluster. Review the \"SNC-2 management and operation\" section to learn how to best build and operate a vSphere SAP HANA cluster with SNC-2-enabled hosts and VMs, along with non-SNC-2 hosts and VMs. \nScale-up and scale-out deployment architecture The following 2 figures describe typical scale-up and scale-out SAP HANA on vSphere architectures.  The storage must be SAP HANA certified. In the case of vSAN, the complete solution (server hardware and vSAN software) must be SAP HANA HCI certified. The network column highlights the network needed for an SAP HANA environment. Bandwidth requirements should be defined regarding the SAP HANA size; for example, vMotioning a 2TB SAP HANA VM or a 12TB SAP HANA VM will take significantly more time to be migrated or will need a higher bandwidth network to minimize the migration time. Latency should be as low as possible to support the transactions of heavy or sensitive workloads and use cases. For SAP applications, the average response time for dialog transactions (online transactions) should be below one second.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2246, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "566ad79d-062a-4226-ad2b-92841ae1e80c": {"__data__": {"id_": "566ad79d-062a-4226-ad2b-92841ae1e80c", "embedding": null, "metadata": {"page_label": "28", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "2a8056b1-d3fc-4bcc-ad5f-6abffae13f49", "node_type": "4", "metadata": {"page_label": "28", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "715268f2d7802e9c7504cf5c9f5e41d78b7d6fd9f52440be39a40520be957f35", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 28 \nThe following figure shows scale-up SAP HANA systems (single SAP HANA VMs). Figure 3. High-level architecture of a scale-up SAP HANA deployment on vSphere \n  The next figure shows a scale-out example where several SAP HANA VMs work together to build one large SAP HANA database instance. Figure 4. High-level architecture of a scale-out SAP HANA deployment on ESXi 4- or 8-socket host systems \n   \nSAP HANA Scale-Up VMs\nESXi Hosts\nVMware vSphere Cluster\nSAP HANA Host HANA HA HostSAP HANA Host\nShared Datastore   (FC, NFS, vSAN)\nFree Resources\nSAP Application Serveror vSphere Management VMs\nApp Server Host\nApp Server Host n\nHA HA\nSAP HANA TDI certified No certification req.\nNetwork\n\u2022 App Server to User \u2022 vSphere management\u2022 App Server to DB\n\u2022 HANA to App Server\u2022 Optional backup and or HANA replication\n\u2022 VMware vMotion\u2022 VMware HA\u2022 IPMI Host network\n\u2022 Storage network\nvCLS NSX-T\nESXi Hosts\nSAP HANA Scale-Out VMs\nVMware vSphere Cluster\nSAP HANA Host HANA HA HostSAP HANA Host\nShared Datastore   (FC, NFS, vSAN)\nSAP Application Serveror vSphere Management VMs\nApp Server Host n\nHA HA\nSAP HANA TDI certified No certification req.\nNetwork\n\u2022 App Server to User \u2022 vSphere management\u2022 App Server to DB\n\u2022 HANA to App Server\u2022 HANA Intra-Node network\u2022 Optional backup and or HANA replication\n\u2022 VMware vMotion\u2022 VMware HA\u2022 IPMI Host network\n\u2022 Storage network\nvCLS NSX-T\nHANA HA Host\nHA Host\nNFS Share\nMaster Worker 1 Worker n", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1483, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d07a93e6-be16-41aa-8c22-06308249f7d5": {"__data__": {"id_": "d07a93e6-be16-41aa-8c22-06308249f7d5", "embedding": null, "metadata": {"page_label": "29", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "660e8212-a2f0-4a45-92e3-ab8923b42da0", "node_type": "4", "metadata": {"page_label": "29", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "9933c06dabe6becadf4824eac08b0c07a0025dc08f0dda5f44bc7a7aaebce69d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 29 \nConfiguration and sizing guidelines You must select the correct components and configuration to achieve the performance and reliability requirements for SAP HANA. The server configuration (RAM and CPU), network configuration, and storage configuration determine which and how many SAP HANA VMs can be supported. Note: It is possible to consolidate a certain number of SAP HANA VMs on an ESXi host with a given RAM and CPU configuration; however, the network and storage configurations must have the capacity to support these SAP HANA VMs. Otherwise, a network or storage bottleneck could impact the performance of all running SAP HANA VMs on the host. \nSizing compute and memory It is possible (since SAP HANA TDI Phase 5) to perform a workload-based sizing (SAP Note 2779240) and not depend on appliance configurations with fixed CPU-to-memory ratios. You perform VMware virtual SAP HANA sizing in much the same way as you do for physically deployed SAP HANA systems. The significant difference is that an SAP HANA workload must fit into the compute and RAM maximums of a VM. You also need to consider the costs of virtualization (RAM and CPU of the ESXi host) when planning an SAP HANA deployment. If an SAP HANA system exceeds the available resources for virtual deployments, the VM can be moved to a new host with more memory or higher-performing CPUs. After this migration to the new host, the VM must be shut down, and the VM configuration must be changed to reflect these changes (more vCPU and/or virtual memory). If a single host cannot satisfy the resource requirements of an SAP HANA VM, then you can use scale-out deployments or SAP HANA extension nodes. Note: The current VMware SAP HANA VM maximums are 448 vCPUs and 12 TB of RAM with Intel Cascade and Cooper Lake 8-socket systems and 480 vCPUs and 8 TB of RAM with Intel Sapphire Rapids 4-socket systems. SAP HANA systems that fit into these maximums can be virtualized as a single scale-up system. You might also be able to deploy larger scale-out systems. \nSizing process As noted, sizing a virtual SAP HANA system is just like sizing a physical SAP HANA system plus the virtualization costs of CPU and RAM on the ESXi host). The following figure depicts the SAP HANA sizing process.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2316, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "145574ee-eee0-4c80-8171-44efcd0bfc2d": {"__data__": {"id_": "145574ee-eee0-4c80-8171-44efcd0bfc2d", "embedding": null, "metadata": {"page_label": "30", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "77d91572-ce65-43ac-aadf-ab8daf273132", "node_type": "4", "metadata": {"page_label": "30", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "dc5883cee086dec6fb94a4bb63699e8ec83097a16b7d6ee5a2ab84dd517499be", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 30 \nFigure 5. The SAP HANA sizing process \n An SAP HANA sizing results in the following required resources: \u2022 Compute - per the SAP Application Performance Standard (SAPS) \u2022 Memory \u2022 Storage Note: By now, the SAP Quick Sizer allows you to calculate the needed SAPS for SAP HANA-based applications. Therefore, a manual calculation, as mentioned above in the table, is no longer required. The SAP sizing tools do not cover network sizing. Network latency is only a general guideline\u2014you must set your own goal. In SAP sales and distribution (SD) benchmarks, a time below 1,000 milliseconds for the average dialog response time must be maintained. In the \u201cNetwork configuration and sizing section,\u201d we refer to the SAP HANA network requirements white paper when we define the network infrastructure for a virtualized SAP HANA environment. SAP also provides a tool, ABAPMETER, to measure the network performance of a selected configuration to ensure it follows the SAP-defined and recommended parameters. See SAP Note 2879613: ABAPMETER in NetWeaver AS ABAP. Note: The provided SAPS depend on the SAP workload you use. This workload can have an OLTP, OLAP, or mixed workload profile. From the VM configuration point of view, only the different memory, SAPS, network, and storage requirements are important and not the actual workload profile. The storage capacity requirements for virtual or physical SAP HANA systems are identical. However, the CPU resource and physical memory requirements of a virtualized SAP HANA system are slightly higher than when deployed on bare metal servers; the virtualized requirements also include the virtual CPU and memory of the VM. We can express the CPU requirements with a fixed factor like 3-10%, but the memory needs are more challenging to determine. \nExisting SAP System (Migration Sizing)\nS4H BW4H\nMigration Report for Suite on HANASAP Note 1872170 (RAM)\nResult: SAP HANA System RAM, CPU (SAPS) and Disk Requirements\nCustomer Interested in SAP HANA?\nUse SAP HANA Quick Sizer Migration Report for BW on HANASAP Note 2296290\nSAP Note 1793345 (Sizing for SAP Suite on HANA)\nNew SAP HANA System (Greenfield Sizing)", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2209, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4bdec536-c8ce-469d-ba2b-e5cbec41920f": {"__data__": {"id_": "4bdec536-c8ce-469d-ba2b-e5cbec41920f", "embedding": null, "metadata": {"page_label": "31", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "742f7cfa-1250-4743-b44a-1145a332e70a", "node_type": "4", "metadata": {"page_label": "31", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "8c61a3da18466d2551ec877328246b3c7999ca04a2a31dc75aefca7b3c2f1ec0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 31 \nThe following table shows the estimated memory requirements of an ESXi host running SAP HANA workloads on different server configurations. Unfortunately, you cannot determine the memory cost of ESXi upfront. The physical server configuration influences them\u2014for example, the number of CPUs, memory size, and installed cards like HBAs or NICs\u2014as well as the vSphere features like NSX networking and security or vSAN in use. Table 10. Estimated ESXi host RAM needs for SAP HANA VMs based on the number of sockets and memory installed on the ESXi host Physical host CPU sockets Estimated ESXi host memory requirement (guidelines) Example memory requirement for ESXi host based on installed memory 2 64\u2013256GB (default 128GB) 2TB 3TB 128GB 192GB 4 128\u2013384GB (default 256GB) 4TB 6TB 256GB 384GB 8 256\u2013768GB (default 512GB) 8TB 12TB  512GB 768GB Note: The ESXi host memory consumption described here can range from 64GB to 768GB. However, determining the actual host memory consumption requires configuring and starting all VMs with memory reservations on the host. The last VM started might fail to run if you selected the wrong host memory reservation. In this case, you should reserve a lower amount of memory per VM to ensure enough host memory for all the VMs running on that host. \nTranslating the SAP sizing to a VM configuration Let\u2019s use the following example to translate an SAP HANA sizing of a 1,400 GB SAP HANA database system that needs 80,000 SAPS on compute, according to the SAP Quick Sizer results. The following formula calculates the available memory for SAP HANA VMs running on an ESXi host:  Total available memory for SAP HANA VMs = Total host memory - ESXi memory need For this example, let\u2019s assume that a 4-socket server with 6TB of total RAM and a 2-socket server with 2TB of RAM are available for selection. We use the default ESXi memory requirements: \u2022 For the 4-socket ESXi host with a total of 6TB of RAM, that\u2019s around 384GB of ESXi memory needed. \u2022 For the 2-socket ESXI host with a total of 2TB of RAM, that\u2019s around 128 of ESXi memory needed.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2136, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "77a0a10b-087e-4647-931e-e168b21d1e3c": {"__data__": {"id_": "77a0a10b-087e-4647-931e-e168b21d1e3c", "embedding": null, "metadata": {"page_label": "32", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c225216f-21b7-4e13-ac17-bfc76af89c66", "node_type": "4", "metadata": {"page_label": "32", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "c13c71e1742b08dde5b42f41261dbaaaaba3f0f5119c8eafebc797b91cac59a4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 32 \nVirtual memory configuration example SAP HANA example system memory sizing report result: \u2022 1400 GB RAM SAP HANA example system memory requirement  Available host server systems:  \u2022 4-CPU socket 28-core Cooper Lake ESXi host with 6TB physical memory \u2022 2-CPU socket 60-core Sapphire Rapids ESXi host with 2TB physical memory Virtual RAM calculation for the SAP HANA VM: \u2022 5760 GB (6144GB \u2013 384GB RAM) / 4 CPU sockets = 1440GB per CPU socket > 1400GB sized HANA RAM \u00e0 SAP HANA VM configuration needs 1 CPU socket  \u2022 1920 GB (2048GB \u2013 128GB) / 2 CPU sockets = 960GB per CPU socket < 1400GB sized HANA RAM \u00e0 SAP HANA VM configuration needs 2 CPU sockets Temporary VM configuration: \u2022 In the 4-socket server case, the memory of one socket is sufficient for the sized SAP HANA system.  \u2022 In the 2-socket server case, both CPU sockets must be used because one socket has only 960GB available.  \u2022 In both cases, you should select all available logical CPUs per CPU socket, like in the Cooper Lake case 56 vCPUs (28 cores plus hyperthreading). Note: When fine-tuning the VM memory configuration, you can't determine\tthe maximum available memory or\tthe memory reservation for a VM until the VM has been created and started once. The amount of memory that is available depends on how the ESXi host's hardware is set up and what ESXi features are enabled and used. After you've configured the memory for the SAP HANA VM, you verify\tthat\tthe available SAPS capacity is enough for the work your planned workload. SAP and its partners measure\ta server's SAPS capacity and CPU by running benchmarks and performance tests that SAP defines. One example is the SAP SD benchmark, which is used for all SAP NetWeaver and BW/4HANA applications. The test results of a public benchmark can be published\tand used in training\ton SAP sizing. After you know the SAP application's SAPS resource needs, you can apply the sizing to a VM configuration. Note: The SAP admin usually gives the\tCPU and SAPS requirements to the vSphere admin. If these are not available, you can use\tthe SAP-defined standard sizes (SAP HANA appliance configurations), which have a fixed CPU type and the max\tmemory configuration\tper CPU socket. The following figure, from a published SD benchmark, shows a way to estimate the available SAPS capacity of a virtual CPU. The SAPS capacity depends on the used physical CPU and is limited by the maximum available vCPUs per VM.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2484, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0b4748c6-7735-4f5a-95e4-15aa500aa064": {"__data__": {"id_": "0b4748c6-7735-4f5a-95e4-15aa500aa064", "embedding": null, "metadata": {"page_label": "33", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "786be5b8-3416-43d0-a27c-1905d32dc812", "node_type": "4", "metadata": {"page_label": "33", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "d0971c72e5b3d8f97a4981553f1553f1569a3fa8374b895fbef7425a425f5699", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 33 \nFigure 6. Physical SAPS to virtual SAPS example conversion \n First, look up the SAPS results of a benchmark of the CPU you want to use. Then, divide this result by the number of cores of the selected CPU. In the figure 6 example, the Cooper Lake (8380HL) CPU has 28 cores, and the Sapphire Rapids (8490H) CPU has 60 cores. Use the number of cores as the divisor. This provides the SAPS capacity of a hyperthreaded physical CPU core (you can use two CPU threads or two logical CPUs). To estimate the virtual SAPS capacity of these two CPU threads, subtract the ESXi CPU resource needs, which are between 3%\u201310% for OLTP or OLAP workloads. In the above figure, to make the sizing easier, we use 10% for the virtualization costs for compute, which is subtracted from the previous result (two CPU threads running on one physical CPU core).  To define the SAPS capacity of a single vCPU running on a single CPU core, subtract the hyperthreading gain, which could be as little as 1% for very low-utilized servers or more than 30% for very high-loaded systems. For the sizing example in the above figure, we assume a 15% hyperthreading gain. Removing this 15% from the 2-vCPU result provides the SAPS capacity of a single vCPU (virtual SAPS 1 vCPU) that runs exclusively on a CPU core. Recommended: Use hyperthreading (this is the default). Make sure that numa.vcpu.preferHT=TRUE (per VM setting) is set for the SAP HANA VM to ensure NUMA node locality. This is especially important for half-socket VM configurations and VM configurations that don\u2019t span all NUMA nodes of a server.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1640, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "66839750-bf7e-4f2a-91e3-28b049c120ca": {"__data__": {"id_": "66839750-bf7e-4f2a-91e3-28b049c120ca", "embedding": null, "metadata": {"page_label": "34", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9963de48-8906-4a4d-9ad1-29e44aa2f783", "node_type": "4", "metadata": {"page_label": "34", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e2277b82fa5db3898134255effe0da75f241e4468a34d88d0dfd419287ec1fdb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 34 \nCPU calculation examples The following examples show how to calculate the number of vCPUs needed to power the provided SAPS resource needs of the given SAP HANA workload. VM CPU (SAPS) configuration example Assumed/sized SAP HANA system: \u2022 1400GB RAM SAP HANA system memory \u2022 80,000 SAPS  \u2022 Available host servers:  \u2022 4-socket 28-core Cooper Lake (8380HL) host with 6TB physical memory, 89,000 pSAPS (356,000 SAPS in total), and 224 logical CPUs \u2022 2-socket 60-core Sapphire Rapids (8490H) host with 2TB physical memory, 212,000 pSAPS (424,000 SAPS in total), and 240 logical CPUs VM vCPU configuration examples 4-socket 28-core Cooper Lake (8380HL) host: \u2022 HANA CPU requirement as defined by sizing: 80,000 SAPS \u2022 356,000 / 4 = 89,000 SAPS / 28 cores = 3178 pSAPS per core \u2022 vSAPS per 2 vCPUs (including HT) = 2860 SAPS (3,178 SAPS \u2013 10%) \u2022 vSAPS per vCPU (without HT) = 2,431 SAPS (2,860 SAPS \u2013 15%) \u2022 VM without HT: number of vCPUs = 80,000 SAPS / 2431 SAPS = 32,91 vCPUs, rounded up 33 cores / vCPUs \u2022 VM with HT enabled: number of vCPUs = 80,000 SAPS / 2860 SAPS x 2 (threads per core) = 55,94 = 56 threads / vCPUs VM vSocket calculation: \u2022 33 / 28 (CPU cores) = 1.18 or 56 (threads) / 56 (CPU threads) = 1 \u2022 The 1st result needs to get rounded up to 2 CPU sockets, since it does not leverage HT. \u2022 The 2nd result uses HT and therefore the additional SAPS capacity of the hyperthreads is sufficient to use only one CPU socket for this system. This example shows why it is important to leverage hyperthreads.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1576, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9f4052d8-c3d6-4d7f-a6e8-8d46d1c3fa71": {"__data__": {"id_": "9f4052d8-c3d6-4d7f-a6e8-8d46d1c3fa71", "embedding": null, "metadata": {"page_label": "35", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0fb805d7-f60e-485d-8481-a3d59b2396c8", "node_type": "4", "metadata": {"page_label": "35", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "fecf7b5478a33e3c9604db9a357509195c6b8689570a79b0166d3782577bd68a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 35 \n2-socket 60-core Sapphire Rapids (8490H) host: \u2022 HANA CPU requirement as defined by sizing: 80,000 SAPS \u2022 424k / 2 = 212k SAPS / 60 cores = 3533 SAPS core \u2022 vSAPS per 2 vCPUs (including HT) = 3180 SAPS (3533 SAPS \u2013 10%) \u2022 vSAPS per vCPU (without HT) = 2700 SAPS (3180 SAPS \u2013 15%) \u2022 VM without HT: number of vCPUs = 80,000 SAPS / 2700 SAPS = 29,63 vCPUs, rounded up 30 cores / vCPUs \u2022 VM with HT enabled: number of vCPUs = 80,000 SAPS / 3180 SAPS x 2 (threads per core) = 50,31 = 51 threads / vCPUs VM vSocket calculation: \u2022 30 / 60 (CPU cores) = 0.5 or 51 (threads) / 120 (CPU threads) = 0.43 \nConsiderations for the final VM configuration The SAPS-based sizing exercise showed that without HT enabled and used by the VM, 2 CPU sockets of a Cooper Lake system are needed to fulfill the SAPS requirements. Only half of a 60-core CPU is needed for the Sapphire Rapids CPU.  Recommended: Use hyperthreading in the VM configuration of the Cooper Lake system because, per the CPU requirements, only one CPU socket is sufficient. The sized SAP HANA database memory of 1400GB is the leading HANA sizing and VM configuration factor. On the Cooper Lake system, we have 1440GB available per CPU. This fulfills the memory and CPU requirements as calculated. In contrast, the Sapphire Rapids system has only 2TB installed, which, per CPU socket minus the ESXi host, costs only 960GB. To fulfill the sized memory requirements of this example, you need to use 2 CPU sockets on the Sapphire Rapids host, which will result in poor performance. You could solve this problem by adding memory to this host. The final VM configuration leverages all CPU and memory resources related to the CPU sockets needed. The resulting required configurations for the ESXi servers are: \u2022 4-socket 28-core Cooper Lake (8380HL) 6TB host: 1 CPU socket with 56 vCPUs (hyperthreading on) and 1440GB of virtual RAM \u2022 2-socket 60-core Sapphire Rapids (8490H) 2TB host: 2 CPU sockets with 240 vCPUs (hyperthreading on) and 1920GB of virtual RAM Optimizing the Sapphire Rapids host configuration to have more memory per CPU socket will let you use a half-socket (SNC-2) configuration with a total of: \u2022 6TB per host and the possibility to run up to 4 VMs on this host, with each VM of around 1.5TB  \u2022 6TB in the host with 2 VMs, each around 3TB, will result in low CPU performance (high CPU utilization). Therefore, if a half-socket SNC-2 deployment cannot be used, you can use a lower-bin Sapphire Rapids CPU.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2533, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "09a5332b-001d-45de-95a1-9ee9eba470ae": {"__data__": {"id_": "09a5332b-001d-45de-95a1-9ee9eba470ae", "embedding": null, "metadata": {"page_label": "36", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bdc12ebf-9487-481d-b890-eaea55e32d33", "node_type": "4", "metadata": {"page_label": "36", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "8ca7a0acfba716906b38b951cd5540e03ae373b223c9227b887b665fae7110cf", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 36 \n\u2022 If you want to leverage SNC-2, then an SAP HANA half-socket VM with 1.5TB and enough SAPS performance would be the best case for this example SAP HANA VM. Note: If hyperthreading is used on the host, then you must set numa.vcpu.preferHT=TRUE per SAP HANA VM to ensure NUMA node locality of the vCPU threads. \nPre-sized examples The following table shows possible VM sizes of specific CPU types and variants. We estimated the SAPS figures based on published SAP SD benchmarks and rounded them down. You'll need to subtract the RAM needed for the ESXi host from the shown figures. The figures represent the virtual SAPS capacity of a CPU core with and without hyperthreading. Note: We based the SAPS figures shown in the following table on published SAP SD benchmarks; you can use these sizings for Suite on HANA, BW on HANA, S/4HANA, or BW/4HANA workloads.  \u2022 For half-socket SAP HANA configurations, you must subtract 15% from the SAPS capacity to consider the CPU cache misses caused by VMs running concurrently on the same NUMA node.  \u2022 For SNC-2 configurations that use half-socket VMs on Sapphire Rapids or other supported systems, this reduction is not necessary.  \u2022 For mixed HANA workloads, contact SAP or your hardware sizing partner.  \u2022 For SAP HANA on hyperconverged infrastructure (HCI), reserve an additional 10% SAPS capacity to take vSAN into account. Use the following table to quickly determine a VM configuration that will fulfill the SAP HANA sizing requirements for RAM and CPU performance for SAP HANA on vSphere workloads. Table 11. SAPS capacity and memory sizes for example configurations of SAP HANA on vSphere; based on published SD benchmarks and selected Intel CPUs  Intel Xeon Platinum 8280L CPU Intel Xeon Platinum 8380H and 8380HL CPU Intel Xeon Platinum 8380 CPU Intel Xeon Platinum 8490H CPU \nSAP benchmark 2021009 (Jan. 26, 2021) 2020050 (Dec. 11, 2020) 2023019 (May 5, 2023) 2023037 (Aug. 15, 2023) Max. supported RAM per CPU as of Intel datasheet \n 4.5TB  4.5TB (HL)  6TB  4TB \nCPU cores per socket as of Intel datasheet  28  28  40  60 Max. NUMA nodes  per ESXi server[1]  8  8  2  8", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2186, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "205d8fbb-544f-4882-8da0-3a89ecf4844b": {"__data__": {"id_": "205d8fbb-544f-4882-8da0-3a89ecf4844b", "embedding": null, "metadata": {"page_label": "37", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d14349f7-57a2-4876-97ba-3153ff528294", "node_type": "4", "metadata": {"page_label": "37", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "6faf68f3dc9bc2412183f630c152633f1ce6bea577e8c9a6ad3ec657ab708a17", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 37 \n Intel Xeon Platinum 8280L CPU Intel Xeon Platinum 8380H and 8380HL CPU Intel Xeon Platinum 8380 CPU Intel Xeon Platinum 8490H CPU \nSAP HANA supported maximum memory per CPU socket[2] \n 1.5TB  1.5TB  2TB  3TB \nvSAPS per CPU thread with and without HT 2,459 (core without HT) 434 (HT gain) Based on cert. 2021009 2,432 (core without HT) 429 (HT gain) Based on cert. 2020050 \n2,563 (core without HT) 452 (HT gain) Based on cert. 2023019 2,703 (core without HT) 477 (HT gain) Based on cert. 2023037 \n0.5-socket SAP HANA VM[3] 1 to 16 x 14 physical core VM with min. 128GB RAM and max. 768GB 1 to 16 x 14 physical core VM with min. 128GB RAM and max. 768GB 1 to 4 x 20 physical core VM with min. 128GB RAM and max. 1024GB 1 to 4 x 30 physical core VM with min. 128GB RAM and max. 1536GB - with SNC-2 vSAPS 34,000 vSAPS 34,000 vSAPS 51,255 vSAPS 95,400 28 vCPUs 28 vCPUs 40 vCPUs 60 vCPUs 1-socket SAP HANA  VM[4] 1 to 8 x 28 physical core VM with min. 128GB RAM and max. 1,536GB 1 to 8 x 28 physical core VM with min. 128GB RAM and max. 1,536GB 1 to 2 x 40 physical core VM with min. 128GB RAM and max. 2048GB 1 to 2 x 60 physical core VM with min. 128GB RAM and max. 3072GB vSAPS 81,000 56 vCPUs vSAPS 80,000 56 vCPUs vSAPS 120,600 80 vCPUs vSAPS 190,800 120 vCPUs 2-socket SAP HANA VM[4] 1 to 4 x 56 physical core VM with min. 128GB RAM and max. 3072GB 1 to 4 x 56 physical core VM with min. 128GB RAM and max. 3072GB 1 x 80 physical core VM with min. 128GB RAM and max. 4096GB 1 x 240 physical core VM with min. 128GB RAM and max. 6144GB vSAPS 162,000 112 vCPUs vSAPS 160,000 112 vCPUs vSAPS 241,200 160 vCPUs vSAPS 381,600 240 vCPUs 4-socket SAP HANA VM[4] 1 to 2 x 112 physical core VM with min. 128GB RAM and max. 6128GB 1 to 2 x 112 physical core VM with min. 128GB RAM and max. 6128GB  NA (ICX is a 2-socket platform only) \n1 x 480 physical core VM with min. 128GB RAM and max. 8192GB vSAPS 324,000 224 vCPUs vSAPS 320,000 224 vCPUs vSAPS 763,200 480 vCPUs 8-socket SAP HANA VM[4] 1 x 224 physical core VM with min. 128GB RAM and max. 12,096GB \n1 x 224 physical core VM with min. 128GB RAM and max. 12,096GB \n NA (ICX is a 2-socket platform only) \n  Not available yet vSAPS 648,000 448 vCPUs vSAPS 640,000 448 vCPUs", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2284, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "49f407d4-87cc-47d5-a900-7dd84589a1f7": {"__data__": {"id_": "49f407d4-87cc-47d5-a900-7dd84589a1f7", "embedding": null, "metadata": {"page_label": "38", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4de40bda-276b-4fe8-90d2-ca7d50d6dc1d", "node_type": "4", "metadata": {"page_label": "38", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "70592b0d06c1ddffc10a9d1c4ff44960fc31ab555c464692a7189026260df896", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 38 \n\u00db [1] Maximum NUMA nodes per CPU sockets depend on the Intel CPU architecture. Cascade Lake, Cooper Lake, and Sapphire Rapids CPUs support up to 8 socket CPU platforms. Ice Lake is a 2-socket platform only. Sapphire Rapids is only validated on up to 2-CPU sockets for SAP HANA on vSphere systems. \u00db [2] SAP-supported appliance memory configurations are lower as specified by Intel. Cascade Lake and Cooper Lake CPUs support up to 1.5TB per CPU socket, Ice Lake up to 2TB, and Sapphire Rapids CPUs up to 3TB per CPU\tsocket. 2TB are supported without a sizing; 3TB are supported in a mixed DIMM configuration with 128GB and 256GB DIMMs and require\ta workload-based SAP HANA sizing. \u00db [3] The SAPS (SAP Application Performance Standard) figures provided are derived from published SD benchmark results, incorporating hyperthreading with a 2-vCPU configuration. To account for virtualization costs, a standard deduction of 10% is applied. For half-socket configurations, an additional deduction of 15% from the SD capacity is required, along with the standard 10% virtualization cost deduction. SNC-2 half-socket VMs are exclusive to 2-socket SPR systems and are calculated with a standard 10% deduction only. There's no need to subtract an additional 15%. All figures presented are rounded and based on rounded SAPS performance figures from published SAP SD benchmarks. These figures should be used exclusively for Suite on HANA, BW on HANA, or BW/4HANA workloads. For sizing parameters related to mixed HANA workloads, please consult SAP or your hardware vendor directly. \u00db [4] The listed SAPS figures are based on published SD benchmark results with hyperthreading (2-vCPU configuration) minus a 10% virtualization cost. In the case of a half-socket configuration, in addition to the 10% virtualization cost, 15% from the SD capacity must be subtracted. SNC-2 half-socket VMs are calculated with only -10%.The shown figures are rounded and based on rounded SAPS performance figures from published SAP SD benchmarks, and can be used only for Suite on HANA, BW on HANA, or BW/4HANA workloads. For mixed HANA workload sizing parameters, contact SAP or your hardware vendor.  Here\u2019s the VM configuration example again. This time, we use the information provided in the above table to quickly determine the VM configuration. Sized SAP HANA system: \u2022 1400GB RAM SAP HANA system memory \u2022 80,000 SAPS (Suite on HANA SAPS) Configuration example 1: \u2022 4-socket 28-core Cooper Lake (8380HL): 1.5TB per CPU host; total 6144GB \u2022 224 total CPU threads, 320,000 vSAPS available, 80,000 vSAPS per CPU by leveraging hyperthreading \u2022 VM configuration: 1 socket; 56 vCPUs (80,000 vSAPS); 1400GB vRAM (optimal configuration) Configuration example 2: \u2022 2-socket 60-core Sapphire Rapids (8490H) with 1TB per CPU host; total 2048GB \u2022 240 vCPUs; 381,000 vSAPS available; 95,000 vSAPS per half-socket by leveraging hyperthreading \u2022 VM configuration: 2 sockets; 240 vCPUs; 1400GB vRAM (non-optimal configuration due to the memory configuration of the host). We recommend you upgrade the memory to 3TB per CPU. Note: As described, the performance impact of using hyperthreading is very little, especially for systems with low CPU utilization.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3278, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "194bbc40-6b2c-40e9-85f0-6b8ede9750fd": {"__data__": {"id_": "194bbc40-6b2c-40e9-85f0-6b8ede9750fd", "embedding": null, "metadata": {"page_label": "39", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "eac8901c-020b-43d0-b7c6-44ee328c9ba2", "node_type": "4", "metadata": {"page_label": "39", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "0b8edb561433a42344b7a607d5897d2949bff0ef2f18ed815267bb98a67c3d0c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 39 \nRecommended: In most cases, use hyperthreading for SAP HANA on vSphere hosts. You might make an exception for: \u2022 Small workloads, which don\u2019t require hyperthreading to increase performance. \u2022 Workloads with very low latency requirements. \u2022 Security risks exposed by hyperthreading that exist on some processors. \nStorage configuration and sizing Sizing a storage system for SAP HANA is different from sizing storage for classic SAP applications: SAP defines strict storage key performance indicators (KPIs) for production-level SAP HANA systems regarding data throughput and latency.  Important: Your production storage systems for SAP HANA VMs must meet these key performance indicators (KPIs). If multiple SAP HANA VMs are running on one host, the TDI storage must be capable of supporting the specified number of SAP HANA instances/VMs. The only variable in storage sizing is the capacity, which depends on the size of the in-memory database.  \nTools used to verify KPIs You can verify your storage system meets the KPIs by using the following SAP tools: \u2022 Hardware configuration check tool (HWCCT) for HANA 1.0 \u2022 Hardware and Cloud Measurement Tool (HCMT) for HANA 2.0 These tools are available only to SAP partners and customers. You need a valid SAP user account to download the tools, the KPI documentation, and the user guides. For details, see SAP Notes 1943937 and 2493172. SAP partners provide SAP HANA-ready and certified storage solutions or certified SAP HANA HCI solutions based on vSAN  that meet the KPIs for a specified number of SAP HANA VMs. For more information, refer to the Certified and Supported SAP HANA Hardware web page. \nStorage connection Along with the storage capacity, you must plan the storage connection. Follow the available storage vendor documentation and planning guides to determine how many HBAs or NICs are needed to connect the planned storage. If no VMware-specific guidelines are available, use the guidelines for physically deployed SAP HANA systems as a basis, and work with the storage vendor on the final configuration supporting all possible SAP HANA VMs running on a vSphere cluster. If, for example, you require a seamless migration between physically and virtually deployed SAP HANA systems, you can use vSphere-connected storage with the raw device, in-guest mapped LUNs, and in-guest mounted NFS storage solutions.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2434, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fb06f5da-4a4c-411d-ace4-72101f9c033c": {"__data__": {"id_": "fb06f5da-4a4c-411d-ace4-72101f9c033c", "embedding": null, "metadata": {"page_label": "40", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1089d6db-efe9-46e2-b24e-d6742d057236", "node_type": "4", "metadata": {"page_label": "40", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "f5ce3d1a767b245e19da9ac8f08a8faed42421e6bdb8c5edfb6e7c0659aba5e9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 40 \nHowever, a fully virtualized storage solution works just as well as a natively connected storage solution and provides all the benefits of vSphere virtualization, including the possibility to abstract the storage layer from the operating system on which SAP HANA runs. For a detailed description of vSphere storage solutions, refer to the vSphere Storage documentation. \nvSphere datastores vSphere uses datastores to store virtual disks. Datastores provide an abstraction of the storage layer that hides the physical attributes of the storage devices from the VMs. For example, you can create datastores to be used as a single consolidated pool of storage, or you can use many datastores to isolate various application workloads. vSphere datastores can be of different types: VMFS, NFS, vSAN, or vSphere Virtual Volumes. SAP HANA fully supports all of these. Refer to the Working with Datastores documentation for details. The following table summarizes the vSphere features supported by the different storage types. All these storage types are available for virtual SAP HANA systems. Note: For scale-out, you must install the SAP HANA shared file system on an NFS share. For all other SAP HANA scale-up and scale-out volumes, such as data or logs, you can use all storage types listed in the following table, as long as the SAP HANA TDI Storage KPIs are achieved per HANA VM. vSphere doesn't support other solutions, such as the Oracle Cluster File System (OCFS) or the IBM General Parallel File System (GPFS). Table 12. vSphere-supported storage types and features Storage type VM boot Migration with vMotion Datastore Raw device mapping (RDM) vSphere high availability (HA) and distributed resource scheduling (DRS) Local storage Yes No VMFS versions 5 and 6 No No Fibre Channel Yes Yes VMFS versions 5 and 6 Yes Yes NFS Yes Yes NFS versions 3 and 4.1 No Yes vSAN [1] Yes Yes vSAN 6.6 or later No Yes \u00db [1] Only vSAN-based SAP HANA-certified HCI solutions are supported. There is no support for generic vSAN solutions for SAP HANA production workloads. In summary, you use storage with SAP HANA on vSphere to: \u2022 Create separate and isolated datastores for operating systems, SAP HANA binaries, shared folders, data, and logs. \u2022 Enable multiple SAP HANA VMs to provision their VMDK files on the same class of storage  to meet SAP HANA storage KPIs. \nFile system layout", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2435, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1264681e-1c6c-4194-a503-2ad279514612": {"__data__": {"id_": "1264681e-1c6c-4194-a503-2ad279514612", "embedding": null, "metadata": {"page_label": "41", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9536a207-e17c-4164-9442-867d1054eb47", "node_type": "4", "metadata": {"page_label": "41", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "7f56a9ce292740d983aa36ef207c8df8a0d71a5b09be66890c14fb68e3af8411", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 41 \nThe following figure shows the recommended SAP HANA Linux file system layout when running SAP HANA on vSphere. We arranged the file system layout into three groups to help you decide when to use VMDK files or an NFS mount point to store the SAP HANA files and directories. Figure 7. SAP-recommended file system layout for SAP HANA on vSphere \n \nStorage capacity calculation All SAP HANA instances have a database log, data, root, local SAP, and shared SAP volume. The storage capacity sizing calculation of these volumes is based on the overall amount of memory needed by the SAP HANA in-memory database. The storage subsystem configuration must meet very strict SAP-defined performance KPIs. This might result in more storage capacity than needed (even if the disk space is not needed, the number of disks might be required to provide the required I/O performance and latency). SAP has published several architecture and sizing guidelines. The following figure and table consolidate that information\u2014they show the typical disk layout of an SAP HANA system and the volumes needed. Use the information here as a starting point to plan the storage capacity needs for your SAP HANA on vSphere system. The volumes shown in the next figure should correspond with actual VMDK files and dedicated PVSCSI adapters or NVMe controllers, which ensures the best and most flexible configuration.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1447, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c4065047-ebdb-443a-aefd-f88152674abf": {"__data__": {"id_": "c4065047-ebdb-443a-aefd-f88152674abf", "embedding": null, "metadata": {"page_label": "42", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "30533f6e-c031-4c6b-a426-c6a68b25d37e", "node_type": "4", "metadata": {"page_label": "42", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "9c10afb56a6fd3dd7c012fd5ddf05c95ac1b060964b5dfb4bb081f3bfa11cf04", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 42 \nRecommended: Use NVMe controllers instead of PVSCSI because most modern systems have NVME devices instead of disks or SSDs installed. The example configuration shown here uses three independent PVSCSI adapters or NVMe controllers and at least 4 independent VMDKs. This helps parallelize I/O streams by providing the highest operational flexibility. We also use the file system layout shown here and translate it into a disk volume/VMDK disk configuration. Figure 8. Storage layout of an SAP HANA on vSphere system [1]\n \u00db [1] Image sourced from SAP SE and modified. The following table provides storage capacity examples of the different SAP HANA volumes. Some volumes, such as the operating system and usr/ SAP volumes, can be connected to and served by one PVSCSI adapter. Others, such as the log and data volumes, are served by dedicated PVSCSI controllers to ensure high I/O bandwidth and low latency.  Important: You must verify the performance of the I/O bandwidth and latency after an SAP HANA VM deployment with SAP hardware configuration checking tools. Refer to SAP Notes 1943937 and 2493172.  Instead of VMDK-based storage volumes, especially for data, you can use log or backup volumes that ingest connected NFS volumes.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1296, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f23b6f09-1a5a-40a6-a273-c2e9ac5277a5": {"__data__": {"id_": "f23b6f09-1a5a-40a6-a273-c2e9ac5277a5", "embedding": null, "metadata": {"page_label": "43", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bbad33ad-d1bc-41ef-8039-d6c33ef07c4c", "node_type": "4", "metadata": {"page_label": "43", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e3096c6128fa16656356defcb7647b1444a40b468044e18d13ca57bb52a2ef29", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 43 \nTable 13. Storage layout of an SAP HANA on vSphere system Volume Disk type SCSI controller if VMDK VMDK name SCSI ID if VMDK Sizes per SAP HANA storage requirements [1] \n/(root) VMDK PVSCSI (or NVMe)  Contr. 1 vmdk01-OS-SIDx SCSI 0:0 Min. 10GB for operating system We suggest 100GB, thin-provisioned. usr/sap VMDK PVSCSI (or NVMe)  Contr. 1 vmdk01-SAP-SIDx SCSI 0:1 Min. 50GB for SAP binaries  We suggest 100GB thin-provisioned. \nshared/ VMDK or NFS PVSCSI (or NVMe)  Contr. 1 vmdk02-SHA-SIDx SCSI 0:2 Min. 1x RAM, max. 1TB, thick-provisioned \ndata/ VMDK or NFS PVSCSI (or NVMe)  Contr. 2 vmdk03-DAT1-SIDx vmdk03-DAT2-SIDx vmdk03-DAT3-SIDx \nSCSI 1:0 SCSI 1:1 Min. 1x RAM, thick-provisioned Note: If you use multiple VMDKs, then use a tool to build one large data disk; for example, Linux LVM. log/ VMDK or NFS PVSCSI (or NVMe)  Contr. 3 vmdk04-LOG1-SIDx vmdk04-LOG2-SIDx SCSI 2:0 SCSI 2:1 [systems <= 512GB] log volume (min) = 0.5 x RAM [systems >= 512GB] log volume (min) = 512GB (thick-provisioned) Backup -  default path is /hana/shared VMDK or NFS PVSCSI (or NVMe)  Contr. 1 or 4 vmdk05-BAK-SIDx SCSI 3:0 size of backups >= size of SAP HANA data + size of redo log Note: You must change the default backup path of /hana/shared when an optional, dedicated backup volume is used (thin-provisioned). To further optimize data throughput for backup, you can use a dedicated PVSCSI or NVMe adapter. \u00db [1] Information summarized from SAP OSS note 1900823, attachment: SAP HANA storage whitepaper version 2.1 Depending on the storage solution used and the future growth of the SAP HANA databases, you might need to increase the storage capacity or better balance the I/O over more LUNs. In this case, you can use the Linux Logical Volume Manager (LVM) to build LVM volumes based on VMDKs. To determine the overall storage capacity per SAP HANA VM, sum the sizes of all specific and unique SAP HANA volumes as shown in the above figure and table. To determine the minimum overall vSphere cluster datastore capacity required, multiply the SAP HANA volume requirements in the table by the number of VMs running on all hosts in the vSphere cluster. Note: The raw storage capacity needed depends on the storage subsystem and the RAID level you used. Consult your storage provider to determine the optional physical storage configuration for running SAP HANA. NFS-mounted volumes do not need PVSCSI controllers.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2466, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d65be2c1-d6fe-41cb-996b-19073a16ba5b": {"__data__": {"id_": "d65be2c1-d6fe-41cb-996b-19073a16ba5b", "embedding": null, "metadata": {"page_label": "44", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c907bc35-6fb0-4066-92e9-9dd26f0abc87", "node_type": "4", "metadata": {"page_label": "44", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "9a8aae2d746e79a8778e80c8b86bff29ada1635694753ba1b119887f0d8b65a7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 44 \nUse the following equation for your storage capacity calculation: vSphere datastore capacity = total SAP HANA VMs running in a vSphere cluster \u00d7 individual VM capacity needed (OS + usr/sap + /shared + /data + /log) For example, a sized SAP HANA system with RAM = 2TB would need the following: \u2022 VMDK root (OS) >= 10GB (recommended 100GB, thin-provisioned) \u2022 VMDK usr/sap >= 60GB (recommended 100GB, thin-provisioned) \u2022 VMDK HANA shared = 1024GB (thick-provisioned) \u2022 VMDK HANA log = 512GB (thick-provisioned) \u2022 VMDK HANA data = 2048GB (thick-provisioned) \u2022 VMDK HANA backup >= 2.5TB (thin-provisioned; optional) In this example, the VM capacity requirement = 3.7TB with an optional backup for a total of 6.2TB. To determine the cluster-wide storage capacity requirement, you must include all possible SAP HANA VMs running in the vSphere cluster in the calculation. All SAP HANA production VMs must fulfill the capacity, throughput, and latency requirements as specified by SAP Note 1943937. Note: SAP HANA storage KPIs must be guaranteed for all production SAP HANA VMs. Use the HWCCT to verify these KPIs. Otherwise, the overall performance of the SAP HANA system might be lower than required. Refer to the previous section, \"Tools used to verify KPIs.\" \nHardware and cloud measurement tool for SAP HANA Using the SAP hardware check tools (refer to SAP Notes 1943937 and 2493172 and this blog post) allows you to verify that the storage performance and latency of an SAP HANA VM fulfills the SAP-defined KPIs for logs and data. For its SAP HANA validation, VMware uses (besides vSAN) an external Fibre Channel flash array from Pure Storage. This ensures that the conducted tests and validations use a modern external storage array and software-defined storage.  The following table shows what is possible with a VMware-optimized Pure X50 storage system compared to a bare metal system running the same configuration and following the test results for log latency, which SAP has defined as a maximum of 1,000\u00b5s. SAP HANA running on a VM shows a 22% higher latency than SAP HANA running the same configuration on bare metal. However, the virtualized system still runs quite a bit below the SAP-defined KPI of 1,000\u00b5s, at 406\u00b5s, which shows good performance.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2321, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f6104870-4d5f-4e91-a46c-027c1714e5cb": {"__data__": {"id_": "f6104870-4d5f-4e91-a46c-027c1714e5cb", "embedding": null, "metadata": {"page_label": "45", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0e972dfe-7a4d-479f-87ad-8ea6b16e1f21", "node_type": "4", "metadata": {"page_label": "45", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e472bee55fa29fcaec1d26a82c0e6e91d78ad5890b356b478ce51c552fa06dfb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 45 \nTable 14. HCMT file system latency example of SAP HANA running on a bare metal system vs on a vSphere VM Configuration HCMT 16K block log volume latency Bare metal system with FC-connected Pure X50 storage unit 16K block log overwrite latency = 334\u00b5s VM with FC-connected Pure X50 storage unit 16K block log overwrite latency = 406\u00b5s Absolute difference 72\u00b5s Percentage difference 22% SAP HANA KPI 1,000\u00b5s (bare metal 3x and virtual 2.5x faster, as required) The next table shows that the virtualized SAP HANA system has only slightly higher throughput than the bare metal SAP HANA system running on the same configuration. However, both results are over the SAP-defined KPI of 120MBps for this test. Table 15. HCMT file system overwrite example of an SAP HANA bare metal system compared to a virtualized system Configuration HCMT 16K block log volume overwrites Bare metal system with FC-connected Pure X50 storage unit 16K block log overwrite throughput = 706MBps VM with FC-connected Pure X50 storage unit 16K block log overwrite throughput = 723MBps Absolute difference 17MBps Percentage difference 2.4% SAP HANA KPI 120MBps (bare metal and virtualized are both over 5 times higher than required) For these tests, we used an 8-socket wide VM running on an Intel Cascade Lake Fujitsu PRIMEQUEST 3800B2  and lately 2- and 4-socket Intel Sapphire Rapids-based ThinkAgile VX650 and VX850 V3 systems from Lenovo connected via Fibre Channel on a Pure X50 storage unit configured as outlined in the best practices configuration guidelines. We conducted the tests for the results shown in the tables on an 8-socket Cascade Lake system. Make sure you apply the operating system best practice configuration for SLES or RHEL, and ensure you have a log and data volume per SAP HANA VM as previously described.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1866, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5c360185-ce7b-422a-b09a-e78165dd6dc1": {"__data__": {"id_": "5c360185-ce7b-422a-b09a-e78165dd6dc1", "embedding": null, "metadata": {"page_label": "46", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d41ce52b-6a37-48c6-b56b-b2d6daa031ca", "node_type": "4", "metadata": {"page_label": "46", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "b7f7330151ec13aa55a96f60b9e5ab3b1623c967988b0cbfc8fdfdf5acb59603", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 46 \nNetwork configuration and sizing An SAP HANA VM on a vSphere cluster requires dedicated networks for the SAP application, user traffic, admin, and management, as well as for NFS or software-defined storage (SDS), such as vSAN, if it is used. Figure 9. Logical network connections per SAP HANA server [1] \n \n\u00db [1] This figure was sourced from SAP SG. In contrast to a physical SAP HANA environment, you must plan the SAP HANA operating system-exposed networks and the ESXi host network configuration that all SAP HANA VMs will share. You need to configure:  \u2022 The virtual network, especially the virtual switch, on the ESXi host \u2022 HANA-exposed virtual network cards in the VM  The following sections explain each. Note: When configuring the host network, you should consider the need for multiple SAP HANA VMs on one ESXi host. A single SAP HANA instance on a single host\tmight\trequire more or higher bandwidth network cards. vSphere offers standard and distributed switch configurations. You can use either when configuring an SAP HANA on vSphere environment.  Recommended: Use a vSphere Distributed Switch for all VMware kernel-related network traffic (such as vSAN and vMotion). A vSphere Distributed Switch acts as a single virtual switch across all associated hosts in the data cluster. This setup allows VMs to maintain a consistent network configuration as they migrate across multiple hosts. VMs have network adapters that can be connected to port groups on the virtual switch. Every port group can use one or more physical NICs to handle their network traffic. Not having a physical NIC on a port group limits VM communication between the VMs and not the external network. You can find more information about this in the vSphere networking guide.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1819, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2802aeba-1052-4b68-b362-0872d85000c0": {"__data__": {"id_": "2802aeba-1052-4b68-b362-0872d85000c0", "embedding": null, "metadata": {"page_label": "47", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "21fa2575-7323-4d1b-b141-55a3d3505599", "node_type": "4", "metadata": {"page_label": "47", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "d564a637e5370c336cab6b7996954c8a5a9683eb2ee3b9f8c072515ed8f8840d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 47 \nThe next table describes the recommended network configuration for SAP HANA running virtualized on an ESXi host using different network card configurations. The information is based on SAP recommendations and includes vSphere-specific networks such as vMotion and dedicated storage networks for software-defined storage (SDS) or NFS. You might need to use multiple network cards to meet the network requirements for each SAP HANA VM when consolidating all of them onto a single ESXi host. Note: This reference guide doesn't include the adoption of NSX networking (VLAN or overlay segments) or NSX Distributed Firewall (DFW). These NSX deployment options require additional consideration and planning and are currently out of scope for this document. Table 16. Recommended SAP HANA on vSphere network configuration based on 10GbE NICs (non-VCF setup)   Host IPMI/ remote control network \nvSphere admin + vSphere HA network \nApplication server network vMotion network Backup network System replication (HSR) network \nScale-out internode network NFS/ vSAN/SDS network \nHost network configuration (all networks are dual-port NICs configured as failover teams) Network label Physical host management vSphere admin SAP app server vMotion Backup network (optional) HANA replication (optional) Scale-out (optional) Storage network (optional) Typical bandwidth 1GbE 1GbE >= 10GbE >= 10GbE >= 10GbE >= 10GbE >= 10GbE >= 10GbE \nTypical MTU size Default (1,500) Default (1,500) Default (1,500) 9,000 9,000 9,000 9,000 9,000 \nVLAN ID# examples  200 201 202 203 204 205 206 \nPhysical NIIC#, bandwidth [1] #0, 1GbE #1, 10GbE #2, 10GbE #3, 10GbE #4, 10GbE #5, 10GbE #6, 10GbE \nActive physical NIC port 1 1 1 1 1 1 1 \nStandby physical NIC port 2 2 2 2 2 2 2 \nVM guest network cards Virtual NIC (inside VM)   \u2022  \u2022 \u2022 \u2022 \u2022 \n\u00db [1] The network card bandwidth influences how many SAP HANA VMs are supported on the vSAN datastore and how long a vMotion migration process will take to finish. Depending on the SAP HANA memory sizes, we recommend using 4- and 8-socket host systems and 4-socket large VMs with a minimum of 25GbE NICs.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2172, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "af7fac99-d858-49a9-a6b2-0dadcf106dfc": {"__data__": {"id_": "af7fac99-d858-49a9-a6b2-0dadcf106dfc", "embedding": null, "metadata": {"page_label": "48", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e90e3a4a-0b4d-4e75-8456-23fb784291b2", "node_type": "4", "metadata": {"page_label": "48", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "97a032ff63abd49ee45a5965c1771d9e910b55c6ed75a544b088cd9727ea75d2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 48 \nRecommendations: \u2022 Use VLANs to reduce the total number of physical network cards needed in a server.  \u2022 Make sure there\u2019s enough network bandwidth available for each SAP HANA VM. \u2022 Make sure the installed network cards of an ESXi host provide enough bandwidth to serve all SAP HANA VMs running on it. Oversubscribing network cards will result in poor response times or increased vMotion or backup times. Note: The sum of all SAP HANA VMs that run on a single ESXi host must not oversubscribe the available network card capacity. Recommended: Create a vSphere Distributed Switch per dual-port physical NIC and configure port groups for teaming and failover purposes. Use the default port group setting, except for the uplink failover order, as shown in the next table. A port group defines properties regarding security, traffic shaping, and NIC teaming.  The following table shows an example of how to group the network port failover teams. It also shows the distributed switch port groups created for different functions and the respective active and standby uplinks to balance traffic across the available ones. The suggestions in this table will differ depending on the required and optional networks needed for vSphere, SAP HANA system replication, or scale-out internode networks. At a minimum, 3 NICs are required for a virtual HANA system leveraging vMotion and vSphere HA. Additional network adapters are required for the optional use cases. You should configure the network port failover teams to allow physical NIC failover. Recommended: For physical NIC failover, you should use NICs with the same network bandwidth, such as only 10GbE NICs and group failover pairs, depending on their needed network bandwidth.  Important: Do not group 2 high-bandwidth networks, such as the internode network with the app server network. Table 17. Minimum ESXi server uplink failover network configuration based on 10GbE NICs Property NIC VLAN [1] Active uplink Standby uplink vSphere admin + vSphere HA 1 200 Nic1-Uplink1 Nic2-Uplink2 SAP application server network 1 201 Nic1-Uplink1 Nic2-Uplink2 vMotion network 2 202 Nic2-Uplink1 Nic1-Uplink2 Backup network (optional) 3 203 Nic3-Uplink1 Nic4-Uplink2 HSR network (optional) 4 204 Nic4-Uplink1 Nic3-Uplink2 Scale-out network (optional) 5 205 Nic5-Uplink1 Nic6-Uplink2 Storage network (optional) 6 206 Nic6-Uplink1 Nic5-Uplink2 \u00db [1] For the VLAN ID example, the final VLAN numbers are up to the network administrator.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2532, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "cf2eff0a-5aac-4baf-bd8e-e734f53315be": {"__data__": {"id_": "cf2eff0a-5aac-4baf-bd8e-e734f53315be", "embedding": null, "metadata": {"page_label": "49", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "29912c1c-8b79-42e6-9fb0-5d3d4f2f6c2a", "node_type": "4", "metadata": {"page_label": "49", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "717e3975b7d319193901490db2b1efec311296adf7c9995f0c37718a50d1c9f7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 49 \n Recommended: Use different VLANs, as shown, to separate the VMware operational traffic (for example, vMotion and vSAN) from the SAP and user-specific network traffic. Also, use higher bandwidth network adapters to reduce the number of physical network cards, cables, and switch ports.  The next table shows an example with 25GbE network adapters. Table 18. Example SAP HANA on vSphere network configuration based on 25GbE NICs   Host IPMI/ remote control network \nvSphere admin + vSphere HA network \nApplication server network vMotion network Backup network System replication network Scale-out internode network NFS/ vSAN/SDS network \nHost network configuration (all networks are dual-port NICs configured as  failover teams) \nNetwork label Physical host mgmt vSphere admin SAP app server vMotion Backup network (optional) HANA replication (optional) Scale-out (optional) Storage network (optional) Typical bandwidth 1GbE 1GbE >= 24GbE >= 15GbE >= 10GbE >= 15GbE >= 10GbE >= 25GbE \nTypical MTU size Default (1,500) Default (1,500) Default (1,500) 9,000 9,000 9,000 9,000 9,000 \nVLAN ID# examples  200 201 202 203 204 205 206 \nPhysical NIC#, bandwidth [1] #0, 1GbE #1, 25GbE #2, 25GbE #3, 25GbE #4, 25GbE \nActive physical NIC port 1 1 1 1 1 \nStandby physical NIC port 2 2 2 2 2 \nVM guest network cards Virtual NIC (inside VM)   \u2022  \u2022 \u2022 \u2022 \u2022 \n\u00db [1] The selected network card bandwidth influences how many SAP HANA VMs are supported on the vSAN datastore or how long a vMotion migration process will take to complete. Depending on the HANA memory sizes, we recommend you use 4- and 8-socket host systems and a 4-socket large VM with a minimum of 25 GbE NICs. Using 25GbE network adapters helps reduce the number of NICs, network cables, and switch ports. With higher bandwidth NICs, the vSphere system can support more SAP HANA VMs per host. The following table shows an example of how to group the network port failover teams.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1989, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5e32c843-ca64-467e-b826-0a0de8b904ea": {"__data__": {"id_": "5e32c843-ca64-467e-b826-0a0de8b904ea", "embedding": null, "metadata": {"page_label": "50", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6aca107c-6227-4713-96d8-5407af124ad4", "node_type": "4", "metadata": {"page_label": "50", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "105688b3c721dc93c05f05259b3947de2bf178af74c49a01c8516598036ed043", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 50 \nTable 19. Minimum ESXi server uplink failover network configuration based on 25GbE NICs (VCF setup and non-VCF setup) Property NIC VLAN [1] Active uplink Standby uplink vSphere admin + vSphere HA 1 200 Nic1-Uplink1 Nic2-Uplink2 SAP application server network 1 201 Nic1-Uplink1 Nic2-Uplink2 \nvMotion network 2 202 Nic2-Uplink1 Nic1-Uplink2 Backup network (optional) 2 203 Nic2-Uplink1 Nic1-Uplink2 HSR network (optional) 3 204 Nic3-Uplink1 Nic4-Uplink2 Scale-out network (optional) 3 205 Nic3-Uplink1 Nic4-Uplink2 Storage network (optional) 4 206 Nic4-Uplink1 Nic3-Uplink2 \u00db [1] The network administrator usually determines the final numbers for the VLAN ID example. Recommended: Use different VLANs, as shown, to separate the vSphere operational traffic (for example, vMotion and vSAN) from the SAP and user-specific network traffic. Use 100 GbE bandwidth network adapters to further reduce the number of physical network cards, cables, and switch ports.  The next table shows an example with 100GbE network adapters. Table 20. Example SAP HANA on vSphere Network Configuration based on 100GbE NICs (VCF setup and non-VCF setup)   Host IPMI/ remote control network \nvSphere admin + vSphere HA network \nApplication server network vMotion network Backup network System replication network Scale-out internode network NFS/ vSAN/SDS network \nHost network configuration (all networks are dual-port NICs configured as failover teams) \nNetwork label Physical host management vSphere admin SAP app server vMotion Backup network (optional) HANA replication (optional) Scale-out (optional) Storage network (optional) Typical bandwidth 1GbE 1GbE >= 24GbE >= 15GbE >= 10GbE >= 15GbE >= 10GbE >= 25GbE Typical MTU size Default (1,500) Default (1,500) Default (1,500) 9,000 9,000 9,000 9,000 9,000 VLAN ID # examples  200 201 202 203 204 205 206 Physical NIC #, bandwidth #0, 1GbE #1, 100GbE #2, 100GbE \nActive physical NIC port 1 1 1", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1986, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "45c68e18-58c5-4f82-86aa-d673c528b749": {"__data__": {"id_": "45c68e18-58c5-4f82-86aa-d673c528b749", "embedding": null, "metadata": {"page_label": "51", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c0d9f8dd-1290-4cea-b5b1-372f4f4ddd96", "node_type": "4", "metadata": {"page_label": "51", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "5c4418774e40ef6a490466edddf442fe8820610dc1d0b3dbd2343a42dc520dd9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 51 \n  Host IPMI/ remote control network \nvSphere admin + vSphere HA network \nApplication server network vMotion network Backup network System replication network Scale-out internode network NFS/ vSAN/SDS network \nStandby physical NIC port 2 2 2 \nVM guest network cards Virtual NIC (inside VM)   \u2022  \u2022 \u2022 \u2022 \u2022 \n Note: The network example configurations in the tables above only leverage vSphere networking. For these examples, the configured host tunnel endpoint (TEP) for NSX overlay networking via VCF is irrelevant and not shown in the tables.  The following table shows an example of how to group the network port failover teams based on 100GbE NICs. Table 21. Minimum ESXi Server Uplink Failover Network Configuration based on 100GbE NICs Property NIC VLAN [1] Active uplink Standby uplink vSphere admin + vSphere HA 1 200 Nic1-Uplink1 Nic2-Uplink2 \nSAP application server network 1 201 Nic1-Uplink1 Nic2-Uplink2 \nvMotion network 1 202 Nic1-Uplink1 Nic2-Uplink2 Backup network (optional) 2 203 Nic2-Uplink1 Nic1-Uplink2 \nHSR network (optional) 2 204 Nic2-Uplink1 Nic1-Uplink2 \nScale-out network (optional) 2 205 Nic2-Uplink1 Nic1-Uplink2 \nStorage network (optional) 2 206 Nic2-Uplink1 Nic1-Uplink2 \n\u00db [1] For the VLAN ID example, final VLAN numbers are up to the network administrator. Recommended: Use different VLANs, as shown, to separate the VMware operational traffic (for example, vMotion and vSAN) from the SAP and user-specific network traffic.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1514, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "cb4b8b3e-6b23-4acf-aa42-347d9a2fe580": {"__data__": {"id_": "cb4b8b3e-6b23-4acf-aa42-347d9a2fe580", "embedding": null, "metadata": {"page_label": "52", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5cda10f5-c706-4f01-b846-16ee40ddec87", "node_type": "4", "metadata": {"page_label": "52", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "312e5478faebe833db5b28b6998e9f904750f579cc9e8091a5fc07734438d1b0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 52 \nWorkload performance and validation testing The SAP HANA on vSphere validation involves different tests, some of which focus on CPU and memory performance, while others involve storage and network performance and scalability tests. These tests use SAP-specific OLTP and OLAP workloads and scale from single-user tests up to thousands of concurrent users (for example, up to 78,000 with Cooper Lake processors), pushing the virtualized SAP HANA system to its limits. VMXNET3 network latency considerations: Our performance testing found that the virtualized network card (VMXNET3) typically adds between 60\u00b5s (no load) and up to 300\u00b5s of latency (high CPU load >= 80%) to every network package compared to a bare metal installed SAP HANA system, which impacts SAP OLTP and OLAP workloads issued by remote application servers or users. The following sub-sections include information about this impact and describe how to mitigate it by optimizing the virtual and physical network configuration. \nSAP workload characterization and the impact on network performance We can characterize SAP workloads in three ways:  \u2022 OLTP workloads, which represent classic SAP ERP systems \u2022 OLAP workloads, which represent the analytical workloads of business warehouse (BW) systems \u2022 Both OLTP and OLAP, which represent SAP S/4HANA systems Because SAP S/4HANA combines these two workload types, we need to consider both of their characteristics. Typical OLTP workloads are small network packages with a recommended MTU size of 1,500, whereas the recommended MTU size for OLAP workloads is 9,000. You need to understand how the SAP S/4HANA system is used to choose the correct MTU size. You also need to understand how many concurrent users will interact with the SAP HANA database and how much network traffic they will create. In recent tests of vSphere with SAP HANA with OLTP workloads, SAP and VMware observed an increase in OLTP transactional request times, which showed an overhead of up to 100ms when compared to bare metal SAP HANA systems. We saw this rise when we used the VMXNET3 virtual NIC. This is because virtual networking adds latency to every network package sent or received, ranging from 60\u00b5s (no load) to up to 300\u00b5s (high load, wide VM, measured with 23,000\u201364,000 users running on a 4-socket Cooper Lake processor host and 35,000\u201378,000 users running on an 8-socket Cooper Lake processor host). This is documented in Broadcom KB 83957. Unlike for storage (see the \"Storage configuration and sizing\" section), SAP did not define SAP HANA-specific network KPIs for throughput and latency that an SAP HANA system must maintain, apart from the general recommendation to use a 10 GbE network for SAP applications and SAP HANA database servers. Therefore, it is difficult to define a specific network configuration, and specific tests are required to recommend a suitable network configuration for a virtualized SAP HANA environment. The next section discusses how we measured the VMXNET3 impact and how to optimize the network configuration for an SAP HANA VM for its given use case.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3148, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4de0be74-30b1-44cc-a2ab-f873c5d7aec9": {"__data__": {"id_": "4de0be74-30b1-44cc-a2ab-f873c5d7aec9", "embedding": null, "metadata": {"page_label": "53", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ec1f92b1-e1ca-47dc-8c81-3cdf65dbfabc", "node_type": "4", "metadata": {"page_label": "53", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "004712412d0236db8ac2ffb78d9f836b3a0710810e2c6f1aae1b71a3d4f654c1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 53 \nNote: This reference guide doesn't include the adoption of NSX networking (VLAN or overlay segments) or NSX Distributed Firewall (DFW). These NSX deployment options require additional consideration and planning and are currently out of scope for this document. \nPerformance tests run with SAP S/4HANA and BW/4HANA: workload and validation testing We ran performance tests to measure the impact of virtualization on SAP HANA, and ultimately on the users, to define the best possible configuration for mitigating the virtualization costs, such as increased network latencies. \nTestbed configuration A typical SAP S/4HANA environment is a three-tier landscape, with the application tier on one or more hosts separate from the database tier. Users access the application servers when they work within the stored data of the SAP HANA database.  We configured tests with SAP S/4HANA and BW/4HANA to run on the 3-tier environment (shown below) to simulate real customer systems. Figure 10. SAP 3-tier architecture on vSphere", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1082, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2bfa53c3-c01b-40aa-9a8d-9695480e2a54": {"__data__": {"id_": "2bfa53c3-c01b-40aa-9a8d-9695480e2a54", "embedding": null, "metadata": {"page_label": "54", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fb1315ac-ca93-4c2f-873b-64d1c00828a7", "node_type": "4", "metadata": {"page_label": "54", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "fe3f6216825fe3858a2aa961a379292cd9a0ca9c53cab4f087b31b81bd8a0360", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 54 \nThe table below shows our testbed configuration. Table 22. Testbed configuration Software \u2022 SAP S/4HANA \u2022 SAP BW/4HANA \u2022 VMware vSphere Application workloads \u2022 OLTP \u2022 OLAP \u2022 OLTP/OLAP mix Benchmark software \u2022 SAP S/4HANA \u2013 custom mixed workload that exercised the CPU utilization at 35% for the 4-socket server and 65% for the 8-socket server \u2022 SAP BW/4HANA \u2013 BWH benchmark  ESXi host and bare metal server hardware \u2022 4-socket Cooper Lake system  \u2022 8-socket Cooper Lake system VM configuration \u2022 Single VM. Actual size as big as the host minus memory overhead, like an 8-socket, 11.5TB large VM with up to 448 vCPUs and a VMXNET3 NIC for the SAP test-initiated network traffic.  \nWorkload information One of the tests used for the validation is meant to simulate a day-in-the-life workload using common SAP online/interactive business transactions, such as the following: \u2022 VA01: Create sales order \u2022 VL01N: Create delivery \u2022 VA03: Display order \u2022 VL02N: Post goods issue \u2022 VA05: List open orders \u2022 VF01: Create invoice \nTest methodology The tests simulated OLTP and OLAP transactions up to the maximum possible CPU utilization level. A load driver initiated the application workloads, which simulated thousands of SAP users accessing the SAP HANA VM at the same time.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1333, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "235ce56b-bcd4-494b-b0b3-f9470fe5fabb": {"__data__": {"id_": "235ce56b-bcd4-494b-b0b3-f9470fe5fabb", "embedding": null, "metadata": {"page_label": "55", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8a9f6e2f-5d40-4df3-b00f-e5d11e438c5e", "node_type": "4", "metadata": {"page_label": "55", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "06c17b09974b1d4006e994e021a29b17db6d31d1c033be59660c1c477e78f47c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 55 \nThe application server instances received these requests and ran the SAP-specific transactions against the SAP HANA database. These transactions created several hundred database logical units of work (LUW) and were measured as a database request time in milliseconds. Note: The measured database request time is the time taken for transactions between the SAP application server and the SAP HANA database instance. We did not measure the time a user needed to wait until an application server responded to a user-initiated transaction. The user-to-application server time is normally significantly higher than the database request time between application servers and a database instance.  The number of simulated SAP users per test run depended on the SAP HANA VM size and started at approximately 23,000 concurrent users for a 4-socket wide VM and approximately 35,000 concurrent users for an 8-socket wide VM (low load), and then increased to approximately 44,000 (4-socket) and approximately 60,000 (8-socket) concurrent users (moderate load), and then increased again to approximately 64,000 (4-socket) and approximately 78,000 (8-socket) concurrent users until the throughput dropped, which represents the maximum number of users possible (high load). The number of concurrent users on the SAP HANA database instance represents a moderate to high CPU load: \u2022 35% CPU utilization \u00e0 low CPU load \u2022 65% CPU utilization \u00e0 moderate CPU load \u2022 >65% CPU utilization \u00e0 high CPU load (for example, 85%) The number of users increased until the OLTP/OLAP throughout dropped. With this requirement: \u2022 The 4-socket server achieved approximately 64,000 concurrent users at a CPU utilization of approximately 80%.  \u2022 The 8-socket system achieved approximately 78,000 concurrent users, also at a CPU utilization of about 80%. As mentioned, these transactions were run on an 8-socket-wide Cascade Lake 8280L CPU-based server/VM until the maximum OLTP transactions per hour result was reached. The test-relevant results are of users at the 35% and 65% CPU utilization points.  The result of the maxed-out measurement defines the maximum throughput number for OLTP/OLAP and the maximum possible number of SAPS for a physical or virtualized SAP HANA system. \nTest results for OLTP workload The test results of running the custom mixed workload and the BWH benchmark provide information on virtual network performance, allowing us to make recommendations to reduce the virtualization impact on networking performance. Running the BWH benchmark didn't reveal any network throughput or latency issues, but the SAP S/4HANA custom mixed workload test revealed a network latency issue with the VMXNET3 driver, as documented in Broadcom KB 83957. The following tables and figures summarize the results of these findings based on the latest Cooper Lake processors.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2907, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2dec690f-b5e7-42a2-bc9b-70dc41b7bea1": {"__data__": {"id_": "2dec690f-b5e7-42a2-bc9b-70dc41b7bea1", "embedding": null, "metadata": {"page_label": "56", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fe0aebd2-c39b-41c3-bffa-7237ddd69d35", "node_type": "4", "metadata": {"page_label": "56", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "9073a87b313340ed167e9a8af8bc573c3056dea489d7884d72830fee69571761", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 56 \nThe following table shows the minimum and maximum VMXNET3 latency deviation measured with netperf on 8-socket-wide virtualized (VMXNET3 VM) and non-virtualized SAP HANA systems when running first with no load and next under a high user load. The high user load represents a CPU utilization of up to 65%. The bare metal SAP HANA system had, on average, a netperf TCP roundtrip time of around 26\u00b5s (no load) and up to 95\u00b5s (high load). On average, the virtualized SAP HANA system showed 84\u00b5s and 319\u00b5s TCP roundtrip time while under load. Table 23. Network latency of Netperf TCP VMXNET3 compared to bare metal, measured in \u00b5s 8-socket server/VM Baseline latency with no load (\u00b5s) Latency at peak load with 65,000 concurrent users (\u00b5s) Bare metal 26 95 VMXNET3 84 319 Overall change in value (delta) 58 224 \nThe virtualization overhead here is 3x that of bare metal. The overhead specifically refers to the higher TCP round trip time (latency) per network package sent and received (while idle: no load; running: high load). This reduces the overall database request time performance. We found two ways to increase performance:  \u2022 Use a network card configured as passthrough. This shows only a slight latency compared to a physical NIC.  \u2022 Optimize the underlying physical network to lower the overall latency of the network.  When we observed the VMXNET3 virtualization overhead (latency) of an 8-socket-wide VM running on an Intel Cooper Lake server with 416 vCPUs (32 CPU threads were reserved to handle this massive network load) to a natively installed SAP HANA system running on the same server, we saw how these microseconds accumulate on a database request time deviation of between 27ms and approximately 82ms. See the next figure for this comparison. Note: Running the application workload with 91,000 concurrent users results in a significant volume of network traffic. By reducing the number of vCPUs from 448 to 416, the ESXi kernel was better able to manage this intense network load when using VMXNET3. Subsequent tests using vSphere 8 with the same Cooper Lake configuration demonstrated that reducing the vCPUs to 432 was adequate. Lower user loads typically do not require reserving CPU threads for the networking stack.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2302, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "366b63a7-d761-4721-825c-e69548114d45": {"__data__": {"id_": "366b63a7-d761-4721-825c-e69548114d45", "embedding": null, "metadata": {"page_label": "57", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "41a7d4e2-7379-4ba8-aab8-0360c9d86cda", "node_type": "4", "metadata": {"page_label": "57", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "6da4cb6a593e31d31290e3e71a28d437c03d689bf258c9f079e82d5d31d01fd1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 57 \nFigure 11. Mixed workload OLTP database request time in milliseconds (ms) \n Using VMXNET3 resulted in a 25% (27ms) increase in the database request time at 35% CPU utilization but had no effect on the OLTP throughput per hour (TPH) or OLAP queries per hour (QPH). At approximately 65% CPU utilization, the database request time increased to 36% (82 ms higher) with a TPH deviation of approximately -1%. At the maximum user capacity, with 91,000 users and approximately 80% CPU utilization, the impact of TPH and QPH was approximately -8%. There was minimal impact on the OLAP request times. The following 3 figures show these results.  We found that using a network device configured as passthrough (instead of using a VMXNET3 network card) reduced the database request time for the OLTP application workload: \u2022 At 35% CPU utilization, the VM with a passthrough NIC showed only a 3% difference (3 ms) compared to bare metal.  \u2022 At 65% CPU utilization, the VM with a passthrough NIC showed approximately a 9% (21 ms) difference. 80% of the time, the difference was still below 10%, keeping the THP and QPH deviations below -3% while maxed out. Reserving CPU threads to handle network traffic on the ESXi side was not necessary because the network traffic was handled inside the VM and by the OS\u2014not by ESXi as when VMXNET3 is used. Refer to the following figures.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1427, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2339e0da-6c76-4e2c-81d9-d07334738d51": {"__data__": {"id_": "2339e0da-6c76-4e2c-81d9-d07334738d51", "embedding": null, "metadata": {"page_label": "58", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "41e61114-5429-4829-9c48-3ef1dbc23add", "node_type": "4", "metadata": {"page_label": "58", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "0f9606f6056f4d13cf88a4626145c50321f572a9a48a9304603c63d18ecc61fa", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 58 \nNote: The measured database request time is the time between the SAP application server and the HANA database instance.  We didn't measure the time a user had to wait until an application server responded to the user-initiated transaction. The user-to-application server time was significantly higher than the database request time between application servers and a database instance. The figure below shows that the VMXNET3 or passthrough network cards did not significantly impact the OLAP request times compared to a bare metal server. Figure 12. Mixed workload OLAP database request time in milliseconds (ms) \n While the virtualization overhead can already be measured with lower user numbers (network traffic), this SAP S/4HANA mixed workload test has shown that the main impact can be measured at higher user load numbers that quickly generate massive OLTP requests and have little impact on OLAP database request time (next figure).", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1004, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "34e4c93e-e9a0-448b-9c03-0075e7f7ef93": {"__data__": {"id_": "34e4c93e-e9a0-448b-9c03-0075e7f7ef93", "embedding": null, "metadata": {"page_label": "59", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "63c95f09-72a8-458f-994b-ce0d1c1a4d7d", "node_type": "4", "metadata": {"page_label": "59", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "bee7db8dc16b763bcec50fc17b75bd2f052720b0be799b580ed7cc40e9e39e57", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 59 \nFigure 13. Mixed workload OLTP database TPH \n Using a virtualized VMXNET3 network adapter typically has no significant effect on database request time at CPU utilizations between 35% and 65%, which means that the impact on OLTP throughput is less than 8%. In this test, the so-called max-out point was -8% using VMXNET3. Keep in mind that standard SAP workloads can reach 65% CPU utilization. If your application is sensitive to database request times and you want to lower the network latency between the SAP app server tier and the database instance, consider using passthrough NICs instead of VMXNET3 NICs. However, passthrough doesn\u2019t support vMotion. The following figure displays the mixed workload OLAP QPH results of a Cooper Lake system. Using VMXNET3 has very little effect on the QPH results, which are between 35% and 65% (up to 1%), and at the max-out point at over 80% CPU utilization, it has about -8% of an impact.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 995, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3eaef5ef-b189-4275-9789-9e95d16e77df": {"__data__": {"id_": "3eaef5ef-b189-4275-9789-9e95d16e77df", "embedding": null, "metadata": {"page_label": "60", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e6711169-c44a-44aa-a582-de70a5396156", "node_type": "4", "metadata": {"page_label": "60", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "f3d9a7484e2351b1187286263438d32fff0ef1bcfa581d08cf7794cf5445998b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 60 \nFigure 14. Mixed workload OLAP database QPH \n In summary, for OLAP workloads, a passthrough NIC doesn't make complex query runtime any faster. Reserving some CPU cores for the ESXi kernel by lowering the number of vCPUs in a VM could potentially improve performance during data loading, but it will result in lower QPH for SAP HANA. For OLAP workloads, we recommend using the VMXNET3 NIC. OLTP workloads benefit most from passthrough NICs. If you don't use a passthrough NIC and need to use VMXNET3 for some reason, you could instead reduce the number of vCPUs.  We recommend you begin with VMXNET3, and if the database request time is longer than expected, then check the physical network infrastructure and, if possible, optimize it for low latency before considering passthrough NICs. This can help achieve nearly bare-metal NIC latencies. Once again, optimizing the SAP HANA database network for low latency and throughput will have the most beneficial impact on overall SAP HANA performance. Note: When database request times are high, consider optimizing the physical SAP network. Start with the user, then move on to the SAP app server tier, and then from the app server to the SAP HANA database. Low-latency switches, a flat network architecture, or newer NICs will help to reduce the transaction request time experienced by users. The use of passthrough NICs inside the SAP HANA VM will only impact the database request time to the app servers, at the expense of losing vMotion capabilities. Additionally, using different CPU generations may yield different results. Sapphire Rapids systems show lower database request times (latencies) than older CPU generations.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1738, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9a0f81a5-c222-499f-b061-2516a84cb631": {"__data__": {"id_": "9a0f81a5-c222-499f-b061-2516a84cb631", "embedding": null, "metadata": {"page_label": "61", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "87aac8eb-1470-4d91-a51f-063d901cf9ff", "node_type": "4", "metadata": {"page_label": "61", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e970e8583543b4baa7bd68780ab2f0fc12e4a2e27fd7f0823a4bc41cf1d0ed3e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 61 \nSAP S/4HANA and B/4HANA validation test findings (OLAP) Business warehouse (OLAP) workloads affect database request time and QPH results less than OLTP workloads\u2014OLTP workloads generate more frequent network traffic and shorter packages. VMXNET3 latency overhead is less noticeable for OLAP workloads, which generate long-running queries but are less frequent. The next table shows the certified results of published BWH tests with Intel Cascade Lake server systems. The results show a BWH configuration based on the L-class sizing that SAP specified for servers with 8 sockets and 6TB of memory. We compared the virtual test results to those of a BWH system natively installed on the same hardware configuration.  The table below shows the test results. We ran the test on an Intel 8280L Cascade Lake server with 6TB of memory and 28-core CPUs running at 2.7GHz. The test consisted of 9 data sets (11.7 billion records).  Table 24. BWH 6TB L-class workload test: bare metal compared to VM with VMXNET3 SAP BWH L-class KPIs 25,000 5,000 200 Configuration Cert CPUs Threads Memory Records BWH Phase 1 (sec.) Delta BWH Phase 2 (QPH) \nDelta BWH Phase 3 (sec.) \nDelta \nBare metal CLX 8S host 2020021 448 6.144GB  11.7 billion 19,551 - 5,838 - 146 - \nVM with VMXNET3 2020031 448 5.890GB 20,125 2.94% 5,314 -8.98% 146 0% \n - is better + is better - is better As you can see in the above table, the virtualization overhead while using a VMXNET3 NIC was very low and within 10%. In Phase 3 (measured in seconds), there was no change in the total runtime of the complex query phase. In very critical environments, this overhead can be lowered even further by leveraging a passthrough (instead of a VMXNET3) NIC.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1767, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d6b961d4-e3f4-423c-b5d3-10228c851f72": {"__data__": {"id_": "d6b961d4-e3f4-423c-b5d3-10228c851f72", "embedding": null, "metadata": {"page_label": "62", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1e8aee61-b34e-4b2b-a526-009acad3800f", "node_type": "4", "metadata": {"page_label": "62", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "ec75c4a3bc899253489ac9685e4ace70798e44861bd93a7e78ad4f80fe787c86", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 62 \nBWH L-Class vs. M-Class sizings for SAP HANA VMs The benchmark that HPE ran on SAP HANA 2.0 SP6 used 6TB and 12TB large database instances to store 10,400,000,000 (BWH L-Class sizing or 5,000 QPH) and 20,800,000,000 (BWH M-Class sizing or 2,500 QPH) initial records. This is the best result ever recorded in a vSphere 7 virtualized environment, with 7,600 (cert. 2022014) and 4,676 (cert. 2022015) queries per hour (QPH). The following table and figure show the benchmark results of a bare metal vs. virtual environment. While the virtual results don\u2019t pass the BWH L-Class sizing mark, they are still within 10% of a previously published bare metal BHW 12TB benchmark, which ran on the same hardware configuration with SAP HANA 2.0. Table 25. BWH 12TB Cooper Lake, 8-socket M-Class workload test: bare metal vs. virtual SAP BWH M-Class KPIs 35,000 2,500 300 Configuration Cert CPUs Threads MEM Records BWH Phase 1 (sec.) Delta BWH Phase 2 (QPH) Delta BWH Phase 3 (sec.) Delta \nHPE Superdome Flex 280, Intel Xeon Platinum 8380HL,  28-core CPU - Bare Metal \n2021058 448 12.28GB \n20.8 billion  \n14,986 - 5,161 - 137 - \nHPE Superdome Flex 280, Intel Xeon Platinum 8380HL,  28-core CPU \u2013 vSphere 7 VMXNET3 VM \n2022015 448 11.776GB 15,275 -1.93% 4,676 -9,40% 149 8,76% \n - is better + is better - is better", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1366, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6c6263fd-ba30-4e1f-b237-9c658fab61e7": {"__data__": {"id_": "6c6263fd-ba30-4e1f-b237-9c658fab61e7", "embedding": null, "metadata": {"page_label": "63", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3ff4415c-3e7e-4781-9071-d3ee74e23cbe", "node_type": "4", "metadata": {"page_label": "63", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "d301ab264939e91b5cd9258d9119c5cd58bd39d0531e209b5c9b3cfbf82f52ef", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 63 \nFigure 15. BWH 12TB Cooper Lake, 8-socket M-Class workload test: bare metal vs. virtual \n With the new Sapphire Rapids\u2013based systems with vSphere 8, we achieved the BWH L-Class sizing mark with both a 6TB and an 8TB 4-socket virtualized SAP HANA Sapphire Rapids system. With the 2-socket configuration, virtualized is very close to bare metal. See the next tables and figures for details. The overall virtualization overhead for the 2-socket configuration was below 3% of that for a bare metal configuration. For your reference, the 2-socket SPR 4TB BWH benchmark was published under cert number 2023030.  Table 26. BWH 4 TB Sapphire Rapids, 2-socket M-Class workload test: bare metal vs. virtual SAP BWH M-Class KPIs 35,000 2,500 300 SAP BWH L-Class KPIs 25,000 5,000 200 Configuration Cert CPUs Threads MEM Records BWH Phase 1 (sec.) Delta BWH Phase 2 (QPH) Delta BWH Phase 3 (sec.) Delta \nLenovo ThinkAgile VX650 V3 CN, Intel\u00ae Xeon\u00ae Platinum 8490H, 60 core CPU - Bare Metal \n\u2014 240 4,096 GB \n     \n16,158 \u2014 5,036 \u2014 109 \u2014 \n14986\n5161\n137\n15275\n4676\n14902,0004,0006,0008,00010,00012,00014,00016,00018,000\nPhase 1 (sec.)Phase 2 (QPH)Phase 3 (sec.)\nBWH 12TB Cooper Lake, 8-Socket M-Class workload test: bare metal vs. virtual\nHPE Superdome Flex 280, Intel Xeon Platinum 8380HL,28 core CPU - Bare Metal (cert. 2021058)HPE Superdome Flex 280, Intel Xeon Platinum 8380HL,28 core CPU \u2013vSphere 7 VMXNET3 VM (cert. 2022015)", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1480, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "586a6e38-23be-4afb-add6-f811d48c3ce4": {"__data__": {"id_": "586a6e38-23be-4afb-add6-f811d48c3ce4", "embedding": null, "metadata": {"page_label": "64", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4d425313-3535-4744-a6fb-3174e9e5a1ce", "node_type": "4", "metadata": {"page_label": "64", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e1ee407b27e4ca3a990d602bf486c27b7e2d84ea2a1a5fdf40c1c362f6d37219", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 64 \nSAP BWH M-Class KPIs 35,000 2,500 300 Lenovo ThinkAgile VX650 V3 CN, Intel\u00ae Xeon\u00ae Platinum 8490H, 60 core CPU- vSphere 8 VMXNET3 VM \n2023030 240 3,937 GB \n7.8 billion \n15,738 -2.6% 4,933 -2% 110 -1.3% \n - is better + is better - is better  Figure 16. BWH 4TB Sapphire Rapids, 2-socket M-Class workload test: bare metal vs. virtual \n The same benchmark running with more datasets on a 4-socket Sapphire Rapids system with 6TB and 8TB and 480 logical CPUs also shows very little virtualization overhead (below 6%) and with both memory configurations, we achieved the BHW L-Class CPU sizing category.   \n16158\n5036\n108.5\n15738\n4933\n109.902,0004,0006,0008,00010,00012,00014,00016,00018,000\nBWH Phase 1 (sec.)BWH Phase 2 (QPH)BWH Phase 3 (sec.)\nBWH 4TB Sapphire Rapids, 2-Socket M-Class workload test: bare metal vs. virtual\nLenovo ThinkAgile VX650 V3 CN, Intel\u00ae Xeon\u00ae Platinum 8490H, 60 core CPU - Bare MetalLenovo ThinkAgile VX650 V3 CN, Intel\u00ae Xeon\u00ae Platinum 8490H, 60 core CPU- vSphere 8 VMVMXNET3", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1061, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "749991db-2240-4801-9730-45981a009f24": {"__data__": {"id_": "749991db-2240-4801-9730-45981a009f24", "embedding": null, "metadata": {"page_label": "65", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "86707dbf-1028-4b1a-94f7-70cd9f45329d", "node_type": "4", "metadata": {"page_label": "65", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "7bff8bea637dd68e5fa86459a2f03deffcf9e173adcf5d59b85bb4eade9ac412", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 65 \nTable 27. BWH 8TB Sapphire Rapids, 4-socket M-Class workload test: bare metal vs. virtual, achieving L-Class CPU sizing mark SAP BWH M-Class KPIs 35,000 2,500 300 SAP BWH L-Class KPIs 25,000 5,000 200 Configuration Cert CPUs Threads MEM Records BWH Phase 1 (sec.) \nDelta BWH Phase 2 (QPH) \nDelta BWH Phase 3 (sec.) Delta \nLenovo ThinkAgile VX850 V3 CN, Intel\u00ae Xeon\u00ae Platinum 8490H, 60 core CPU - Bare Metal \n\u2014 480 8,192GB \n14,3 billion \n12,778 \u2014 5,902 \u2014 151 \u2014 \nLenovo ThinkAgile VX850 V3 CN, Intel\u00ae Xeon\u00ae Platinum 8490H, 60 core CPU- vSphere 8 VMXNET3 VM \n\u2014 480 8,000GB 13,506 5.7% 5,880 -0.4% 156 3.3% \n - is better + is better - is better", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 705, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4bc21243-4832-4f39-99a0-52b00ecee30d": {"__data__": {"id_": "4bc21243-4832-4f39-99a0-52b00ecee30d", "embedding": null, "metadata": {"page_label": "66", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c5ec5a59-311c-4314-b344-b77bea16f4bb", "node_type": "4", "metadata": {"page_label": "66", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "572e1741eaa7fa9c1bada91214e337384c147dd58c73e3f2bb0e769d053c63c6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 66 \nFigure 17. BWH 8TB Sapphire Rapids, 4-socket M-Class workload test: bare metal vs. virtual \n \nVirtual SAP HANA performance evolution over 5 CPU generations In summary, for our validation test results, we compared the different CPU generations to the same vSphere version using the SAP internal mixed workload tests and the public BHW benchmarks, which demonstrate significant performance gains. The next tables provide a performance snapshot comparing different virtual SAP HANA systems running on Broadwell and Sapphire Rapids systems.  Table 28. 4-Socket vSphere 8 VM vs older CPU generations running mixed SAP HANA workload test VM @ max-out CPU MP Configuration Users @ max. CPU Used CPU Threads TPH QPH \n4-Socket Intel Broadwell E7-8880 v4 22 Core CPU - VMXNET3 vSphere 7 VM 35,000 168  3,723,484   6,210  \n2-Socket Intel Ice Lake 8380 40 Core CPU VMXNET3 vSphere 8 VM 50,000 160  5,676,112   9,487  \n8-Socket Intel Cascade Lake 8280L, 28 Core CPU - VMXNET3 vSphere 8 VM 85,000 448  7,710,063   12,855  \n12778\n5902\n151\n13506\n5880\n15602,0004,0006,0008,00010,00012,00014,00016,000\nBWH Phase 1 (sec.)BWH Phase 2 (QPH)BWH Phase 3 (sec.)\nBWH 8TB Sapphire Rapids, 4-Socket M/L-Class workload test: bare metal vs. virtual\nLenovo ThinkAgile VX850 V3 CN - Bare MetalLenovo ThinkAgile VX850 V3 CN- vSphere 8 VM VMXNET3", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1378, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3e20003a-c09f-42d5-8a0f-1b8574c6655d": {"__data__": {"id_": "3e20003a-c09f-42d5-8a0f-1b8574c6655d", "embedding": null, "metadata": {"page_label": "67", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c2674162-9167-4ed4-b90c-6b023f500e5f", "node_type": "4", "metadata": {"page_label": "67", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "077b0ff1bc5ed292fcf8249b15bf364849efd1a12cc528b5bb2a332059900cb9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 67 \nConfiguration Users @ max. CPU Used CPU Threads TPH QPH \n2-Socket Intel Sapphire Rapids 8490H 60 Core CPU - VMXNET3 vSphere 8 VM 77,000 240  8,229,963   13,700  \n8-Socket Intel Cooper Lake 8380HL 28 Core CPU - VMXNET3 vSphere 8 VM 91,000 448  9,753,984   16,251  \n4-Socket Intel Sapphire Rapids 8490H 60 Core CPU - VMXNET3 vSphere 8 VM 110,000 480  11,389,998   19,025  \nNote: The Broadwell system used vSphere 7 instead of vSphere 8. The performance deviations between vSphere 7 and 8 are very small and for this comparison, they aren't relevant. The following figure shows the throughput per hour (TPH) performance in this specific test for SAP HANA over the different CPU generations in graphical form. If you compare a 4-socket Intel Broadwell-based 4-socket server with an Intel Sapphire Rapids 4-socket system, then you see an increase in the TPH test result by a factor of 3, or 300%. Figure 18. Performance evolution of CPU generations running mixed SAP HANA workload test VM @ max-out CPU MP measured in throughput per hour (TPH) \n The next figure shows the queries per hour (QPH) performance gain over the different CPU platforms. \n3,723,484 5,676,112 7,710,063 8,229,963 9,753,984 11,389,998 \n - 2,000,000 4,000,000 6,000,000 8,000,000 10,000,000 12,000,000\n 4-Socket IntelBroadwell E7-8880 v4 22 CoreCPU - VMXNET3vSphere 7\n 2-Socket IntelIce Lake 8380 40Core CPU -VMXNET3vSphere 8\n  8-Socket IntelCascade Lake8280L 28 CoreCPU - VMXNET3vSphere 8\n 2-Socket IntelSapphire Rapids8490H 60 CoreCPU - VMXNET3vSphere 8\n 8-Socket IntelCooper Lake8380HL 28 CoreCPU - VMXNET3vSphere 8\n 4-Socket IntelSapphire Rapids8490H 60 CoreCPU - VMXNET3vSphere 8\nInternal VMware vSphere 8 VMs Test Results with different CPU generations -Mixed SAP HANA Workload Test @ Max-Out CPU MP -TPH\n TPHLinear ( TPH )", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1861, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6ff74509-f044-415e-b6f8-27c487e89e1a": {"__data__": {"id_": "6ff74509-f044-415e-b6f8-27c487e89e1a", "embedding": null, "metadata": {"page_label": "68", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bfa82023-9652-40bb-a749-f5ee804f8e72", "node_type": "4", "metadata": {"page_label": "68", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "5078636ae8e5de404a245edaa8703497ef575fee97a564efd3920532ef757bd2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 68 \nFigure 19. Performance evolution of CPU generations running mixed SAP HANA workload test VM @ max-out CPU MP measured in queries per hour (QPH) \n The next table and figures provide the same overview but use the publicly available SAP HANA BWH benchmark. Apart from the storage used, the benchmark environment remained identical, making the most of the test results. Phase 1 of the BHW benchmark is comparable. Also, here we can see a significant improvement from an 8-socket Cascade Lake (448 logical CPU) system to a 4-socket Sapphire Rapids (480 logical CPU) system. Both systems run the same HANA, OS, and BHW versions with 6TB memory and 8 datasets configured. While the Sapphire Rapids system has more than 7.14% CPU threads, it shows a performance improvement of 35%. See the following figure and table for details. \n6,210 9,487 12,855 13,700 16,251 19,025 \n - 2,000 4,000 6,000 8,000 10,000 12,000 14,000 16,000 18,000 20,000\n 4-Socket IntelBroadwell E7-8880 v4 22 CoreCPU - VMXNET3vSphere 7\n 2-Socket Intel IceLake 8380 40Core CPU -VMXNET3vSphere 8\n  8-Socket IntelCascade Lake8280L 28 CoreCPU - VMXNET3vSphere 8\n 2-Socket IntelSapphire Rapids8490H 60 CoreCPU - VMXNET3vSphere 8\n 8-Socket IntelCooper Lake8380HL 28 CoreCPU - VMXNET3vSphere 8\n 4-Socket IntelSapphire Rapids8490H 60 CoreCPU - VMXNET3vSphere 8\nInternal VMware vSphere 8 VMs Test Results with different CPU generations -Mixed SAP HANA Workload Test @ Max-Out CPU MP -QPH\n QPHLinear ( QPH )", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1525, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "188a8848-5e71-4a60-b834-7fa879ce59ed": {"__data__": {"id_": "188a8848-5e71-4a60-b834-7fa879ce59ed", "embedding": null, "metadata": {"page_label": "69", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9e05ba78-00c1-47ed-a0fd-160903956224", "node_type": "4", "metadata": {"page_label": "69", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "996e264dfad3a4fe955e2ff693cef796b2a823c73fce388fb33f0641929b6d1c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 69 \nFigure 20. BWH 6TB Sapphire Rapids, 4-Socket vSphere 8 VM vs. Cascade Lake, 8-Socket vSphere 8 VM - 35% performance gain \n Table 29. BWH 6TB Sapphire Rapids, 4-socket vSphere 8 VM vs. Cascade Lake, 8-socket vSphere 8 VM SAP BWH L-Class KPIs 25,000 5,000 200 Config Cert CPU Threads Mem Records BWH Phase 1 (sec.) \nDelta BWH Phase 2 (QPH) \nDelta BWH Phase 3 (sec.) Delta \n8-Socket Intel Xeon Platinum 8280L, 28 core CPU - VMXNET3 vSphere 8 VM \n- 448 5,890GB \n10.4 billion \n21,423 - 5,257 - 172 - \n4-Socket Intel Sapphire Rapids 8490H, 60 core CPU - VMXNET3 vSphere 8 VM \n- 480 8,000GB 12,848 NC 7,111 35.27% 144 NC \n5257\n7111\n01,0002,0003,0004,0005,0006,0007,0008,000\nPhase 2\nBWH 6TB Sapphire Rapids, 4-Socket vSphere 8 VM vs. Cascade Lake, 8-Socket vSphere 8 VM -35% Performance Gain\n  8-Socket Intel Cascade Lake  8280L 28 Core CPU - VMXNET3 vSphere 8 VM 4-Socket Intel Sapphire Rapids 8490H 60 Core CPU - VMXNET3 vSphere 8 VM", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 992, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "accc0b4c-d988-420f-bc9d-887489f6d654": {"__data__": {"id_": "accc0b4c-d988-420f-bc9d-887489f6d654", "embedding": null, "metadata": {"page_label": "70", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "90217bf5-e465-4d0e-88e8-71195e5813fa", "node_type": "4", "metadata": {"page_label": "70", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "5b4c52319fd62f1d3b1b282943ce3f67b39be6d9452cb67aa9438ec0de2d1a0a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 70 \nSAP BWH L-Class KPIs 25,000 5,000 200  - is better + is better - is better  Using the latest Sapphire Rapids hosts with vSphere 8.0 U1 or later results in significant performance gains compared to previous CPU generations running the same SAP HANA workload. This not only allows for faster processing, but also larger memory configurations and a smooth transition from older CPU generations to Sapphire Rapids hosts. The performance boost from a Sapphire Rapids CPU mostly offsets the virtualization costs. So, you can migrate a bare metal SAP HANA installation to a virtualized Sapphire Rapids host, which saves you money because it requires less data center space. When transitioning from an 8-socket Cooper Lake or Cascade Lake system, which can accommodate up to 12TB of memory, to a 4-socket Sapphire Rapids system, it's essential to note that the standard memory support for the latter is limited to 8TB. However, with the assistance of the Technology Development Interface (TDI), a 4-socket Sapphire Rapids host can potentially handle higher memory capacities. SAP allows up to 3TB per CPU, indicating that a 4-socket Sapphire Rapids configuration could support up to 12TB of memory. Moreover, given the enhanced performance capabilities of the CPU, you could seamlessly perform such an upgrade. \nEnhanced vMotion Compatibility, vSphere vMotion, and vSphere DRS best practices A benefit of virtualization is the hardware abstraction and independence of a VM from its underlying hardware. Enhanced vMotion Compatibility, vSphere vMotion, and vSphere Distributed Resource Scheduler (DRS) are key enabling technologies for creating a dynamic, automated, self-optimizing data center. This allows a consistent operation and migration of applications running in a VM between different server systems without the need to change the operating system and application, or to perform a lengthy backup. A change in hardware would also add time because you'd need to update the device drivers in the operating system too. vSphere vMotion live migration (shown in the following figure) allows you to move an entire running VM from one physical server to another with zero downtime, continuous service availability, and complete transaction integrity. The VM retains its network identity and connections, ensuring a seamless migration process. A high-speed network can transfer the VM's active memory and precise running state, allowing the VM to transition from running on the source ESXi host to the destination ESXi host.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2581, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e29b2260-5a14-40b2-81a2-02f01c2568d1": {"__data__": {"id_": "e29b2260-5a14-40b2-81a2-02f01c2568d1", "embedding": null, "metadata": {"page_label": "71", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fdf4f97d-0ea8-4acd-b82b-28ed646d0d39", "node_type": "4", "metadata": {"page_label": "71", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "80ae5f63966a64e57f01aca996039c96dc3e955a21c26411ab2e3d1f1a540cbd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 71 \nFigure 21. vSphere vMotion allows the live migration of SAP HANA VMs \n  With enhanced vMotion compatibility mode, you can migrate SAP HANA VMs between ESXi hosts with different CPU generations. This lets you combine older and newer server hardware generations into a single cluster, thereby saving money because you don't need to replace the older ESXi hosts. Recommended: To ensure high performance on a vSphere cluster, we recommend migrating SAP HANA between hosts with the same CPU type, model, and frequency. You should limit the migration of SAP HANA VMs between hosts with different CPUs to situations such as hardware upgrades or HA. You can move a VM from one ESXi host to another in different modes. vSphere supports some modes for a powered-on SAP HANA VM. Other modes, such as migration to another storage system, have limited support while the VM is powered on. The next section provides an overview of the different VM migration options and what to consider when migrating SAP HANA VMs. \nBest practices for migrating SAP HANA VMs in a production environment Using vMotion, it's possible to migrate a VM between different hardware generations of a CPU type or storage subsystems. Important: When migrating VMs for a performance-critical application like SAP HANA, you should follow these best practices: \u2022 Run SAP HANA VMs within the vSphere cluster on identical hardware (with the same CPU clock speed and synchronized TSC). This ensures that SAP HANA has the same CPU features and clock speed available. \u2022 Don't live migrate SAP HANA VMs while a virus scanner or a backup job is running inside the VM or while people are using the SAP HANA VMs, because this can cause a soft lock of the SAP HANA application. \u2022 Don't live migrate SAP HANA VMs while a VM snapshot-based backup job is running outside the VM. This can cause a soft lock or data inconsistencies in the SAP HANA application. \u2022 Use vMotion only during non-peak times (for example, when CPU utilization is less than 25%).", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2061, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9417635c-5825-4d43-a80f-2517fb3028de": {"__data__": {"id_": "9417635c-5825-4d43-a80f-2517fb3028de", "embedding": null, "metadata": {"page_label": "72", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e9e92f9b-f9ee-47bf-997e-f8f97433c067", "node_type": "4", "metadata": {"page_label": "72", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "1c0d1998628a45fed5d261f8afa5d714ec9b86cb1e6e28658a59f9dfd36f0416", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 72 \n\u2022 If the source host and destination host clock speeds are different, you can still use vMotion. However, you should plan to upgrade the VM's hardware version and align the vCPUs to the new CPU so that you can restart the VM and use any new CPU features of the target host. \u2022 You may use vSphere Storage vMotion to migrate SAP HANA VMs between storage subsystems. Because vSphere Storage vMotion impacts the performance of a running VM, we strongly recommend you perform a storage migration while the VM is powered off, or at least while the SAP HANA database is shut down inside the VM. \u2022 Allocate sufficient bandwidth to the vMotion network, ideally 25 GbE or more. \u2022 Avoid having \"noisy neighbors\" active on the ESXi host during a vMotion migration of SAP HANA VMs. A noisy neighbor is another VM that is using up the host's resources, leaving few left for other activities. \u2022 Check SAP HANA patch levels (some patch levels may increase the risk of soft lockups to the operating system during migrations). \u2022 Upgrade to vSphere 7 or 8 to leverage vMotion improvements. Caution: While vMotion is a fantastic tool that helps you manage and operate production SAP HANA VMs, be very careful migrating SAP HANA VMs because doing so may cause severe performance issues that impact SAP HANA users and long-running transactions. \nVM migration scenarios You can run a vMotion migration manually, fully, or semi-automated with vSphere DRS. To mitigate any potential impact on SAP HANA VMs during a VM migration, we recommend the following: \u2022 Use vMotion only during non-peak times (low CPU utilization: less than 25%).  \u2022 Have vSphere DRS rules in place that: \u2013 Only suggest initial placement or  \u2013 Allow VMs to be automatically moved when a host is set to maintenance mode.  \u2022 A dedicated vMotion network is a strict requirement. The network should have enough bandwidth to support a fast migration time, which depends on the active SAP HANA memory; for example, >= 4GB SAP HANA VMs. A vMotion network with 25GbE or higher bandwidth is preferred. Multiple vMotion network cards will help parallelize the vMotion process and lower the impact on the VM performance and time. The following figures depict all the supported scenarios. We discuss what you should do, per scenario, to avoid possible performance issues.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2371, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d21811fe-11d2-4d0b-af52-a87a52246ae5": {"__data__": {"id_": "d21811fe-11d2-4d0b-af52-a87a52246ae5", "embedding": null, "metadata": {"page_label": "73", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "44da2dfe-0683-48df-bf9b-1c6fd83093e1", "node_type": "4", "metadata": {"page_label": "73", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "f128ec70685b8636349b1f86d39af6625914942bcad5dc2c7d472db214ac1667", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 73 \nFigure 22. Live migration of an SAP HANA VM (default scenario) \n \nDescription: \u2022 Typical VM migration scenario mainly used for load balancing or to transfer VMs off the host for server maintenance. \u2022 All hosts have the same vSphere version and identical HW configuration. \u2022 Hosts are connected to a shared VMFS datastore and are in the same network. Considerations: \u2022 Perform a manual vMotion migration during non-peak hours.  \u2022 Enhanced vMotion Compatibility is not required because all hosts use the same CPU.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 576, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "456e8b5a-ceea-4bcd-bf4c-ee4feb65f39a": {"__data__": {"id_": "456e8b5a-ceea-4bcd-bf4c-ee4feb65f39a", "embedding": null, "metadata": {"page_label": "74", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f450bab0-eea7-4be5-bbbd-774fb5b8ced6", "node_type": "4", "metadata": {"page_label": "74", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "6da54711ce5a7b59717e8c3f0a158ab818e756ab5159f37164d647770f8e8f76", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 74 \nFigure 23. Transferring VMs off the ESXi host to a new host with a new ESXi version  \n \nDescription: \u2022 VM migration scenario to transfer VMs off a ESXi host (set to maintenance mode) before a vSphere upgrade. \u2022 All hosts have an identical HW configuration. \u2022 Hosts are connected to a shared VMFS datastore and are in the same network. Considerations: \u2022 Perform a manual vMotion migration during non-peak hours.  \u2022 Enhanced vMotion Compatibility is not required because all hosts use the same CPU. \u2022 Live migration is possible, but double-check the virtual hardware version first: \u2013 Before you upgrade the virtual hardware, you might need to upgrade VMware Tools first. Double-check the dependencies in the release notes. \u2013 You might need to upgrade the virtual hardware of the VM; for example, hardware version 16 to 21. \u2013 You might need to align the virtual hardware to the new vSphere maximums; for example, 6 TB VM now to 12 TB. \u2013 You must restart the VM after you change its virtual hardware.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1061, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "673554e1-3b63-416f-a26c-16c48826f42a": {"__data__": {"id_": "673554e1-3b63-416f-a26c-16c48826f42a", "embedding": null, "metadata": {"page_label": "75", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8fa114ad-c6ee-4352-9831-e3bef0f112c9", "node_type": "4", "metadata": {"page_label": "75", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "1e7656b9fe0852099eb39e930470a6b4b1f3a51ea8b24670308e8e0ee1adbec9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 75 \nFigure 24. Migrating a SAP HANA VM during a host hardware upgrade \n \nDescription: \u2022 VM migration scenario to migrate a VM to a new host with a different CPU (CPU type or new CPU generation). This is a critical vMotion scenario (see below).  \u2022 Hosts are connected to a shared VMFS datastore and are in the same network. Considerations: \u2022 Perform a manual vMotion migration during non-peak hours.  \u2022 EVC is required to allow the use of hosts with different CPUs in one vSphere cluster. \u2022 Online migration of VMs is possible, but if the hardware has changed, then the VMs need to be aligned to the changed HW and CPU configuration. \u2013 Plan offline time for VM maintenance to perform a virtual hardware upgrade of the VM (for example, hardware version 20 to 21). \u2013 Align the number of vCPUs per socket and VM memory to the physical CPU capabilities and NUMA node memory configuration. \u2013 Power on the VMs on the new host. \u2022 If the memory and CPU core configurations remained the same, then a simple restart of the VMs is enough to ensure the timestamp counter is synchronized; otherwise, the VM performance could be negatively impacted (more on this below). If the hardware configuration of the host (CPU cores and/or memory or number of sockets) has changed, you need to power off the VM and change the VM configuration to align it to the new host configuration.  Critical vMotion scenario: If the hardware configuration stays the same, but the CPU frequency was changed, you need to reboot the VM. This is a critical vMotion scenario because it involves different possible CPU clock speeds, and the exposure of the timestamp counter (TSC) to the VM may lead to timing errors. To eliminate these possible errors and issues caused by different TSCs, vSphere will perform the necessary rate transformation. This may degrade the performance of the RDTSC instruction relative to a bare metal system.  Background: By default, the TSC inside a VM runs at the same rate as the host when it powers on. If the VM is then moved to a different host without being powered off (for example, with vMotion), a rate transformation is performed so the virtual TSC continues to run at its original power-on rate, not at the new host TSC rate.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2284, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7f5562eb-1c21-4cec-983a-6ef8ad2fbcc1": {"__data__": {"id_": "7f5562eb-1c21-4cec-983a-6ef8ad2fbcc1", "embedding": null, "metadata": {"page_label": "76", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bd2ea2a2-2b70-45b0-a29c-9695e4084564", "node_type": "4", "metadata": {"page_label": "76", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "2756776762fc0d66effd1f5942dd8b48ac253a2c8c4b585ac19dbf78922050a5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 76 \nTo resolve this issue, schedule a maintenance window to restart the VMs on non-identical hardware. This will enable the use of hardware-based TSC, instead of software rate transformation on the target host, which can be costly and lead to VM performance degradation. For more information, see Synchronize the Time of a Virtual Machine Guest Operating System with the Host. Figure 25. The maintenance window as a hardware upgrade and vMotion \n *Business downtime required Figure 26. VMware VM migration \u2013 storage migration (VM datastore migration)  \n \nDescription: \u2022 VM migration scenario to migrate a VM to a new host with a different VMFS datastore. \u2022 Migration between local and shared or different shared storage subsystems possible. \u2022 Hosts are connected to the same network. Considerations: \u2022 Requires manual vMotion during off-peak hours.  \u2022 EVC might be required if the hosts have different CPUs installed. \u2022 Online migration is possible, but in the SAP HANA case, we don't recommend a migration with Storage vMotion. \u2022 Plan offline time for VM maintenance to perform the storage migration. Storage vMotion takes more time and has a higher impact on VM performance. \u2022 Ensure the new storage meets the SAP HANA TDI storage KPIs. \nManaging SAP HANA landscapes using vSphere DRS vSphere DRS, an automated load-balancing technology that aligns resource use with business priorities, can be used to manage SAP HANA landscapes. vSphere DRS dynamically aligns resources with business priorities, balances computing capacity, and reduces power consumption in the data center. vSphere DRS takes advantage of vMotion to migrate VMs among a set of ESXi hosts. vSphere DRS continuously monitors utilization across ESXi hosts and can migrate VMs to less utilized hosts when they need more resources.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1858, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "89828c88-7087-4ead-935f-dc84f1a79cf6": {"__data__": {"id_": "89828c88-7087-4ead-935f-dc84f1a79cf6", "embedding": null, "metadata": {"page_label": "77", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b9c43116-a511-4e46-9d0a-719552100809", "node_type": "4", "metadata": {"page_label": "77", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "68e3ed410549ea6efdbcfc965202d8bd1d2f14a794c0487860bc452ff2b415bf", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 77 \nWhen deploying large SAP HANA databases or production-level SAP HANA VMs, it is essential to have vSphere DRS rules in place and to set the automation mode to manual. If you don't set the automation mode to manual and use the automated mode, then you must set the DRS migration threshold to conservative (level 1), to avoid unwanted migrations, which may negatively impact the performance of an SAP HANA system. It is possible to define which SAP HANA VMs should be excluded from automated DRS-initiated migrations and, if at all, which SAP HANA VMs are targets of automated DRS migrations. DRS can be set to these automation modes: \u2022 Manual: DRS recommends the initial placement of a VM within the cluster, and then recommends the migration. You must manually place and migrate the VM. \u2022 Partially automated: DRS automatically places a VM when it is being powered on, but during load balancing, DRS displays a list of vMotion recommendations for you to select and apply. \u2022 Fully automated: DRS placements and migrations are automatic. Note: DRS requires a vSphere Clustering Service VM and automatically installs this VM in a vSphere cluster. If you are using VMware SDDC Manager to manage and update your environment, you must set DRS to fully automated.\tWhen doing so,\twe recommend increasing the DRS host memory buffer from its default maximum of 5% of host memory to a maximum of 300GB. To do so, modify the DRS advanced option MaxMemMBHeadroomPerHost from the default of 128MB per host to a max of 300GB. Refer to Broadcom KB 86013 for details. \nSNC-2 management and operation Building homogenous SAP HANA on vSphere clusters helps to streamline operations and eliminate possible issues when an SAP HANA VM is started on another host in the cluster. You must use the same CPU model and type, host memory size, installed adapters like HBAs or NICs, and storage configuration. Adding SNC-2-enabled 2-socket Sapphire Rapids hosts to a cluster provides some benefits, like the co-deployment of other types of VMs (not SAP HANA VMs) on the same physical CPU socket. But it makes the operation of such an environment more challenging. To make your job easier when adding SNC-2 enabled hosts, use VM host rules.  This VM-specific SNC-2 VM/host rule must be applied to all VMs that leverage SNC-2. This ensures the SNC-2-enabled VMs are not migrated or started on non-SNC-enabled hosts. The next figure shows an example VM/host rule that ensures VMs created on SNC nodes run only on SNC-enabled hosts.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2564, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "eee59672-0bee-47e7-9f35-0aefef4e5e6b": {"__data__": {"id_": "eee59672-0bee-47e7-9f35-0aefef4e5e6b", "embedding": null, "metadata": {"page_label": "78", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "850c81bc-bde1-499d-88cc-6bf424b20006", "node_type": "4", "metadata": {"page_label": "78", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "8a8bc6e9a55388e297b43bc9b230dac4f396457558a62c18c64afad197cd6036", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 78 \nFigure 27. VM SNC-2 host rule \n The following figure shows an example cluster with Sapphire Rapids-based 2- and 4-socket systems.  The 4-socket systems are used for the larger SAP HANA VMs that require more memory. All hosts adhere to the SAP HANA memory standard configuration of 2TB per CPU. OLAP workloads running on these systems, alongside the OLTP workload VMs, are verified with an SAP HANA OLAP expert sizing to ensure that 2TB per CPU can be utilized. Attention: VM host rules are needed to ensure that half-socket (SNC-sized) VMs aren't started on non-SNC-2 hosts. Figure 28 depicts the typical vMotion or HA path for a VM if it needs to be migrated due to maintenance or an HA event. You should consolidate smaller SAP HANA VMs, in this case, up to 1TB, on the two SNC-2 hosts to benefit from optimized memory latencies. If an SNC-2 sub-NUMA node VM needs to be extended, you should migrate it to one of the 2- or 4-socket non-SNC-2 hosts, shown in the figure, to get the best possible improvements of a single NUMA node configuration with the same size.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1130, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c31aaa9e-634a-47a1-a3a8-a0b973a9c032": {"__data__": {"id_": "c31aaa9e-634a-47a1-a3a8-a0b973a9c032", "embedding": null, "metadata": {"page_label": "79", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c9c2166b-c9b6-44c1-af82-bc8246b84afe", "node_type": "4", "metadata": {"page_label": "79", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e64a2ad872169c7ccf22be7c92b9c60dcc30413842a9bf3146f407532f70f3c4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 79 \nFigure 28. VMware SAP HANA vSphere 8 mixed Sapphire Rapids (SPR) cluster \n Important: Due to the lower memory bandwidth associated with an SNC NUMA node, we recommend you primarily use SNC-2 for half-socket VMs. In the event of performance issues with SAP HANA VMs running on SNC-2-enabled hosts, you should migrate these VMs to a non-SNC-enabled host to resolve SNC-related performance issues. All VMs that leverage SNC-2 require the VMX advanced parameter sched.nodeX.affinity=\"Y\" to prevent unwanted NUMA node migrations. Guidelines for deploying an SAP HANA VM on an SNC-2 enabled 2-socket Sapphire Rapids ESXi host: Note: SNC-2 is only required for 2-socket Sapphire Rapids hosts. >2-socket Sapphire Rapids hosts can deploy 2 SAP HANA VMs on a single NUMA node without SNC-2. \u2022 SNC requires that the ESXi host memory be symmetrically populated. \u2022 Enable SNC-2 and hyperthreading in the BIOS of the ESXi host. \u2022 Use SNC-2 for SAP HANA VMs exclusively on 2-socket SPR hosts or later. \u2022 Size the SAP HANA VM according to available logical threads and memory per CPU socket. \u2022 Apply the sched.nodeX.affinity=\"Y\" VMX advanced parameter to all VMs that leverage SNC-2 to prevent unintended NUMA node migrations. \u2022 Use SNC-2 primarily as a consolidation platform for half-socket VMs or SAP HANA VMs requiring low memory latency due to lower memory bandwidth associated with an SNC NUMA node. \u2022 SAP HANA VMs within a 2-socket SNC-2 host can be extended up to 4 sub-NUMA nodes (refer to figure 28, above, for details). \u2022 Address SNC-2 performance issues by offline migrating SAP HANA VMs from SNC-2-enabled hosts to non-SNC-enabled hosts and adjusting the VM configurations accordingly to the non-SNC configuration. \u2022 The vMotion of VMs that leverage SNC-2 is only supported between SNC-2 enabled hosts. Avoid migrating SNC-2-configured VMs to non-SNC-2 hosts to prevent performance issues. Migration in the reverse direction is also unsupported for the same reason. \u2022 Use vMotion host rules to prevent the migration of SNC-2 VMs to non-SNC-2 ESXi hosts.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2115, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "594d883f-f3d3-42d3-b04e-8db4da61a337": {"__data__": {"id_": "594d883f-f3d3-42d3-b04e-8db4da61a337", "embedding": null, "metadata": {"page_label": "80", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "607cfff8-c9a3-4f88-ba09-7b92188360fa", "node_type": "4", "metadata": {"page_label": "80", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "f1411e211131dba2ca40463693a91be47bd33498bb4505424121bf1e2b423294", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 80 \nvSphere Cluster Services Starting with vSphere 7.0 Update 1, vSphere Cluster Service (vCLS) is enabled by default and runs in all vSphere clusters.  vSphere makes critical cluster services, such as vSphere HA and vSphere DRS, highly available, and vCLS makes cluster services even more available. SAP HANA, as the foundation of most SAP business applications, is a very critical asset of all companies using SAP solutions for their business. Due to the criticality of these applications, it is important to protect and optimally operate SAP HANA. Running SAP HANA on vSphere provides an easy way to protect and operate it by leveraging vCLS, which depends on vCenter Server availability for configuration and operation. The dependency of these cluster services on vCenter Server is not ideal, and the use of vCLS is the first step to decouple and distribute the control plane for clustering services in vSphere and to remove the vCenter Server dependency. If vCenter Server should ever become unavailable, vCLS will ensure that the cluster services remain available to maintain the resources and health of critical workloads. Note: vCLS is enabled when you upgrade to vSphere 7.0 Update 1 or when you have a new vSphere 7.0 Update 1 deployment. vCLS is automatically deployed as part of a vCenter Server upgrade, regardless of which ESXi version is used and is required when using VCF. \nArchitecture of vCLS vCLS uses agent VMs to maintain cluster service health. Up to three vCLS agent VMs, which are lightweight and build the cluster control plane, are created when you add hosts to clusters. vCLS VMs must run and are distributed in each vSphere cluster. vCLS is also enabled on clusters that contain only one or two hosts. In these clusters, there are only two vCLS VMs. The next figure shows the high-level architecture with the new cluster control plane.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1925, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6c7b6ec6-e713-4270-a2ce-c407fc9f6f50": {"__data__": {"id_": "6c7b6ec6-e713-4270-a2ce-c407fc9f6f50", "embedding": null, "metadata": {"page_label": "81", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "737ff743-8e6f-46e0-b074-fa1e94a218cf", "node_type": "4", "metadata": {"page_label": "81", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "94a25f2b0995d09804e9890a73b9ca48bd8924c59ebfc13e20b94d0490ab2ff6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 81 \nFigure 29. vCLS high-level architecture \n A cluster enabled with vCLS can contain ESXi hosts of different versions if the ESXi versions are compatible with vCenter Server 7.0 Update 1. vCLS works with both vSphere Lifecycle Manager and vSphere Update Manager managed clusters and runs in all vSphere licensed clusters. \nvCLS VM details vCLS VMs run in every cluster, even if cluster services such as vSphere DRS or vSphere HA are not enabled on the cluster. Each vCLS VM has 100MHz and 100MB capacity reserved in the cluster. For more details, refer to the Monitoring vSphere Cluster Services documentation. In the normal use case, these VMs are not noticeable in terms of resource consumption. You are not expected to maintain the lifecycle or state for the agent VMs; they should not be treated like typical workload VMs. Table 30. vCLS VM resource allocation Property Size Memory 128 MB CPU 1 vCPU Hard disk 2 GB  \nWorkload VMs\nvSphere ClientvSphere ClientvSphere Client\nvCenter Server\nvCLS Control PlanevCLS vCLS vCLS\nvSphere ESXi Hosts\nVM VM VM\nVMFS Datastore\nManage\nCluster\nVM VM VM", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1153, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "683279d5-f171-4bd9-9f12-b2a1a04a3c2f": {"__data__": {"id_": "683279d5-f171-4bd9-9f12-b2a1a04a3c2f", "embedding": null, "metadata": {"page_label": "82", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7b6814dc-a22e-4e2d-b1d5-1a5b7aa964f0", "node_type": "4", "metadata": {"page_label": "82", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "68b2d44d50dedc73119b2ddacd29a784891685423b47213016e288c17237761f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 82 \nTable 31. Number of vCLS agent VMs in clusters Number of hosts in a cluster Number of vCLS agent VMs 1 1 2 2 3 or more 3  \nGuidelines for deploying vCLS in a cluster with SAP HANA VMs As of SAP notes 3102813 and 3372365, you can't run a non-SAP HANA VM on the same NUMA node where an SAP HANA VM already runs: \"SAP HANA VMs can be co-deployed with SAP non-production HANA or any other workload VMs on the same vSphere ESXi host, if the production SAP HANA VMs are not negatively impacted by the co-deployed VMs. In case of negative impact on SAP HANA, SAP may ask to remove any other workload.\" Also, \"no NUMA node sharing between SAP HANA and non-HANA is allowed.\"  Note: These statements do not apply to a 2-socket Sapphire Rapids platform with SNC-2. Here, it is possible to co-deploy a non-SAP HANA VM like an SAP application server or a VMware vCLS VM. Co-deployment of other VMs, like a web server, is still not supported.  All other CPU generations and >2-socket Sapphire Rapids systems have restrictions because of SAP guidelines and the mandatory and automated installation process of vCLS VMs. When upgrading to vCenter 7.0 Update 1, you must check if vCLS VMs were co-deployed on ESXi hosts that run SAP HANA production-level VMs. If this is the case, then you must migrate these VMs to hosts that do not run SAP HANA production-level VMs or to another SNC-2 CPU socket host when SNC-2 is used. You'll need to configure vCLS VM anti-affinity policies. These policies describe a relationship between VMs that have been assigned a special anti-affinity tag (for example, a tag named \"SAP HANA\") and vCLS VMs. When you assign this tag to SAP HANA VMs, the policy discourages placement of vCLS VMs and SAP HANA VMs on the same host. After you create the policy and assign tags, the placement engine will attempt to place vCLS VMs on the hosts where tagged VMs are not running\u2014for example, the HA ESXi host. For this to work, you need to have some VMs on the cluster that are not tagged with \"SAP HANA\".", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2074, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5729e1ae-b693-46d4-a14c-592e2d2c5928": {"__data__": {"id_": "5729e1ae-b693-46d4-a14c-592e2d2c5928", "embedding": null, "metadata": {"page_label": "83", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a6a1c9de-01ea-449d-930c-09b0e6babf29", "node_type": "4", "metadata": {"page_label": "83", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "b3aefd2f2c7ee3b67b3d7b1056c4ba672aa0aca81994afd8abb5c62689f3fbaf", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 83 \nExamples of deploying vCLS in a cluster with SAP HANA VMs Typically, you deploy SAP HANA VMs on dedicated ESXi hosts. These hosts can be part of small or large clusters/VCF VI WLD (in terms of number of hosts). They can be mixed with hosts running non-SAP HANA workload VMs or can be part of a dedicated SAP HANA cluster/VCF VI WLD. The following examples of typical SAP HANA clusters provide some guidelines on where to place up to three lightweight vCLS VMs.  Mixed SAP HANA and other VMs in a vSphere cluster/VCF VI WLD A mixed cluster/VCF VI WLD with SAP HANA VMs and other VMs is a typical scenario. In this case, check the vCLS VMs to see if they were deployed on ESXi hosts that run production-level SAP HANA VMs. If yes, then the vCLS VM can run on the same CPU socket as an SAP HANA VM. To avoid this, configure vCLS anti-affinity policies: 1. Create a category and tag for each group of VMs that you want to include in a vCLS VM anti-affinity policy. 2. Tag the VMs that you want to include. 3. Create a vCLS VM anti-affinity policy. a. From vSphere, click Policies and Profiles > Compute Policies. b. Click Add to open the New Compute Policy wizard. c. Fill in the policy name and choose vCLS VM anti affinity from the Policy type drop-down control. The policy name must be unique. d. Provide a description of the policy, then use VM tag to choose the category and tag to which the policy applies. Unless you have multiple VM tags associated with a category, the wizard fills in the VM tag after you select the tag category. e. Click Create to create the policy. Figure 30 shows the initially deployed vCLS VMs and how these VMs get automatically migrated (green arrows) when the anti-affinity rules are activated to comply with SAP notes 3102813 and 3372365. Not shown in this figure are the HA host/HA capacity reserved for HA failover situations. Note: If you need to add new hosts to an existing SAP-only cluster/VCF VI WLD to make it a mixed host cluster, ensure that you  verify the prerequisites as outlined in the Add a Host to a Cluster documentation.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2136, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "45a123ab-22c5-428c-9940-06b25abdeade": {"__data__": {"id_": "45a123ab-22c5-428c-9940-06b25abdeade", "embedding": null, "metadata": {"page_label": "84", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a16579d5-c214-46df-b99e-03f5cbfd936a", "node_type": "4", "metadata": {"page_label": "84", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "8a288cac854e8540f0c4616d463b5a07b61be3a74df57288d5de4ec30872bf12", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 84 \nFigure 30. vCLS VM migration for a mixed host cluster: migrate the vCLS VMs to an ESXi host that runs workloads other than SAP HANA VMs \n Dedicated ESXi hosts for SAP HANA VMs on a vSphere cluster You might have deployed a vSphere cluster with ESXi hosts that run only SAP HANA VMs. In this scenario, the automatically deployed vCLS VMs reside on an SAP HANA host, making their migration to hosts without SAP HANA VMs challenging. The solution is to add existing hosts with non-SAP HANA workload VMs to this cluster, or to have non-tagged SAP HANA, non-production VMs running on at least one host. These existing hosts may run any workload, such as a SAP application server VM or infrastructure workload VMs. You don't need to buy a new host for this. The next figure shows the initially deployed vCLS VMs and how these VMs are moved when the vCLS anti-affinity policy for SAP HANA VMs is added to new hosts.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 973, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "931b86f8-e951-4b96-8ede-85ee880c260c": {"__data__": {"id_": "931b86f8-e951-4b96-8ede-85ee880c260c", "embedding": null, "metadata": {"page_label": "85", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a2472a53-4268-4755-a35c-0fc2e2b71bc9", "node_type": "4", "metadata": {"page_label": "85", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "8726f2e48e7acc8888740f9d54d924420e8afc85b22f2e39e7a5f4909acbb8b2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 85 \nFigure 31. Migrating vCLS VMs in a dedicated SAP HANA host cluster \n Important: To allow the vCLS VM to run on the same host as a non-production SAP HANA VM, make sure you have not tagged the non-production SAP HANA VMs with a name tag that triggers the anti-affinity policy. \nSAP HANA HCI on a vSphere cluster Just as with the dedicated SAP HANA cluster, an SAP HANA HCI cluster may only run SAP HANA workload VMs in a VCF Workload Domain. As with SAP HANA running on traditional storage, SAP HANA HCI (SAP note 2718982) supports the co-deployment with non-SAP HANA VMs as outlined in SAP notes 2937606 (vSphere 7.0) and 2393917 (vSphere 6.5/6.7). If vCenter is upgraded to 7.0 U1, then the vCLS VMs will be automatically deployed on SAP HANA HCI nodes. If you exclusively use these nodes for SAP HANA production-level VMs, you must remove the vCLS VMs and migrate them to the vSphere HCI HA host (or hosts). You can do so by configuring vCLS VM Anti-Affinity Policies. A vCLS VM anti-affinity policy describes a relationship between VMs that have been assigned a special anti-affinity tag (for example, the tage name \"SAP HANA\") and vCLS system VMs. If this tag is assigned to SAP HANA VMs, the vCLS VM anti-affinity policy discourages the placement of vCLS VMs and SAP HANA VMs on the same host. Such a policy prevents the co-deployment of vCLS VMs and SAP HANA", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1429, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0b2457ba-60c5-4e64-8dbd-6a5283fa2c2d": {"__data__": {"id_": "0b2457ba-60c5-4e64-8dbd-6a5283fa2c2d", "embedding": null, "metadata": {"page_label": "86", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fb723b83-e0a1-4e23-b033-7469aefe775f", "node_type": "4", "metadata": {"page_label": "86", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "3ad4bc47347632e645bee484c4bf25ecae23d33d8fb249f9e1d8237b02d603b0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 86 \nVMs. After you create the policy and assign tags, the placement engine attempts to place vCLS VMs on hosts where tagged VMs are not running, such as the HCI vSphere HA host. If you are unable to add an additional non-SAP HANA ESXi host to the cluster or need to validate a SAP HANA HCI partner system, you can use Retreat Mode to remove the vCLS VMs from this cluster. Caution: Retreat Mode will impact certain cluster services, such as DRS, and is not supported when the host is part of a VCF VI WLD. Figure 32. vCLS VMs in an SAP HANA HCI vSphere cluster should be migrated off servers hosting SAP HANA VMs that are in a production environment \n Important: To allow the vCLS VMs to run, as shown in figures 31 and 32, on the same host as a non-production SAP HANA VM, you must not tag the non-production SAP HANA VM with a name tag that triggers the anti-affinity policy.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 938, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4cf2e41b-a668-46b7-af01-6fb36033d9b5": {"__data__": {"id_": "4cf2e41b-a668-46b7-af01-6fb36033d9b5", "embedding": null, "metadata": {"page_label": "87", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7863467b-5e9c-41d0-9ff0-89a7f15e518d", "node_type": "4", "metadata": {"page_label": "87", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "939bf04e68a5d7439b2ada1816dde3407b50ae7db1d132181819aa1b48e2812a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 87 \nIn summary, by introducing vCLS, Broadcom is embarking on a journey to remove the vCenter dependency and possible related issues when vCenter Server is not available and provide a scalable platform for larger ESXi host deployments. When the ESXi host is part of a VCF VI WLD/cluster, the vCLS VMs cannot be set to retreat mode because the VCF lifecyle management depends on DRS to automatically put the host in maintenance mode. For more information, please see the following resources: \u2022 vSphere Clustering Services \u2022 vSphere Clustering Service VM Anti-Affinity Policies \u2022 Create or delete a vSphere Clustering Service VM Anti-Affinity Policy Note: You can use SNC-2 if you use 2-socket Sapphire Rapids hosts for vSphere or HCI (vSphere + vSAN) deployments. In this case, you could move a vCLS VM to an SNC-2 sub-NUMA node instead of adding an additional host for vCLS offloading. \nHigh availability best practices for virtualized SAP HANA SAP HANA offers several methods for high availability and disaster recovery: auto-failover, service restart options, backups, system replication, and standby host systems. In VMware virtualized environments, you can use any of these solutions. In addition, you can use vSphere HA and vSphere Replication to minimize unplanned downtime due to faults. There are two areas of high availability support: fault recovery and disaster recovery.  Fault recovery includes: \u2022 SAP HANA service auto-restart \u2022 Host auto-failover (standby host) \u2022 vSphere HA \u2022 SAP HANA system replication Disaster recovery includes: \u2022 Backup and restore \u2022 Storage replication \u2022 vSphere Replication \u2022 SAP HANA system replication We include SAP HANA system replication (HSR) in both recovery scenarios. When site or data recovery is required, you can use HSR as a failover or disaster recovery solution. HSR reduces startup time for large SAP HANA databases by preloading data into the replication instance's memory. You can assign different recovery point objectives (RPOs) and recovery time objectives (RTOs) to different fault recovery and disaster recovery solutions. SAP describes the phases of high availability in their HANA HA document. The following figure shows these phases.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2259, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d563be88-840b-4637-833a-1e4381038bfa": {"__data__": {"id_": "d563be88-840b-4637-833a-1e4381038bfa", "embedding": null, "metadata": {"page_label": "88", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "afcb6e3c-38a6-4006-99ee-c5b233dba095", "node_type": "4", "metadata": {"page_label": "88", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "609e02350f908fa12acc0f3752e014da735ae713c5bd34a214542660d2b68955", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 88 \nFigure 33. SAP HANA system availability phases \n \u2022 RPO (1 \u2013 possible data loss) specifies the amount of possible data that can be lost due to a failure. It is the time between the last valid backup and/or last available SAP HANA save point, and/or the last saved transaction log file that is available for recovery and the point in time of the error situation. All changes made during this time may be lost and are not recoverable. \u2022 Detect (2 \u2013 time needed to detect a failure) shows the time needed to detect a failure and start the recovery steps. This is usually done in seconds. vSphere HA tries to automate the detection of a wide range of error situations, thus minimizing the detection time. \u2022 RTO, recover (3 \u2013 time needed to recover failure) is the time needed to recover from a fault. Depending on the failure, this may require restoring a backup or restarting the SAP HANA processes. \u2022 Performance ramp (4 \u2013 time needed to resume full operation at a defined SLA) shows the performance ramp, which describes the time needed for a system to run at the same service level as before the fault (data consistency and performance). Based on this information, you can plan and implement the proper HA/recovery solution to meet the customer-specific RPOs and RTOs. The goal of the IT team operating SAP HANA should be to minimize RTOs and RPOs with the available IT budget and resources. VMware virtualized SAP HANA systems allow this by highly standardizing and automating the failure detection and recovery process. \nAbout vSphere high availability (HA) VMware provides vSphere built-in and optional availability and disaster recovery solutions to protect a virtualized SAP HANA system at the hardware and operating system levels. Many of the key features of virtualization, such as encapsulation and hardware independence, already offer inherent protections. Furthermore, vSphere can provide fault tolerance by incorporating redundant components like dual network and storage pathing, supporting hardware solutions like UPS, and incorporating built-in CPU features that can withstand memory model failures and ensure CPU transaction consistency.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2216, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1c5f1f1c-858e-496c-b621-b75b656b0e23": {"__data__": {"id_": "1c5f1f1c-858e-496c-b621-b75b656b0e23", "embedding": null, "metadata": {"page_label": "89", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a4dbd3c0-ec43-4768-8d0a-4f975cd26dd2", "node_type": "4", "metadata": {"page_label": "89", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "095e5bc67aa5a5cb3b857ec70ac3bd77a7d8947db2daebf6733c01af9162051d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 89 \nThese features are available on the ESXi host without needing to be configured on the VM or application. Organizations can meet their RPOs and RTOs with additional protections like vSphere HA. VMware Site Recovery Manager can manage and automate various HA solutions, from component-level failures to complete site failures, as depicted in the figure below. These features protect any application running inside a VM against hardware failures, allow planned maintenance with zero downtime, and protect against unplanned downtime and disasters. Figure 34. VMware HA and DRS solutions provide protection at every level \n vSphere HA is a fault recovery solution that provides uniform, cost-effective failover protection against hardware and operating system outages within a virtualized IT environment. It does this by monitoring ESXi hosts and VMs to detect hardware and guest failures. When it detects a server outage, it automatically restarts VMs on other ESXi hosts in the cluster, thereby reducing application downtime. This, combined with the SAP HANA service auto-restart feature, allows HA levels of 99.9% out of the box (EMC IT, 02/14 EMC Perspective, H12853). The next figure shows how vSphere HA can protect against VM or host failure. Application protection solutions\u2014such as SAP HANA service auto-restart, third-party in-guest cluster solutions, and SAP HANA system replication\u2014can also provide disaster recovery capabilities. You can combine all these solutions with vSphere HA. Figure 35. Virtualized SAP HANA HA solution \n vSphere HA safeguards SAP HANA scale-up and scale-out deployments without requiring any external components, like DNS servers, or solutions like the SAP HANA Storage Connector API. \nVMware vSphere HA\nSAP HANA Service Auto-Restart | In-Guest Cluster Solution | SAP HSR \nOS\nHost\nSAP HANA", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1887, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "daecbc2c-0c60-4cdf-bea6-435760547d19": {"__data__": {"id_": "daecbc2c-0c60-4cdf-bea6-435760547d19", "embedding": null, "metadata": {"page_label": "90", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3d99d070-35c1-4a05-9455-cb4427a9c456", "node_type": "4", "metadata": {"page_label": "90", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "663a0081831af25226a3c7bb64ca92a1c6fac7f358ae3537ef64ee6d2c8cca96", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 90 \nThe following figure shows how critical SAP HANA VMs and non-SAP HANA VMs that run on different, lower-cost server systems can leverage vSphere HA and how a typical n+1 vSphere cluster can be configured to survive a complete host failure.  SAP applications and SAP HANA instances on vSphere use this vSphere HA configuration. If you need higher redundancy levels, you can use an n+2 configuration. You can also use the HA resource pool for non-critical VMs, but you must power them off before restarting an SAP HANA or SAP app server VM. Note: The following figures don't show the vCLS control plane or the related vCLS. Figure 36. vSphere HA-protected SAP HANA VMs in an n+1 cluster configuration \n It's also possible to configure the HA cluster as active-active, where all hosts have SAP HANA VMs deployed. This guarantees the utilization of all hosts in a vSphere cluster, ensuring sufficient failover capacity for all running VMs in the event of a host failure. The arrow in the figure indicates that the VMs can failover to different hosts in the cluster. This active-active cluster configuration assumes that one host's capacity (n+1) is always available to support a complete host failure.  As previously mentioned, you can also use vSphere HA to protect an SAP HANA scale-out deployment. Unlike a physical scale-out deployment, SAP HANA on vSphere can withstand a host failure without the need for dedicated standby hosts and storage-specific implementations. There are no dependencies on external components, such as DNS servers, the SAP HANA Storage Connector API, or STONIT scripts. vSphere HA will simply restart the failed SAP HANA VM on the vSphere HA/standby server. The HANA VM mounts the HANA shared directory via NFS, just like physical systems do. Access to the HANA shared directory is therefore guaranteed. If the NFS server providing this share is also virtualized, you can use vSphere Fault Tolerance (FT) to protect it. The following figure shows a configuration of 3 SAP HANA 4-socket VMs (one leader with two follower nodes) running exclusively on the host of a vSphere cluster based on 4-socket hosts. One host provides the needed failover capacity for a host failure. \nSAP HANA \nScale-Up VMs\nESXi Hosts\nVMware vSphere Cluster\nSAP HANA Host HANA HA HostSAP HANA Host\nShared Datastore   \n(FC, NFS, vSAN)\nFree Resources\nSAP Application Server\nor vSphere Management VMs\nApp Server Host\n App Server Host n\nHA HA\nSAP HANA TDI \ncertified\nNo certification \nreq.\nvCLS NSX-T", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2557, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2347319f-e8b2-42d0-aaf0-9eb4b3dbc521": {"__data__": {"id_": "2347319f-e8b2-42d0-aaf0-9eb4b3dbc521", "embedding": null, "metadata": {"page_label": "91", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6e77dac8-64ca-4a79-bb2c-4fea0323b4c4", "node_type": "4", "metadata": {"page_label": "91", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "c209628e8e8ebdae5ee6aa35f11beca0fe340924ee0a95b1db8773d61319ecce", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 91 \nFigure 37. SAP HANA scale-out on a vSphere HA n+1 cluster configuration \n It's possible to use the HA node for other workloads while in normal operation. If you use the HA/standby node for other workloads, you must stop or migrate all VMs running on this host before you can restart a failed HANA scale-out VM on the host. In this case, the overall failover time could be a bit longer because, if configured correctly, vSphere HA will wait until all needed resources are available on the failover host. You can use up to 16 scale-out nodes with up to 3TB on a 4-socket VM or 6TB on an 8-socket VM. SAP HANA on vSphere supports only 4- and 8-socket host systems with Intel Broadwell or newer CPUs. SAP doesn't support 2-socket host systems for on-premises scale-out deployments. Review the previously mentioned SAP HANA on vSphere support notes for more details. Note: vSphere HA can only protect against OS or VM crashes or hardware failures. Logical failures or OS file system corruptions are beyond its protection. In physical SAP HANA deployments, SAP HANA system replication is the only method to provide fault recovery. Implementing a third-party solution like SUSE HA is necessary to automate the recovery. Protecting a physical SAP HANA deployment against host failures is, therefore, relatively complex. In contrast, protecting an SAP HANA on vSphere system can be done with just a mouse click. If you require fast failure recovery and data replication, we recommend you use HANA System Replication (HSR) in combination with a SAP-supported Linux cluster solution like Pacemaker. Because HSR replicates SAP HANA data, you can use it for disaster recovery or for recovering from logical errors (depending on the log retention policy).   \nESXi Hosts\nSAP HANA \nScale-Out VMs\nVMware vSphere Cluster\nSAP HANA Host HANA HA HostSAP HANA Host\nShared Datastore   \n(FC, NFS, vSAN)\nSAP Application Server\nor vSphere Management VMs\nApp Server Host n\nHA HA\nSAP HANA TDI \ncertified\nNo certification \nreq.\nvCLS NSX-T\nHANA HA Host\nHA Host\nNFS Share\nMaster Worker 1 Worker n", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2130, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "53b1848e-c035-4501-acea-fcbbde2648ac": {"__data__": {"id_": "53b1848e-c035-4501-acea-fcbbde2648ac", "embedding": null, "metadata": {"page_label": "92", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "506c7d61-5a12-4ea4-894a-2071bc95c513", "node_type": "4", "metadata": {"page_label": "92", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "b85967ae1ae0797032230864adef197914d6559410cf5553f669ecc1fd463490", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 92 \nvSphere HA with passthrough network adapters If the VMXNET3-caused latency is too high for a specific use case/workload, we recommend you use a passthrough NIC configuration. You must configure vSphere HA with passthrough NICs as a dynamic vSphere DirectPath I/O device, assigning it a unique cluster-wide hardware label. To do this, follow the instructions in Add a PCI Device to a Virtual Machine. You must use the same hardware label for the passthrough NIC installed in the HA host. If you haven't configured an HA host with a passthrough NIC as a dynamic vSphere DirectPath I/O device and the same hardware label exists, then the HA failover process won\u2019t work. For more information about this topic, read Assignable Hardware. \nSAP HANA system replication with vSphere (local site) You can combine vSphere HA with HANA System Replication (HSR) to protect SAP HANA data against logical or disastrous failures that impact a data center. In this case, vSphere HA would protect against local failures, such as OS or local component failures, and HSR would protect the SAP HANA data against logical or data center failures. HSR requires a running SAP HANA replication VM, which must receive HSR data. Alternatively, you can use storage subsystem-based replication, which would be independent of SAP HANA. The next figure shows a vSphere cluster with an SAP HANA production VM replicated to an SAP HANA replication VM. The HSR replica VM can be running on the same cluster or on another vSphere cluster/host to protect against data center failures. If it runs in the same location, you can use HSR to recover from logical failures (if log collection is delayed) or to reduce the ramp-up time of an SAP HANA system because data can already be loaded into the replication server's memory. HSR can change direction depending on which HANA instance is the production one.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1931, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "52f0c747-0ebb-4f02-ad47-e6ad775d562d": {"__data__": {"id_": "52f0c747-0ebb-4f02-ad47-e6ad775d562d", "embedding": null, "metadata": {"page_label": "93", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8dc0fe88-5a69-4436-bc69-11ea6ebffb2b", "node_type": "4", "metadata": {"page_label": "93", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "8eac55071af0696bc0157e07bf6be557f11d7f3014f9934b1fe9a0aa40c30ca2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 93 \nFigure 38. vSphere HA with local data and HANA system replication (HSR) \n As noted, HSR doesn't provide automated failover. You must manually reconfigure the replication target VM to match the production system\u2019s identity. Alternatively, you can use 3rd-party cluster solutions such as SAP HANA HA Linux solutions from SUSE or Red Hat or SAP Landscape Management to automate the failover to the SAP HANA replication target. Note: You can combine SAP HSR with vSphere HA to protect the HSR source system against local failures. To provide disaster tolerance, you must place the HSR replica VM/host on another data center or even a geographically dispersed site. \nDisaster recovery You can combine the discussed HA solutions with storage/vSphere Replication and HSR to another data center/site if data protection is also a priority or if a complete site failover of all IT systems, including SAP HANA, is necessary. In addition to this, you also need backup and restore solutions in place for regulatory reasons and to protect the data against logical errors.   \nSAP HANA \nScale-Up VMs\nESXi Hosts\nVMware vSphere n+1 Cluster with local HSR\nSAP HANA Host HANA HA HostSAP HANA Host\nShared Datastore   \n(FC, NFS, vSAN)\nFree Resources\n(HA)\nSAP Application Server\nor vSphere Management VMs\nApp Server Host\n App Server Host n\nHA HA\nSAP HANA TDI \ncertified\nNo certification \nreq.\nvCLS NSX-T\nHANA Replication HANA Production\nHSR\nVM failover path", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1499, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9a8cc991-c554-4da3-8584-58cd382d6260": {"__data__": {"id_": "9a8cc991-c554-4da3-8584-58cd382d6260", "embedding": null, "metadata": {"page_label": "94", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "29cae1f2-90f9-4980-a0af-54ee67483754", "node_type": "4", "metadata": {"page_label": "94", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "70992899e464bb5f5cb696f67e39c64eba52f2f94e3933ac9a54553ecf61ca0f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 94 \nSAP HSR and vSphere Replication for a remote site The figure below shows an HSR-protected SAP HANA instance. The concept remains unchanged from the previous figure, except for the placement of the HSR replication target in a different data center. This provides additional protection against data center failures or, if the remote data center is on another site, it protects against site failures. The ESXi host in DC-2 can be either a standalone one or a member of a vSphere cluster. Stretched vSphere clusters are also possible and supported. Some replication requirements (synchronous or asynchronous) might call for a roundtrip time (RTT) below 1 millisecond to maintain the SAP HANA storage KPIs. If a 1 millisecond RTT is not possible, then you should use asynchronous replication to ensure that the data replication doesn't negatively impact the production SAP HANA system. Figure 39. vSphere HA with remote data center and SAP HANA system replication (HSR) \n The figure above shows HSR replication from one virtualized SAP HANA system to another. You can leverage vSphere Replication to replicate the SAP app server VMs. This will allow the operation to continue after switching to this data center. These app servers can also run on dedicated non-SAP HANA host systems. vSphere replication is a hypervisor-based, asynchronous replication solution for vSphere VMs (VMDK files). It allows recovery point objective (RPO) times ranging from 5 minutes to 24 hours. The VM replication process is nonintrusive and takes place independently of the VM's OS or applications. It is transparent to protected VMs and requires no changes to their configuration or ongoing management. Note: SAP HANA performance is directly impacted by round trip time (RTT). If the RPO target is 0, then synchronous replication is required. In this case, the RTT needs to be below 1ms; otherwise, you should use asynchronous replication to avoid replication-related performance issues with the primary production instance. The HSR target can be a virtualized or natively installed SAP HANA replication target instance.  \nSAP Application \nServer or vSphere \nManagement VMs\nSAP HANA \nScale-Up VMs\nESXi Hosts\nVMware vSphere n+1 Cluster with remote HSR and vSphere replication\nSAP HANA Host SAP HANA Mixed HostSAP HANA Host\nShared Datastore   \n(FC, NFS, vSAN)\nFree Resources\n(HA)\nSAP HANA TDI \ncertified\nHANA ReplicationHANA Production\nHANA Databse replication with HSR\nSAP HANA Host\nDC-1     DC-2\nVM failover path\nvCLS\nn-SAP App server VMs\nvCLS\nReplicated -SAP App server VMs\nVMDKs\nVM VMDK disk replication with vSphere \nReplication (RPO e.g. 5 Minutes,)\nVMDKs", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2700, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e3b412c0-860b-4fc1-a9d6-b3951b2cbc8f": {"__data__": {"id_": "e3b412c0-860b-4fc1-a9d6-b3951b2cbc8f", "embedding": null, "metadata": {"page_label": "95", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a5b3508f-3441-4b43-92c4-f1c1346e837c", "node_type": "4", "metadata": {"page_label": "95", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "69028aad2ed77595ecef86ead97188ae11aae4af7410b00b7027a2452379168b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 95 \nCaution: Avoid using vSphere replication (because it's asynchronous) if your RPO objectives are less than 5 minutes. We recommend not using vSphere replication for SAP HANA VMs for the best performance. If they're not using HSR, admins often use vSphere Replication with clusters stretched over two separate data centers to protect their systems against local data center failures. If you're using this method, and your systems should also be protected against data center site disasters, then you need to replicate all relevant systems to a second site. As previously mentioned, you can do so using vSphere Replication, native storage replication, and SAP HANA system replication. vSphere Replication operates at the individual VMDK level, allowing individual VMs to replicate between heterogeneous storage types that vSphere supports. Because vSphere Replication is independent of the underlying storage, it works with a variety of storage types, including vSAN, vSphere Virtual Volumes (vVols), traditional SAN, network-attached storage (NAS), and direct-attached storage (DAS). Note: Refer to the vSphere Replication documentation for details about supported configurations and specific requirements, such as network bandwidth. If you use an SAP HANA HCI based on vSAN solution, data center distances of up to 5 kilometers/3 miles are supported. \nBacking up and restoring SAP HANA systems virtualized on vSphere Backing up and restoring an SAP HANA database and the Linux VM supporting SAP HANA is the same as backing up bare-metal deployed SAP HANA systems. The simplest approach involves performing a file system backup along with a HANA database dump, which you can conveniently run within SAP HANA Studio. If you are using a backup solution, you can leverage the backint interface. Refer to the SAP HANA product documentation for backup and restore information and requirements. In addition, any SAP- and VMware-supported backup solution that leverages SAP HANA studio/backint with vSphere snapshots can protect a vSphere-deployed SAP HANA system (refer to the next figure). This provides a neutral storage vendor backup solution based on vSphere snapshots, resulting in shorter backup and restore times. For an example, refer to the Veeam product page: Confidently back up your valuable SAP HANA data > Resources > Documentation and SAP HANA in the Veeam Help Center. Caution: Using vSphere snapshot backup solutions not integrated with SAP HANA can lead to complications. These issues arise because the VM must be frozen to create a snapshot while SAP HANA is running. For this reason, we advise you to use VMware snapshots only when SAP HANA has been stopped or when all IO activities have been paused to ensure data consistency.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2805, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a5d73f8b-c130-4b7c-986e-346c2c87f156": {"__data__": {"id_": "a5d73f8b-c130-4b7c-986e-346c2c87f156", "embedding": null, "metadata": {"page_label": "96", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9f0b2bf7-e5be-4d43-b015-411bbbea45be", "node_type": "4", "metadata": {"page_label": "96", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "63150ef5e513e80c5dc51c91b648c18f544317b4313e9eacda9e79f8216777dc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 96 \nFigure 40. Virtualized SAP HANA backup and recovery methods \n SAP HANA with persistent memory on vSphere 7  Prerequisites and general SAP support limitations for Intel Optane Persistent Memory (PMem) \u2022 Review information published in SAP note 2913410: SAP HANA on VMware vSphere with Persistent Memory. \u2022 Only server platforms that are SAP HANA-supported and certified and listed on the VMware Compatibility Guide with the Persistent Memory feature are supported. \u2022 Review the VMware/Intel PMem required SAP HANA best practices. \u2022 The CPU and memory prerequisites of SAP HANA on vSphere must be met. For details, refer to SAP notes 2937606 and 3102813. \u2022 General questions and boundary conditions about SAP HANA and Persistent Memory are addressed in SAP notes 2700084 and 2786237, and Broadcom KB 78094. \u2022 For SAP HANA non-production support for memory mode, see SAP note 2954515: SAP HANA Persistent Memory - memory mode. \nWhat is supported? SAP has granted support for SAP HANA 2 SPS 4 (or later) on vSphere 7.0 (beginning with version 7.0 P01) for 2- and 4-socket servers based on second-generation Intel Xeon scalable processors (formerly code-named Cascade Lake). PMem doesn't support 8-socket hosts. The maximum DRAM plus PMem host memory configurations with SAP HANA support 4-socket VMs on 4-socket hosts and can be up to 15TB (the current memory limit when DRAM is combined with PMem) and must follow the hardware vendor\u2019s PMem configuration guidelines. The maximum VM size with vSphere 7.0 is limited to 256 vCPUs and 6TB of memory. This results in SAP HANA VM sizes of 6 TB maximum for OLTP and 3 TB VM sizes for OLAP workloads (class L). vSphere 7.0 supports", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1736, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4c645d14-8057-4bd3-8119-6a971fcd9211": {"__data__": {"id_": "4c645d14-8057-4bd3-8119-6a971fcd9211", "embedding": null, "metadata": {"page_label": "97", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "63216401-1ee0-4406-928e-5864af0e355d", "node_type": "4", "metadata": {"page_label": "97", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "91fe92a0f3dc074b53907d9e422b919872a05209d587d74db8d0d7e496722cb6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 97 \nOLAP workloads up to 6 TB (class M). The supported DRAM to PMem ratios are 2:1, 1:1, 1:2, and 1:4. Please refer to SAP note 2700084 for further details, use cases, and assistance in determining whether PMem can be used for your specific SAP HANA workload. Supported PMem module sizes are 128GB, 256GB, and 512GB. The following table lists the maximum supported host memory DRAM and PMem configurations. Up to two SAP HANA VMs are supported per CPU socket, and up to 4-socket ESXi hosts can be used. See the table below for the currently supported configurations. Important: PMem 100 series technology only supports SAP HANA on vSphere 7.0 with Cascade Lake hosts. Intel has announced that PMem is discontinued.  Table 32. Supported SAP HANA on vSphere with PMem ratios with Cascade Lake and vSphere 7.0 Ratio (DRAM to PMem) DRAM (TB) Optane PMem (TB) Total host memory (TB) Max. VM memory (TB) [1] Total memory slots (Cascade Lake) \nDRAM module size (GB) Optane PMem module size (GB) \nSAP supported ESXi host size (max. sockets) 2 1 6 3 9 6 48 256 128 4 1 1 6 6 12 6 48 256 256 4 1 1 3 3 6 6 48 128 128 4 1 2 3 6 9 6 48 128 256 4 1 2 1.5 3 4.5 4.5 48 64 128 4 1 4 3 12 15 6 48 128 512 4 1 4 1.5 6 7.5 7.5 48 64 256 4 1 4 0.75 3 3.75 3.75 48 32 128 4 \u00db [1] vSphere 7.0 U2 or later versions are required for VM sizes >6 TB. \nSizing of Optane PMem-enabled SAP HANA VMs PMem-enabled SAP HANA VM sizings are like those for bare-metal SAP HANA systems, but are limited to a maximum size of 6TB (mix of DRAM and PMem) per VM. OLAP class-L workload sizings are limited to 3TB. Class-M sizings support up to 6TB total memory. Please refer to SAP notes 2700084 and 2786237: Sizing SAP HANA with Persistent Memory for details on compute and memory sizing for SAP HANA systems using PMem. We recommend that an SAP HANA VM use the same DRAM to PMem ratio as the physical host/server DRAM to PMem ratio. If you have a growth plan, you might consider a larger physical memory configuration and upgrade the VMs and SAP HANA over your environment's lifetime. For example, let's say you have a 1:4 PMem ratio host configured with 15TB of total RAM (3TB DRAM and 12TB PMem). To optimize resources, you'd create 4 SAP HANA VMs on this server, each with 3.75TB RAM (0.75TB DRAM and 3TB PMem). If you created 6TB VMs on the same 15TB host, you could only create 2 SAP HANA VMs.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2420, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f28254b6-0971-47de-982d-317fc6f48e0a": {"__data__": {"id_": "f28254b6-0971-47de-982d-317fc6f48e0a", "embedding": null, "metadata": {"page_label": "98", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c47e26bf-e93f-4cec-b5de-43a5bd35fb3a", "node_type": "4", "metadata": {"page_label": "98", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "d3e559aa21df78940907a0d7beca55307e72b275dbd5369987ca923ced373cfa", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 98 \nThis results in unoptimized resources because your system can only utilize 12TB of the installed 15TB memory. In this case, a 1:1 DRAM to PMem configuration with a total of 12TB (6TB DRAM and 6TB PMem) would optimize the configuration.  Important: The following examples show optimized and non-optimized memory configurations. Note that we don't currently support >6TB VMs\u2014we've used more in the examples for convenience. Figure 41. Non-optimized host memory configuration \n 4-socket host configuration: Four 2nd Gen Intel Xeon Platinum processors 24 x 128 GB DRAM + 24 x 512GB PMem = 15TB total host memory with a 1:4 DRAM to PMem ratio VM configuration example: 2 x 6TB SAP HANA VM with 1.5TB DRAM and 4.5TB PMem RAM, with a 1:3 DRAM to PMem ratio Challenges: \u2022 DRAM: The PMem ratio may not be suited for the SAP HANA workload \u2022 The hardware configuration does not fit and will lead to unusable PMem (a ratio mismatch)", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 985, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0b590c11-b4a2-4f27-b357-8547ee99ba65": {"__data__": {"id_": "0b590c11-b4a2-4f27-b357-8547ee99ba65", "embedding": null, "metadata": {"page_label": "99", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6fd5ca7d-24e8-42f3-b736-538ea906f834", "node_type": "4", "metadata": {"page_label": "99", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "a91f9a4743333f2c4a617b012876e739bfdc2536796fd1d22b6d3c8132429ca0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 99 \nFigure 42. Optimized host memory configuration \n 4-socket host configuration: Four 2nd Gen Intel Xeon Platinum processors 24 x 256 GB DRAM + 24 x 256GB PMem = 12TB total host memory with a 1:1 DRAM to PMem ratio VM configuration example: 2 x 6 TB SAP HANA VM with 3TB DRAM and 3TB Optane PMem RAM, with a 1:1 DRAM to PMem ratio Challenges: \u2022 Higher memory costs due to DRAM module prices Figure 43. Optimized host memory configuration", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 499, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b1c2517f-c894-4537-8d37-960374bd92f5": {"__data__": {"id_": "b1c2517f-c894-4537-8d37-960374bd92f5", "embedding": null, "metadata": {"page_label": "100", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "65fbdd68-8aa3-4ab6-bb38-07138811a401", "node_type": "4", "metadata": {"page_label": "100", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "eb055ca257cb615edff6abb5b54cff800b151dd496ec74653b8a42130f0732ba", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 100 \n4-socket host configuration: Four 2nd\tGen Intel Xeon Platinum processors 24 x 128GB DRAM + 24 x 256GB PMem = 9TB total host memory VM configuration example: 4 x VM with 0.75TB DRAM and 1.5TB PMem RAM = total RAM per SAP HANA VM 2.25TB with a 1:2 DRAM to PMem ratio Challenges: \u2022 Need to verify if the PMem ratio is applicable to the SAP HANA sizing and if the CPU resources are enough. Note: Workload-based sizings are supported and allow OLAP workloads with Class-M CPU requirements to leverage up to 6TB of total memory (DRAM and PMem). Because PMem in App Direct mode provides data persistence in memory and is local to the host, not all vSphere features can be equally used on a DRAM-only VM. See the following table for details. Using SAP HANA on vSphere allows HANA users to leverage the flexibility of vSphere capabilities, such as vMotion, which allows workloads to be migrated between ESXi hosts on Intel Xeon platforms without first having to be shut down. In addition, vSphere DRS works with a cluster of ESXi hosts to provide resource management capabilities, such as load balancing and VM placement, to ensure a balanced environment for VM workloads. vSphere HA is supported for SAP HANA VMs with PMem use cases. For more information, read the VMware blog post, VMware vSphere 7.0 U2 and vSphere HA for SAP HANA with DRAM and Intel Optane PMem in App-Direct Mode. Table 33. vSphere features supported with PMem-enabled SAP HANA VMs PMem mode App Direct (vNVDIMM) Memory mode Mixed mode Storage over App Direct Usage mode Persistence Volatile Persistence/volatile vPMemDisk SAP HANA supported Yes (SAP note 2913410) Only non-prod SAP HANA support (SAP note 2954515) Only non-prod SAP HANA support (SAP note 2954515) No \nBootable drive N/A N/A N/A Yes Host and VM size Intel Cascade Lake 2 and 4 socket servers with up to 15TB (up to 16 TB without PMem); SAP HANA VM sizes up to 256 vCPUs and 6 TB of memory \nOnly non-prod SAP HANA support vSphere doesn't support mixed mode Not supported for SAP HANA \nVMware SMP Yes, up to 4 physical CPU socket ESXi hosts and SAP HANA VMs \nOnly non-prod SAP HANA support vSphere doesn't support mixed mode Not supported for SAP HANA", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2245, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3b79f109-d2cd-469d-8924-82afc70f38bb": {"__data__": {"id_": "3b79f109-d2cd-469d-8924-82afc70f38bb", "embedding": null, "metadata": {"page_label": "101", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ce302665-993d-45c5-816e-d0dd1364052c", "node_type": "4", "metadata": {"page_label": "101", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e8a15a779e34806c314b31041e2855eae5891bf79174bd8a625c5ee6894a9202", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 101 \nPMem mode App Direct (vNVDIMM) Memory mode Mixed mode Storage over App Direct vSphere vMotion Yes, up to 6TB VM sizes  (requires another PMem host) Yes vSphere doesn't support mixed mode Yes, up to 6 TB VM sizes (requires another PMem host and the usage of vSphere Storage vMotion vSphere DRS Yes, up to 6TB VM sizes  (requires another PMem host) Yes vSphere doesn't support mixed mode Yes, up to 6 TB VM sizes (requires another PMem host and the usage of vSphere Storage vMotion VMware Site Recovery Manager No Yes vSphere doesn't support mixed mode No (snapshot is not yet supported) vSphere HA Yes, with vSphere 7.0 U2 or later (no support prior  to this release) Yes (can move/failover VMs to/from Memory mode and DRAM systems) \nvSphere doesn't support mixed mode No \nVM in guest cluster No Yes (can move/failover VMs to/from Memory mode and DRAM systems) \nvSphere doesn't support mixed mode No \nVM snapshot No Yes vSphere doesn't support mixed mode No \nSAP HSR Yes Yes vSphere doesn't support mixed mode No \n \nvSphere HA support for PMem-enabled SAP HANA VMs Before the vSphere 7.0 U2 release, vSphere HA did not support PMem-enabled VMs. vSphere HA now supports failing over and restarting PMem-enabled VMs. Applications using PMem must maintain data persistence on PMem and shared disks. SAP HANA is one of the applications that provides data persistence on disk. Because of this, vSphere HA can use the data on shared disks to initiate a failover of PMem-enabled SAP HANA VMs to another PMem host. vSphere HA will automatically recreate the VM\u2019s NVDIMM configuration, but it doesn't have control over post-VM failover OS/application-specific configuration steps, such as the required re-creation of the SAP HANA DAX device configuration. This must be done manually or via a script, that is not provided by VMware or SAP. The figure below illustrates the failover of a PMem-enabled SAP HANA VM via vSphere 7.0 U2 and vSphere HA, and highlights that the PMem NVDIMM configuration is automatically re-created as part of the VM failover", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2106, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e4097209-8ece-4cb0-8ae5-deb3ef00b188": {"__data__": {"id_": "e4097209-8ece-4cb0-8ae5-deb3ef00b188", "embedding": null, "metadata": {"page_label": "102", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7deaaf13-426f-43bb-97d2-f1e521460b74", "node_type": "4", "metadata": {"page_label": "102", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "680960fe7402b50d9f72a68c9cde53eb03901d61e026f88f8e9b44c637601d4d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 102 \nprocess. Once the DAX device is configured inside the OS, you can start SAP HANA. It will automatically load the data from the disk to the new PMem regions assigned to this VM. Figure 44. vSphere HA support for PMem-enabled VMs \n After a successful failover of this PMem-enabled VM, a garbage collector process will identify failed-over VMs and free up the PMem resources previously used by this VM on the initial host. On the host this VM now runs on, the PMem will be blocked and reserved for the lifetime of this VM (as long as it isn't migrated or deleted from the host). The Intel SAP Solution Engineering team, as well as the Intel and VMware Center of Excellence, have developed an example script for automatically re-creating the DAX device configuration at the OS level. Run this script after the VM has failed over and restarted but before the SAP HANA database has been restarted. It's best to automatically run this script as part of the OS start procedure, such as a custom service. You can use the script as a template to create your own script that fits your unique environment. Caution: Broadcom, SAP, and Intel don't maintain or support this script. Your use of it is your own responsibility. \nSAP HANA with PMem VM configuration details Using PMem in a vSphere virtualized environment requires that the physical host, ESXi, and VM configurations are correctly configured. Follow the Intel Optane Persistent Memory and SAP HANA Platform Configuration on VMware ESXi configuration guide to prepare the needed DAX devices and see how to configure SAP HANA to enable PMem. The following list outlines the configuration steps. Refer to the hardware vendor\u2013specific documentation to correctly configure PMem for SAP HANA. Host: 1. Configure the server host for PMem in its BIOS (vendor specific) 2. Create AppDirect interleaved regions and verify that they are configured for ESXi use.   \nVolatileDRAM VMs\nPersistentMemory\nESXi Hosts\nN+1 VMware HA vSphere 7.0 U2 Cluster\nSAP HANA Host HA HostSAP HANA Host\nShared Datastore\nPMem\nDRAM\nHANA data persistencemaintained on shared disk and PMem!\nPMem\nDRAM\nRe-loading data from disk to PMem, previous re-creation of DAX device configuration necessary!\nPMem\nPMem VM failover\nPMemX", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2300, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e3755302-dc6d-4654-bca6-0c48f1410ca9": {"__data__": {"id_": "e3755302-dc6d-4654-bca6-0c48f1410ca9", "embedding": null, "metadata": {"page_label": "103", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e1f478a3-c1ea-4224-90b0-45c12f392597", "node_type": "4", "metadata": {"page_label": "103", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "92ee26cd7cf2e5f2aed64cb38e313434509ff4e2f5fa445e30cda79d2e5c7aac", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 103 \nVM: 1. Create a VM with hardware version 19 (vSphere 7.0 U2 or later) with NVDIMMs and allow failover to another host while doing this. 2. Edit the VMX VM configuration file and make the NVDIMMs NUMA aware. Operating system: 1. Create a file system on the namespace (DAX) devices in the OS. 2. Configure SAP HANA to use the persistent memory file system. 3. Restart SAP HANA to activate and start using PMem. Details on configuration steps 2 and 3 1. Before you can add NVDIMMs to an SAP HANA VM, check if the PMem regions and namespaces were created correctly in the BIOS.  2. Also, make sure you selected all PMem as persistent memory and that the persistent memory type is set to App Direct Interleaved, as shown in the following figure. Figure 45. Example of PMem system BIOS settings \n 3. After creating the PMem memory regions, you must reboot the system.  4. Install the latest ESXi version (7.0 U2 or later) and, using the web client, check if the PMem memory modules, interleave sets, and namespaces have been set up correctly. See the examples in figures 46\u201349.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1137, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e2b0e123-5815-48c3-a99b-286d7d7b520e": {"__data__": {"id_": "e2b0e123-5815-48c3-a99b-286d7d7b520e", "embedding": null, "metadata": {"page_label": "104", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "27e2ea02-9874-4336-b1b7-eea79416d212", "node_type": "4", "metadata": {"page_label": "104", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "073c0af23ac8035b407f0b913fd6ee483d8c5013bd59e967ff39ff3e6610b790", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 104 \nFigure 46. ESXi Persistent Memory Storage view of Modules \n Figure 47. ESXi Persistent Memory Storage View of Interleave sets \n  Figure 48. ESXi Persistent Memory Storage view of Namespaces \n Note: The interleave set numbers shown depend on the hardware configuration and may differ in your configuration. If the configurations is done correctly in the host's BIOS, it should look like what is shown in these figures.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 483, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6337894d-706c-4d61-abfe-85790003f85f": {"__data__": {"id_": "6337894d-706c-4d61-abfe-85790003f85f", "embedding": null, "metadata": {"page_label": "105", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "22246bc3-2ee2-4d96-b2bd-4f205c73eb7d", "node_type": "4", "metadata": {"page_label": "105", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e1853e354ef4a95d9df4a42d6593a4c134ab382991d645c1b39e4a1466c9ba01", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 105 \n5. After this, you can add NVDIMMs and NVDIMM controllers to your SAP HANA VM. Select the maximum size possible per NVDIMM; otherwise, you'll waste memory capacity. Figure 49. The vSphere Client Edit settings screen, where you add NVDIMMs and NVDIMM controllers to the SAP HANA VM \n To configure a PMem-enabled SAP HANA VM for optimal performance, you must align the VM configuration to the underlying hardware, especially the NUMA configuration. Broadcom KB 78094 provides information on how to configure the NVDIMMs (VMware\u2019s representation of Optane PMem) correctly and align the NVDIMMs to the physical NUMA architecture of the physical server. By default, the PMem allocation in vmkernel for VM NVDIMMs does not consider NUMA. This can result in the VM running on a certain NUMA node and the PMem being allocated on a different NUMA node. This will cause the NVDIMMs to access the VM remotely instead of locally, resulting in poor performance. To solve this, you must add the following settings to a VM configuration using vCenter.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1102, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a0a3d1a5-15df-4785-89b0-d1e405ba5fe4": {"__data__": {"id_": "a0a3d1a5-15df-4785-89b0-d1e405ba5fe4", "embedding": null, "metadata": {"page_label": "106", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b4bdd867-a46b-417a-9da5-f3bbaa2cc10f", "node_type": "4", "metadata": {"page_label": "106", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "72a0ca30d02a9f047911963f55e95f9f15ce75e88addc685150702bb356b1d26", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 106 \nExample for a 4-socket wide VM: nvdimm.mode = \"independent-persistent\" nvdimm0:0.nodeAffinity=0 nvdimm0:1.nodeAffinity=1 nvdimm0:2.nodeAffinity=2 nvdimm0:3.nodeAffinity=3 sched.pmem.prealloc=TRUE (optional) Note: sched.pmem.prealloc=TRUE is an optional parameter equivalent to eager zero thick provisioning of VMDKs and improves initial writes to PMem. Be aware that the first vMotion process with this parameter set will take a long time due to the pre-allocation of PMem in the target server. Besides these parameters, you can configure the CPU NUMA node affinity or CPU affinities (pinning) as described in the SAP HANA best practices parameter guidelines listed in the Best practices of virtualized SAP HANA systems section. Note: The parameters in the example above must be manually added after the PMem SAP HANA VM is created. Verify the VMX file of the newly created VM and check if the NVDIMM configuration looks like the following example. The easiest way to do this is to use the ESXi PowerShell. Example output of the .vmx file of a PMem-enabled VM: [root@ESXiHOSTxxx:/vmfs/volumes/XXXXXX/PMem_SAP_HANA_VM_name] grep -i nvdimm *.vmx nvdimm0.present = \"TRUE\" nvdimm0:0.present = \"TRUE\" nvdimm0:0.fileName = \"/vmfs/volumes/pmem:XXXXX/ PMem_SAP_HANA_VM_name_1.vmdk\" nvdimm0:0.size = \"757760\" nvdimm0:1.present = \"TRUE\" nvdimm0:1.fileName = /vmfs/volumes/pmem:XXXXX/ PMem_SAP_HANA_VM_name_3.vmdk\" nvdimm0:1.size = \"757760\" nvdimm0:2.present = \"TRUE\" nvdimm0:2.fileName = /vmfs/volumes/pmem:XXXXX/ PMem_SAP_HANA_VM_name_5.vmdk\" nvdimm0:2.size = \"757760\" nvdimm0:3.present = \"TRUE\" nvdimm0:3.fileName = /vmfs/volumes/pmem:XXXXX/ PMem_SAP_HANA_VM_name_5.vmdk\" nvdimm0:3.size = \"757760\" nvdimm0:0.node = \"0\" nvdimm0:1.node = \"1\" nvdimm0:2.node = \"2\" nvdimm0:3.node = \"3\"", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1839, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "12da484d-56d7-4907-84bc-382eae43b05e": {"__data__": {"id_": "12da484d-56d7-4907-84bc-382eae43b05e", "embedding": null, "metadata": {"page_label": "107", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0dd2bda4-fa94-45e0-8c4c-1986839557cc", "node_type": "4", "metadata": {"page_label": "107", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "b1d5d2f26d03f64bae02d16634d5ce39f2866dd9e0cd6ac72801b2dd18d242da", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 107 \nManually added parameters: \u2022 nvdimm.mode = \"independent-persistent\"  \u2022 nvdimm0:0.nodeAffinity=0 \u2022 nvdimm0:1.nodeAffinity=1  \u2022 nvdimm0:2.nodeAffinity=2  \u2022 nvdimm0:3.nodeAffinity=3 \u2022 sched.pmem.prealloc=TRUE (optional and will cause time delays during the first vMotion process) Note: The VMDK disk numbers shown depend on the hardware configuration and may differ in your configuration. \nMonitoring and verifying an SAP HANA installation SAP notes for monitoring data growth/CPU utilization and verifying configuration \u2022 SAP note 1698281 provides information about how you can monitor the data growth and the utilization of actual memory. With this, it is also possible to detect and diagnose the memory leaks during operation. \u2022 SAP note 1969700 covers all the major HANA configuration checks and presents a tabular output with changed configurations. Collect SQL statements to check and identify parameters that are configured  and conflict with the SAP-recommended configuration parameters. \nNUMA tool: VMware NUMA Observer While you may configure large critical VMs with affinities to unique logical cores or NUMA nodes, maintenance, and HA events can change this unique mapping. An HA event would migrate VMs to other hosts with spare capacity and those hosts may already be running VMs affined to the same cores or sockets. This results in multiple VMs constrained/scheduled to the same set of logical cores. These overlapping affinities may result in a CPU contention and/or non-local allocation of memory. To check if the initial configuration is correct or to detect misalignments, you can download and use the NUMA Observer fling (downloads a .zip file). NUMA Observer scans your VM inventory and identifies VMs with overlapping core/NUMA affinities and generates alerts. Additionally, the fling also collects statistics on remote memory usage and CPU starvation of critical VMs and raises alerts, see figures 50 and 51 for examples.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2008, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5fcf1741-98b2-4bc4-a0ea-b1acd90307e7": {"__data__": {"id_": "5fcf1741-98b2-4bc4-a0ea-b1acd90307e7", "embedding": null, "metadata": {"page_label": "108", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7a4b412c-4765-41db-b3cc-45301eb5802c", "node_type": "4", "metadata": {"page_label": "108", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "86240a066e0e5fdd831f382bc7bc785c29a52050b7aba43178808851f5bf3e0d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 108 \nFigure 50. VMware NUMA Observer \u2013 VM Core Overlap Graph \n Figure 51. VMware NUMA Observer \u2013 VM Alerts", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 167, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "55b1a575-87a0-4110-be00-20e5ec1bc18a": {"__data__": {"id_": "55b1a575-87a0-4110-be00-20e5ec1bc18a", "embedding": null, "metadata": {"page_label": "109", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "45de293a-8406-4405-a4cb-001f1889a3c9", "node_type": "4", "metadata": {"page_label": "109", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "a060ea487fd8c84dbdd64bfa4bc5b70add7bfe194f88ddcc45c58fa036d24881", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 109 \nPerformance optimizations for SAP HANA VMs This section discusses the parameters needed to optimally configure an SAP HANA VM. The most critical aspect of these optimizations is properly aligning NUMA nodes to get the best performance and the lowest memory latency. \nOptimizing the configuration parameter list VMware vSphere can run a single large SAP HANA VM or multiple smaller VMs on a single physical host. This section describes how to optimally configure a VMware virtualized SAP HANA environment. These parameters are valid for SAP HANA VMs running vSphere and vSAN-based SAP HANA HCI configurations. The listed parameter settings are the recommended BIOS settings for the physical server, the ESXi host, the VM, and the Linux OS to achieve optimal operational readiness and stable performance for SAP HANA on vSphere. The parameter settings described in this section are the default settings that should always be configured for SAP HANA on vSphere. The settings described in the Performance optimization for low-latency SAP HANA VMs section should be applied only in rare situations where SAP HANA must perform with the lowest latency possible. The shown parameters are best practice configurations, and, in case of an escalation, the support engineers will verify and, if not applied, they will recommend configuring these settings. The following table shows the sub-NUMA node cluster (SNC) settings that are required when a half-socket VM runs on a 2-socket Sapphire Rapids ESXi host. Table 34. Physical host BIOS parameter setting Physical host BIOS parameter settings Description UEFI BIOS host Use only UEFI BIOS as the standard BIOS version for the physical ESXi hosts. All SAP HANA appliance server configurations leverage UEFI as the standard BIOS. vSphere fully supports UEFI since version 5.0. Enable Intel VT technology Enable all BIOS virtualization technology settings. Configure RAM hemisphere mode Distribute DIMM or PMem modules in a way to achieve best performance (hemisphere mode) and use the fastest memory modules available for the selected memory size. Beware of the CPU-specific optimal memory configurations that depend on the available memory channels per CPU. CPU \u2013 Populate all available CPU sockets, use a fully meshed QPI NUMA architecture To avoid timer synchronization issues, use a multi-socket server that ensures NUMA node timer synchronization. NUMA systems that do not run synchronization will need to synchronize the timers in the hypervisor layer, which can impact performance. See the Timekeeping in VMware Virtual Machines information guide for reference. Select only SAP HANA CPUs supported by vSphere. Verify the support status with the SAP HANA on vSphere support notes. For a list of the relevant note, see the SAP Notes Related to VMware page.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2864, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "266db906-6de4-4a09-86bf-6a97d2f1cb34": {"__data__": {"id_": "266db906-6de4-4a09-86bf-6a97d2f1cb34", "embedding": null, "metadata": {"page_label": "110", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6bf964c0-5715-4e44-af83-f28c83ada0c4", "node_type": "4", "metadata": {"page_label": "110", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "195e78cfe609e8e043079c06295dee8ccdad831c7b4b3220f7358a117cde0f50", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 110 \nPhysical host BIOS parameter settings Description Enable CPU Intel Turbo Boost Allow Intel automatic CPU core overclocking technology (P-states). Disable QPI power management Do not allow static high power for QPI links. Set HWPE Set to the hardware vendor default. Enable hyperthreading Always enable hyperthreading on the ESXi host. This will double the logical CPU cores to allow ESXi to take advantage of more available CPU threads. Enable execute disable feature Enable the Data Execution Prevention bit (NX-bit), required for vMotion. Disable node interleaving Disable node interleaving in BIOS. Disable C1E Halt state Disable enhanced C-states in BIOS. Set power management to high performance Do not use any power management features on the server, such as C-states. Configure in the BIOS static high performance. Set correct PMem mode as specified by the hardware vendor for either App Direct or Memory mode Follow the vendor documentation and enable PMem for use with ESXi.  Note: Only App Direct and Memory mode are supported with production-level VMs. Memory mode is only supported with a ratio of 1:4. As of today, SAP provides only non-production workload support. VMware vSAN does not have support for App Direct mode as cache or as a capacity tier device of vSAN. However, vSAN will work with ESXi hosts equipped with Intel Optane PMem in App Direct mode and SAP HANA VMs can leverage PMem according to SAP note 2913410.   Important: The vSphere HA restriction (as described in SAP note 2913410) applies and must be considered. Enable SNC-2 for sub-NUMA VMs If Sapphire Rapids 2-socket systems and \"half-socket\" / sub-NUMA VMs are required, enable SNC-2. Do not enable SNC-2 if this is not required or on another ESXi host that is not a 2-socket Sapphire Rapids system. Disable all unused BIOS features This includes video BIOS, video RAM cacheable, on-board audio, on-board modem, on-board serial ports, on-board parallel ports, on-board game port, floppy drive, CD-ROM, and USB.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2062, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9dd23d4e-d85a-4b86-8c2c-0df9ca30c3b2": {"__data__": {"id_": "9dd23d4e-d85a-4b86-8c2c-0df9ca30c3b2", "embedding": null, "metadata": {"page_label": "111", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d2a4de9e-eaa3-4947-bcb2-7527d990b2e4", "node_type": "4", "metadata": {"page_label": "111", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "9726b2e6214816c2ca9096f59a7ee6cee700aa7d216cae99fc9b60a6bf87d3f7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 111 \nTable 35. ESXi host parameter settings ESXi host parameter settings Description Networking Use virtual distributed switches to connect all hosts that work together. Define the port groups that are dedicated to SAP HANA, management, and vMotion traffic. Use at least a dedicated 10 GbE for vMotion and the SAP app server or replication networks. At least 25 GbE for vMotion for SAP HANA system; >= 2 TB is recommended. Settings to lower the virtual VMXNET3 network latencies Set the following settings on the ESXi host. For this to take effect, the ESXi host must be rebooted. Go to the ESXi console and set the following parameter (enter it on one line): esxcli system settings advanced set -o /Net/NetNetqRxQueueFeatPairEnable -i 0  Add the following advanced VMX configuration parameters to the VMX file, and reboot  the VM after adding these parameters: ethernetX.pnicFeatures = \"4\" ethernetX.ctxPerDev = \"3\" Change the rx-usec, lro, and rx/tx values of the VMXNET3 driver, and of the NIC used for the SAP database to app server traffic. Change them from the default value of 250 to 75 (25 is the lowest usable setting). Procedure: Log on to the OS running the inside the VM and use ethtool to change the following settings: ethtool -C ethX rx-usec 75  ethtool -K ethX lro off ethtool -G ethX rx 512 rx-mini 0 tx 512 Note: Exchange X with the actual number, such as eth0. To make these ethtool settings permanent, see SLES KB 000017259 or the RHEL ethtool document. Storage configuration When creating your storage disks for SAP HANA on the VM/OS level, ensure that you can maintain the SAP-specified TDI storage KPIs for data and log files. Use the storage layout as a template as explained in this guide. Set the following settings on the ESXi host. For this to take effect, the ESXi host must be rebooted. Go to the ESXi console and set the following parameter: vsish -e set /config/Disk/intOpts/VSCSIPollPeriod 100 If you want to use vSAN, then select one of the certified SAP HANA HCI solutions based on vSAN and follow the VMware HCI BP guide. SAP monitoring Enable SAP monitoring on the host by setting  Misc.GuestLibAllowHostInfo = \"1\"  For more details, see SAP note 1409604. Without this parameter, no host performance-relevant data will be viewable inside an SAP monitoring-enabled VM.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2365, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7f1c9ee8-f991-436e-a71c-12efb68f2986": {"__data__": {"id_": "7f1c9ee8-f991-436e-a71c-12efb68f2986", "embedding": null, "metadata": {"page_label": "112", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cc4698e5-478f-4ac7-b991-480e567f604a", "node_type": "4", "metadata": {"page_label": "112", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "3509aec461757607589c11d01620f8bd79abff38f71f9d74a0533b870356d073", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 112 \nTable 36. SAP HANA VM parameter settings SAP HANA VM parameter settings Description Tips for editing a *.vmx file Review tips for editing a *.vmx file in Broadcom KB 1714. UEFI BIOS guest Recommended: Use UEFI BIOS as the standard BIOS version for ESXi hosts and guests. Features such as Secure Boot are possible only with EFI. See VMware DOC-28494 for details. You can configure this with the vSphere  Client by choosing EFI boot mode. If you are using vSphere 6.0 and you only see 2 TB memory in the guest, then upgrade to the latest ESXi 6.0 version. SAP monitoring Enable SAP monitoring inside the SAP HANA VM with the advanced VM configuration parameter:  tools.guestlib.enableHostInfo = \"TRUE\". For more details, see SAP note 1409604. Besides setting this parameter, the VMware guest tools must be installed. For details, see Broadcom KB 1014294. vCPU hotplug Ensure that vCPU hotplug is deactivated, otherwise vNUMA is disabled and SAP HANA will have a negative performance impact. For details, see Broadcom KB 2040375. Memory reservations Set fixed memory reservations for SAP HANA VMs. Do not overcommit memory resources. You must reserve memory for the ESXi host. The amount you reserve depends on the amount of CPU socket memory for ESXi. Typical memory reservation for a host is between 32\u201364 GB for a 2-socket server, 64\u2013128 GB for a 4-socket server, and 128\u2013256 GB for an 8-socket server. These are not absolute figures as the memory need of ESXi depends strongly on the actual hardware, ESXi and VM configuration, and enabled ESXi features, such as vSAN. CPU Do not overcommit CPU resources or configure dedicated CPU resources per SAP HANA VM. You can use hyperthreads when you configure the VM to gain additional performance. For CPU generations older than Cascade Lake, you should consider disabling hyperthreading due to the Intel Vulnerability Foreshadow L1 Terminal Fault. For details, read Broadcom KB 55636. If you want to use hyperthreads, then you must configure 2x the cores per CPU socket of a VM (e.g., 2-socket wide VM on a 60 core Sapphire Rapids system will require 240 vCPUs). vNUMA nodes SAP HANA on vSphere can be configured to leverage half-CPU and full-CPU sockets. A half-CPU socket is configured by only half of the available physical cores of a CPU socket in the VM configuration section of the vSphere Client. The vNUMA nodes of the VM will always be >=1, depending on how many CPUs you have configured in total. If you need to access an additional NUMA node, use all CPU cores of this additional NUMA node, but use as few NUMA nodes as possible to optimize memory access. Half-Socket/sub-NUMA VMs require SNC-2 with Sapphire Rapids systems.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2747, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b0930504-f3dc-407b-832c-11469be9b38c": {"__data__": {"id_": "b0930504-f3dc-407b-832c-11469be9b38c", "embedding": null, "metadata": {"page_label": "113", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "53fe6ebb-5964-4bec-af98-1b1e2df5c18a", "node_type": "4", "metadata": {"page_label": "113", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "cf214e534cb3bfddf6d90570e0ebe32513ce5e7f2c8f755d8481a990137f72b4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 113 \nSAP HANA VM parameter settings Description Important: As of today, only 2-socket SPR systems are supported with SNC-2. Once SNC-2 is enabled, four sub-NUMA nodes will be available on a supported 2-socket SPR host. In the case of SNC-2, all logical CPUs of a sub-NUMA node should be assigned to such an SNC-2 VM.  Additionally, the parameter sched.nodeX.affinity=\"Y\" must be set to ensure that the VM runs on the correct sub-NUMA node and does not get migrated by the scheduler to another sub-NUMA node. \nAlign virtual CPU VM configuration to actual server hardware Example: A half-socket VM running on a server with 28-core CPUs should be configured with 28 virtual CPUs to leverage 14 cores and 14 hyperthreads per CPU socket. Similarly, a full-socket VM should be configured to use 56 vCPUs to utilize all 28 physical CPU cores and available hyperthreads per socket. In the case of a Sapphire Rapids CPU, SNC-2 is required for half-socket VMs, and an SNC-enabled host will provide two sub-NUMA nodes per CPU socket. In this scenario, all logical CPUs of each sub-NUMA node must be utilized. For example, with a 60-core Sapphire Rapids CPU, when SNC is enabled, it becomes 30 cores per sub-NUMA node. Therefore, a half-socket VM will be configured with 60 vCPUs (including hyperthreads). Define the NUMA memory segment size The numa.memory.gransize = \"32768\" parameter helps to align the VM memory to the NUMA memory map. Paravirtualized SCSI (PVSCSI) controller or NVME adapter for I/O devices Use the dedicated SCSI controllers for OS, log, and data to separate disk I/O streams. Select, based on the used storage devices, a PVSCSI controller (SAS/SATA disks and FC) or NVME adapter (NVME devices). For details, see the SAP HANA storage and disk layout section. Use the VM\u2019s file system Use VMDK disks whenever possible to allow optimal operation via the vSphere stack. In-guest NFS mounted volumes for SAP HANA are supported as well. Create datastores for SAP HANA data  and log files Ensure the storage configuration passes the SAP-defined storage KPIs for TDI storage. Use the SAP HANA hardware configuration check tool (HWCCT) to verify your storage configuration. For details, see SAP note 1943937. Use eager zero thick virtual disks for data and logs We recommend this setting as it avoids lazy zeroing (initial write penalty). \nVMXNET3 Use paravirtual VMXNET 3 virtual NICs for SAP HANA VMs. We recommend at least 3\u20134 different NICs inside a VM in the SAP HANA VM (app/management server network, backup network, and, if needed, HANA system replication network). Corresponding physical NICs inside the host are required. Optimize the application server network latency if required Disable virtual interrupt coalescing for VMXNET 3 virtual NICs that communicate with the app servers or front end to optimize network latency. Do not set this parameter for throughput-oriented networks, such as vMotion or SAP HANA system replication. Use the advanced options in the vSphere Web Client or directly modify the .vmx file and add ethernetX. coalescingScheme = \"disable\". X stands for your network card number. For details, see the Best Practices for Performance Tuning of Latency-Sensitive Workloads in vSphere VMs white paper.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3296, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "87f689ac-2284-4981-9fb5-263bb49682f8": {"__data__": {"id_": "87f689ac-2284-4981-9fb5-263bb49682f8", "embedding": null, "metadata": {"page_label": "114", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "04703a1e-a949-4622-9789-0fe99cd0a024", "node_type": "4", "metadata": {"page_label": "114", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "93c0f384a77da988b444fe99346fbcd91584956660c329c2c503b171828d38db", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 114 \nSAP HANA VM parameter settings Description Set lat.Sensitivity = normal Check with the vSphere Client and ensure that, in the VM configuration, the value of Latency Sensitivity Settings is set to \"normal.\" If you must change this setting, restart the VM. Do not change this setting to high or low. Change this setting under the instruction of VMware support engineers. Configuring virtual topology when vSphere 8 and later is used. vSphere ESXi 8.0 introduces an enhanced virtual topology feature. This feature automatically selects optimal coresPerSocket values for VMs and optimal virtual L3 sizes.  The intelligent, adaptive NUMA scheduling and memory placement policies in ESXi 8.0 can manage all VMs transparently, so you don\u2019t need to deal with the complexity of balancing VMs between nodes by hand.  Manual controls are still available to override this default behavior, however, and SAP HANA production or performance-critical VMs should manually configure NUMA placement (through the  sched.nodeX.affinity=\"Y\" advanced option).  For details refer to Performance Best Practices for VMware vSphere 8.0 paper and for detailed configuration steps refer to the paper: VMware vSphere 8.0 Virtual Topology. If sched.nodeX.affinity=\"Y\" cannot be used due to an operational reason, then NUMA action affinity must be set to avoid unwanted NUMA node co-deployments. NUMA action affinity If the sched.nodeX.affinity=\"Y\" setting is not usable due to specific operational constrains, it is possible to avoid VM co-deployment on a CPU socket/NUMA node by deactivating the NUMA locality affinity. Follow Broadcom KB 2097369.  This setting can be used for SNC and non-SNC configurations. Use the vSphere Web Client and add the following advanced VM parameter per VM setting: Numa.LocalityWeightActionAffinity=\"0\" Associate VMs with specified NUMA nodes to optimize NUMA memory locality Note: While ESXi 8 provides an enhanced virtual topology feature that automatically selects optimal coresPerSocket values for VMs and optimal virtual L3 sizes to align it to the underlying NUMA topology of a host, we still recommend you associate a virtual NUMA node to a physical NUMA node. This is especially recommended for consolidation configurations, where more SAP VMs share a single host. For single large VM, these settings are not required.  \nFor all SAP HANA VMs, we recommend you affinity the virtual NUMA node with a physical NUMA node. This provides direct control over how a VM is placed on a specific NUMA node. It also ensures that a virtual NUMA node does not get migrated, which may occur if there are idle NUMA nodes. While these migrations help to load balance how a server is used by VMs, for SAP HANA VMs, this is mostly negative and may impact memory latency and therefore performance. Due to this, associating the physical NUMA nodes with a VM is required to constrain how the ESXi scheduler can schedule a VM\u2019s CPU and memory. Use the vSphere Web Client or directly modify the .vmx file and add sched.nodeX.affinity=\"Y\"  Refer to the VMware article, \"Associate Virtual Machines with Specified NUMA Nodes\" for details. Procedure: 1. Browse to the VM in the vSphere Client. 2. Right-click and select Edit Settings. 3. Select the VM Options tab and expand Advanced. 4. Under Configuration Parameters, click the Edit Configuration button.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3404, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "cfe9fa97-affd-418c-93f0-00308430c1a0": {"__data__": {"id_": "cfe9fa97-affd-418c-93f0-00308430c1a0", "embedding": null, "metadata": {"page_label": "115", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ec49943a-c3f9-432e-9dd7-ecde8a83884b", "node_type": "4", "metadata": {"page_label": "115", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "8358855e8162c8ec22fd9857ce3b4367621792f6c330984e6649368353042318", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 115 \nSAP HANA VM parameter settings Description 5. Click Add Row to add a new option. \u2013 To specify a NUMA node for a specific virtual NUMA node on the VM: In the Name column, enter sched.nodeX.affinity, where X is the virtual NUMA node number. For example, sched.node0.affinity specifies the virtual NUMA node 0 on the VM. \u2013 In the Value column, enter the NUMA node where the VM or the virtual NUMA node can be scheduled. 6. For every virtual NUMA node, add a new row with a new sched.nodeX.affinity option. 7. Click OK twice to close the Edit Settings dialog box. Example for a single NUMA node VM: \u2022 sched.node0.affinity =\"2\" (this is physical NUMA node 2) Example for a two-NUMA node VM: \u2022 sched.node0.affinity =\"0\" \u2022 sched.node1.affinity =\"1\" Not supported: \u2022 sched.node0.affinity =\"1\" \u2022 sched.node1.affinity =\"2\" Important: For SNC-enabled hosts, do not set affinities to sub-NUMA nodes that cross a physical CPU socket. See Table 37. Sub NUMA Node Cluster (SNC) settings for details. Configure VMs to use hyperthreading  with NUMA For memory latency-sensitive workloads with low processor utilization, such as SAP HANA, or high interthread communication, we recommended using hyperthreading with fewer NUMA nodes instead of full physical cores spread over multiple NUMA nodes. Use hyperthreading and enforce NUMA node locality per Broadcom KB 2003582. This parameter is only required when hyperthreading should be leveraged for a VM. Using hyperthreading can increase the compute throughput but may increase the latency of threads. Note: This parameter is only important for half-socket and multi-VM configurations that do not consume the full server, such as a 3-socket VM on a 4-socket server. Do not use it when a VM leverages all installed CPU sockets (e.g., 4-socket wide VM on a 4-socket host or an 8-socket VM on an 8-socket host). If a VM has more vCPUs configured than available physical cores, this parameter is configured automatically. Use the vSphere Web Client and add the following advanced VM parameter: numa.vcpu.preferHT=\"TRUE\" (per VM setting) or as a global setting on the host: Numa.PreferHT=\"1\" (host). Note: For non-mitigated CPUs, such as Haswell, Broadwell, and Skylake, you may consider not using hyperthreading at all. For details, see Broadcom KB 55806. PMem-enabled VMs To configure an Optane PMem-enabled SAP HANA VM for optimal performance, it is necessary to align the VM configuration to the underlying hardware, especially the NUMA configuration.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2547, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "45857a4f-aa29-4d4a-8a66-d7fda36f2537": {"__data__": {"id_": "45857a4f-aa29-4d4a-8a66-d7fda36f2537", "embedding": null, "metadata": {"page_label": "116", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fa244fac-7449-4a65-8845-57f93f76a64f", "node_type": "4", "metadata": {"page_label": "116", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "f86de5b3d50f9352c47a952c2755d22f248e94af5c3089389fa7ab8544d9b007", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 116 \n Table 37. Sub NUMA Node Cluster (SNC) settings SAP SNC-2 enabled ESXi host (2-socket only) Advanced VMX settings 2 VMs per CPU socket, 4 VMs total per ESXi host   \nVM1: numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity =\"0\" VM2: numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity =\"1\" VM3: numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity =\"2\" VM4: numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity =\"3\" 1 VM per CPU socket, 2 VMs total per ESXi host VM1: numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity =\"0\" sched.node1.affinity =\"1\" \nSAP HANA VM parameter settings Description Broadcom KB 78094 provides information on how to configure the NVDIMMs (VMware\u2019s representation of Optane PMem) correctly and align the NVDIMMs to the physical NUMA architecture of the physical server. By default, Optane PMem allocation in the vmkernel for VM NVDIMMs does not consider NUMA. This can result in the VM running on a certain NUMA node and Optane PMem allocated from a different NUMA node. This will cause NVDIMM access in the VM to be remote, resulting in poor performance. To solve this, you must add the following settings to a VM configuration using vCenter. Example for a 4-socket wide VM: nvdimm0:0.nodeAffinity=0 nvdimm0:1.nodeAffinity=1 nvdimm0:2.nodeAffinity=2 nvdimm0:3.nodeAffinity=3 sched.pmem.prealloc=TRUE is an optional parameter equivalent to eager zero thick provisioning of VMDKs and improves initial writes to PMem. Besides these parameters, the CPU NUMA node affinity or CPU affinities must also be configured. Remove unused devices Remove unused devices, such as floppy disks or CD-ROM, to release resources and to mitigate possible errors.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1707, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fec254c9-3c8e-4de3-992d-03a164986974": {"__data__": {"id_": "fec254c9-3c8e-4de3-992d-03a164986974", "embedding": null, "metadata": {"page_label": "117", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ad4f61de-d5f6-443d-b705-e961c42b3c19", "node_type": "4", "metadata": {"page_label": "117", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "8b5627d48f586b0e78fd575c99cc53ca8514abdd689f8fd3cee7122a60aad959", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 117 \nSAP SNC-2 enabled ESXi host (2-socket only) Advanced VMX settings \n  \nVM2: numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity=\"2\" sched.node1.affinity=\"3 \nNot supported  Not supported: Do not configure a sub-NUMA node wide VM that crosses the QPI link. VM: numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity=\"1\" sched.node1.affinity=\"2\"  1 VM across two CPU sockets VM: numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity=\"0\" sched.node1.affinity=\"1\" sched.node2.affinity=\"2\" sched.node3.affinity=\"3\"", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 553, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9a297b81-548e-4a9b-a172-7b682b88f78a": {"__data__": {"id_": "9a297b81-548e-4a9b-a172-7b682b88f78a", "embedding": null, "metadata": {"page_label": "118", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fa26dc95-b8cf-4b64-b555-b8be3454b3a2", "node_type": "4", "metadata": {"page_label": "118", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "e97b3ad39f2af6cacf56877576e9fcb3f9ca2e8ed1ac3fd3e165517413ea5c60", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 118 \nTable 38. Linux operating system parameter settings Linux OS parameter settings Description Linux version VMware strongly recommends using only the SAP HANA supported Linux and kernel versions. See SAP Note 2235581 and for settings, see SAP Note 2684254. Use SAP HANA SAPConf/SAPTune to optimize the Linux OS for SAP HANA.  To optimize large-scale workloads with intensive I/O patterns, change the queue depths of the SCSI default values. \nThe large-scale workloads with intensive I/O patterns require adapter queue depths greater than the Paravirtual SCSI (PVSCSI) default values. The default values of PVSCSI queue depth are 64 (for device) and 254 (for adapter). You can increase PVSCSI queue depths to 254 (for device) and 1024 (for adapter) inside a Windows or Linux VM.  Create a file of any name in the /etc/modprobe.d/ directory with this line: options vmw_pvscsi cmd_per_lun=254 ring_pages=32 Note: For RHEL5, edit /etc/modprobe.conf with the same line. Make a new initrd for the settings to take effect. You can do this either by using mkinitrd, or by re-running vmware-config-tools.pl.  Starting in version 6, RHEL uses modprobe.d. Alternatively, append these to kernel boot arguments (for example, on Red Hat Enterprise Linux edit /etc/grub.conf or on Ubuntu edit /boot/grub/grub.cfg). vmw_pvscsi.cmd_per_lun=254 vmw_pvscsi.ring_pages=32 Reboot the VM. See Broadcom KB 2053145 for details. Note:\tReview\tBroadcom KB 2088157\tif you\tencounter VM freezes under heavy I/O load to recover the VM from its locked-up state. Install the latest version of VMware Tools VMware Tools is a suite of utilities that enhances the performance of the VM\u2019s guest operating system and improves the VM management. See Broadcom KB 1014294 for details. Configure NTP time server Use the same external NTP server as configured for vSphere. For details, see SAP note 989963. Optional: Disable large receive offload (LRO) in the Linux guest OS to lower latency for client/application server- facing NIC adapter \nThis helps to lower the network latency of client/application server-facing NIC adapters. Run:  ethtool -K ethY lro off Caution: Do not disable LRO for throughput NIC adapters such as for backup, replication, or SAP HANA internode communication networks. This works only with Linux kernel 2.6.24 and later and uses a VMXNET3. For additional details, see Broadcom KB 2055140.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2438, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2de194b1-e811-4aa5-9865-8e918b8ca641": {"__data__": {"id_": "2de194b1-e811-4aa5-9865-8e918b8ca641", "embedding": null, "metadata": {"page_label": "119", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5e83c9af-2964-40a9-9464-e46f2316b9b4", "node_type": "4", "metadata": {"page_label": "119", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "7350e8b1b03787db2483f0e25abe804125053746a3c61efb23e0faf6d65d0bf3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 119 \nTable 39. General SAP HANA Linux configuration recommendations (These settings will be automatically configured when you use SAPTune/SAPConf.) Linux parameter settings Description Linux with SAP HANA Reference Guide See the recommended operating system configuration settings for running SAP HANA on Linux in the Reference Guide.  Disable I/O scheduling SLES15 SP2 onwards is configured by default. The scheduler is set to none with block_mq enabled.  Disable AutoNUMA Later Linux kernels (RHEL 7 and SLES 12) support auto-migration according to NUMA statistics. For SLES:  1. # yast bootloader 2. Choose Kernel Parameters tab (ALT-k) 3. Edit the Optional Command-line Parameters section and append:  numa_balancing=disabled For RHEL: 1. Edit the file: etc/sysctl .d/sap_hana.conf 2. Add the following: kernel.numa_balancing = 0 3. Reconfigure the kernel by running:  # sysctl -p /etc/sysctl.d/sap_hana.conf  Use Block mq  In the kernel parameters, add scsi_mod.use_blk_mq=1.  For OS version SLES 5 SP2 and beyond, this is enabled by default. Disable transparent HugePages THP is not supported for the use with SAP HANA database because it may lead to hanging situations and performance degradations. To check the current configuration, run the following command: # cat/sys/kernel/mm/transparent_hugepage/enabled Its output should read:  always madvise [never] If this is not the case, you can disable the THP usage at runtime by issuing the following command:  # echo never > /sys/kernel/mm/ transparent_hugepage/enabled  For details, refer to the SAP WIKI for SAPs and the Linux OS vendor's virtualization independent recommended Linux OS settings for SAP HANA. Change the following parameters in /etc/sysctl.conf (important for SAP HANA scale-out deployments) net.core.rmem_default = 262144 net.core.wmem_max = 8388608 net.core.wmem_default = 262144 net.core.rmem_max = 8388608 net.ipv4.tcp_rmem = 4096 87380 8388608 net.ipv4.tcp_wmem = 4096 65536 8388608", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2024, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e5687703-6a49-4439-9230-6c3865de4cf5": {"__data__": {"id_": "e5687703-6a49-4439-9230-6c3865de4cf5", "embedding": null, "metadata": {"page_label": "120", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e8961316-5613-45e8-8d53-da4e59122409", "node_type": "4", "metadata": {"page_label": "120", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "2adf39bcdbab6bf5fe9f36d5c3ccfb731b10c2a5feca3a6a103d5bd762d854f8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 120 \nLinux parameter settings Description net.ipv4.tcp_mem = 8388608 8388608 8388608 net.ipv4.tcp_slow_start_after_idle = 0  Example Linux kernel boot loader parameters  intel_idle.max_cstate=0 processor.max_cstate=0 numa_balancing=disabled transparent_hugepage=never elevator=noop vmw_pvscsi.cmd_per_lun=254 vmw_pvscsi.ring_pages=32 \nPerformance optimization for low-latency SAP HANA VMs When SAP HANA must perform as close to bare metal as possible\twith the lowest database access latency, you'll need to optimize the performance of SAP HANA VMs. We recommend sizing SAP HANA VMs with the fewest NUMA nodes for low latency. Configure an additional NUMA node and its resources for SAP HANA VMs that need more CPU or RAM. To achieve optimal performance for an SAP HANA VM, use the settings as described in table 40 in addition to the previously described settings. CPU scheduling and priority settings improve performance by reducing the amount of vCPU and vNUMA migration, while increasing the priority of the SAP HANA production VM. \nCPU affinity settings By specifying a CPU affinity setting for each VM, you can restrict the assignment of VMs to a subset of the available processors (CPU cores) in multiprocessor systems. By using this feature, you can assign each VM to processors in the specified affinity set. Setting CPU affinities can decrease the CPU and memory latency by preventing the ESXi scheduler from migrating VM threads to other logical processors. Setting CPU affinities is required when configuring SAP HANA half-socket VMs. Before you use a CPU affinity, consider the following: \u2022 For multiprocessor systems, ESXi systems perform automatic load balancing. Avoid manually setting VM affinity to allow the scheduler to optimally balance load across processors. \u2022 An affinity setting can interfere with the ESXi host\u2019s ability to meet the reservation and shares specified for a VM. \u2022 Because CPU admission control does not consider affinities, a VM with manual affinity settings might not always receive its full reservation. VMs that do not have manual affinity settings are not adversely affected by ones with manual affinity settings. \u2022 When you move a VM from one host to another, a manually set affinity might no longer apply because the new host might have a different number of processors. \u2022 The NUMA scheduler might not be able to manage a VM that is already assigned to the processor using a manually set affinity. \u2022 An affinity setting can affect the host\u2019s ability to schedule VMs on multicore or hyperthreaded processors, preventing the host from fully taking advantage of the resources shared on those processors.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2706, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "506be888-20dc-46f2-aa55-0acbb4f3eeb2": {"__data__": {"id_": "506be888-20dc-46f2-aa55-0acbb4f3eeb2", "embedding": null, "metadata": {"page_label": "121", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6260bdee-b0d8-4817-80cf-28875b3bf94f", "node_type": "4", "metadata": {"page_label": "121", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "4f181e1e8bfba218a09099c2c51f935aed7c062ed633a1d3efdcb9357786edc0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 121 \nFor more information about performance practices, see the vSphere Resource Management Guide and the VMware documentation on specifying NUMA controls. \nAdditional performance tuning settings for SAP HANA workloads Caution: The following parameters are optional; they are needed only for systems that require the lowest CPU latency. Make sure you read the previous section, \"CPU affinity settings\" before changing them. Important: Only set these advanced VM parameters for an SAP HANA workload that is the only workload running on a NUMA node/compute server. These settings may help a VM perform better, but at the expense of CPU time on the ESXi host. Table 40. Tunings for very low-latency SAP HANA VMs SAP HANA VM parameter settings Description Tips about how to edit the *.vmx file Refer to Broadcom KB 1714. monitor.idleLoopSpinBeforeHalt = \"true\"  monitor.idleLoopMinSpinUS = \"xx us\" Edit the .vmx file and add the following two advanced parameters: monitor.idleLoopSpinBeforeHalt = \"true\" monitor.idleLoopMinSpinUS = \"xx\"  (Where \"xx\" could be \"50\", for example.) Both parameters must be configured to influence the descheduling time. Background: The guest OS issues a halt instruction, which stops (or deschedules) the vCPU on the ESXi host. Keeping the VM spinning longer before halt negates the number of inter-processor wake-up requests. monitor_control.halt_in_monitor = \"TRUE\" In the default configuration of ESXi 7.0, the idle state of guest halt instruction will be emulated without leaving the VM if a vCPU has an exclusive affinity. If the affinity is non-exclusive, the guest halt will be emulated in the vmkernel, which may result in having a vCPU descheduled from the physical CPU, and this can lead to longer latencies. Therefore, we recommend you set this parameter to \"TRUE\" to ensure that the halt instruction is emulated inside the VM and not in the vmkernel. Use the vSphere Web Client to add the following advanced VM parameter:  monitor_control.halt_in_monitor = \"TRUE\" monitor_control.disable_pause_loop_exiting = \"TRUE\" This parameter prevents the VM from unnecessarily exiting to the hypervisor during a pause instruction. This is specific for Intel Skylake systems.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2261, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5829de11-3e6b-4d81-9a3e-2c574e949204": {"__data__": {"id_": "5829de11-3e6b-4d81-9a3e-2c574e949204", "embedding": null, "metadata": {"page_label": "122", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9a42be9d-93e4-4c4b-aa16-3add2ebc2bc1", "node_type": "4", "metadata": {"page_label": "122", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "65d58a90a6133eabb1597a4c8d0b6c6cc1a578eebf34c14b0b62c97bec7103a7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 122 \n Table 41. Settings to improve NUMA alignment SAP HANA VM parameter settings Description Configuring CPU affinity sched.vcpuXx.affinity = \"Yy-Zz\" Note: Remove sched.nodeX.affinity  or numa.nodeAffinity settings (if they were set) and if using this parameter setting. By specifying a CPU affinity setting for each VM, you can restrict the assignment of VMs to a subset of the available processors (CPU cores) in multiprocessor systems. By using this feature, you can assign each VM to processors in the specified affinity set.  See \"Scheduler operation when using the CPU Affinity\" (Broadcom KB 2145719) for details. This is required when configuring SAP HANA half-socket VMs or for very latency critical SAP HANA VMs. It is also required when the parameter numa.slit.enable is used. As with sched.nodeX.affinity, it is possible to decrease the CPU and memory latency by further limiting the ESXi scheduler from migrating VM threads to other logical processors/CPU threads by leveraging the sched.vCPUxxx.affinity VMX parameter. In contrast to parameter sched.nodeX.affinity, it is possible assign a vCPU to a specific physical CPU thread and is necessary, for example, when configuring half-socket SAP HANA VMs. Use the vSphere Web Client or directly modify the .vmx file (recommended way) and add sched.vcpuXx.affinity = \"Yy-Zz\" (for example: sched.vcpu0.affinity = \"0-55\") for each virtual CPU you want to use. 1. Browse to the cluster in the\tvSphere Client.\t 2. Click the\tConfigure\ttab and click\tSettings.\t 3. Under\tVM Options, click the\tEdit\tbutton.\t 4. Select the\tVM Options\ttab and expand\tAdvanced.\t 5. Under\tConfiguration Parameters, click the\tEdit Configuration\tbutton.\t 6. Click\tAdd Row\tto add a new option.\t 7. In the Name column, enter\tsched.vcpuXX.affinity (XX stands for the actual vCPU want to assign to a physical CPU thread).\t 8. In the Value column, enter the physical CPU threads where the vCPU can be scheduled.\tFor example, enter\t0-55\tto constrain the VM resource scheduling to physical CPU threads 0-55, which would be the 1st CPU of an 28 core CPU host.\t 9. Click\tOK.\t 10. Click\tOK\tto close the Edit VM dialog box. For more information about potential performance practices, see vSphere Resource Management Guide.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2301, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "dd75f390-c37c-4701-b400-29152893fd16": {"__data__": {"id_": "dd75f390-c37c-4701-b400-29152893fd16", "embedding": null, "metadata": {"page_label": "123", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fe9b62b9-89af-4b0a-94c3-85627398120e", "node_type": "4", "metadata": {"page_label": "123", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "4cb5b09070a508f78334c2bcb5d1e5aaab457e5b370aa1ebf30fbe0b84a9dcce", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 123 \nSAP HANA VM parameter settings Description >4-socket VM on 8-socket hosts Add the advanced parameter:  numa.slit.enable = \"TRUE\"  to ensure the correct NUMA map for VMs > 4 socket on 8-socket hosts. Note: sched.vcpuXx.affinity = \"Yy-Zz\" must be configured when numa.slit. enable is set to \"TRUE\".  \nExamples of VMX configurations for SAP HANA VMs The following examples provide an overview of how to set additional VMX parameters for SAP HANA half- and full-CPU socket VMs. These parameters can be added through the vSphere Web Client or by directly adding these parameters to the .vmx file with a text editor. Table 42. Additional VMX parameters to set for half-socket SAP HANA VMs on 28-core/n-socket CPU server; socket 0 Half-socket SAP HANA VM additional VMX parameters Settings First half-socket VM on socket 0 on an example 28-core CPU n-socket server numa.vcpu.preferHT=\"TRUE\" sched.vcpu0.affinity = \"0-27\" sched.vcpu1.affinity = \"0-27\" sched.vcpu2.affinity = \"0-27\" \u2026 sched.vcpu26.affinity = \"0-27\" sched.vcpu27.affinity = \"0-27\" \nFirst half-socket PMem VM on socket 0 on an example 28-core CPU n-socket server nvdimm0:0.nodeAffinity=0 numa.vcpu.preferHT=\"TRUE\" sched.vcpu0.affinity = \"0-27\" sched.vcpu1.affinity = \"0-27\" sched.vcpu2.affinity = \"0-27\" \u2026 sched.vcpu26.affinity = \"0-27\" sched.vcpu27.affinity = \"0-27\"", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1389, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "da34fb48-299b-4f55-b2b8-16a56d6c2455": {"__data__": {"id_": "da34fb48-299b-4f55-b2b8-16a56d6c2455", "embedding": null, "metadata": {"page_label": "124", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "32a039fa-9b7e-4eeb-a86b-2e92e7af9dee", "node_type": "4", "metadata": {"page_label": "124", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "b8cbdaf8c28052ac343c82f759cb516ca83ed8b05441f9856f87f71130421e50", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 124 \nHalf-socket SAP HANA VM additional VMX parameters Settings Second half-socket VM on socket 0 on an example 28-core n-socket CPU server numa.vcpu.preferHT=\"TRUE\" sched.vcpu0.affinity = \"28-55\" sched.vcpu1.affinity = \"28-55\" sched.vcpu2.affinity = \"28-55\" \u2026 sched.vcpu26.affinity = \"28-55\" sched.vcpu27.affinity = \"28-55\" \nSecond half-socket PMem VM on socket 1 on an example 28-core CPU n-socket server nvdimm0:0.nodeAffinity=1 numa.vcpu.preferHT=\"TRUE\" sched.vcpu0.affinity = \"84-111\" sched.vcpu1.affinity = \"84-111\" sched.vcpu2.affinity = \"84-111\" \u2026 sched.vcpu26.affinity = \"84-111\" sched.vcpu27.affinity = \"84-111\" \n Table 43. Additional VMX parameters to set for single-socket SAP HANA VMs on a 28-core/8-socket CPU server;  socket 3 1-socket SAP HANA VM additional VMX parameters Settings \n1-socket VM on socket 3 on an example 28-core CPU 4 or 8-socket server numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity=\"3\" 1-socket PMem VM on socket 3 on an example 28-core CPU 4 or 8-socket server nvdimm0:0.nodeAffinity=3 numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity=\"3\"", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1133, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1590cc48-2024-4734-9af4-e00abacfad95": {"__data__": {"id_": "1590cc48-2024-4734-9af4-e00abacfad95", "embedding": null, "metadata": {"page_label": "125", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e8baa4f4-abcc-4a96-b687-d9d2399ea085", "node_type": "4", "metadata": {"page_label": "125", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "ee3ccf370d4bde98881a65f486c926d2615d5b196d185883b4066cfc35891ce9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 125 \nTable 44. Additional VMX parameters to set for dual-socket SAP HANA VMs on a 28-core/n-socket CPU server;  sockets 0-1 2-socket SAP HANA VM additional VMX parameters Settings 2-socket VM on sockets 0 and 1 on a n-socket server numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity=\"0\" sched.node1.affinity=\"1\" 2-socket PMem VM on sockets 0 and 1 a n-socket server nvdimm0:0.nodeAffinity=0 nvdimm0:1.nodeAffinity=1 numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity=\"0\" sched.node1.affinity=\"1\" \n Table 45. Additional VMX parameters to set for 3-socket SAP HANA VMs on a 28-core/4- or 8-socket CPU server;  sockets 0-2 3-socket SAP HANA VM additional VMX parameters Settings 3-socket VM on sockets 0, 1 and 2 on a 4 or 8-socket server numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity=\"0\" sched.node1.affinity=\"1\" sched.node2.affinity=\"2\" 3-socket PMem VM on sockets 0, 1, and 2 on a 4 or 8-socket server nvdimm0:0.nodeAffinity=0 nvdimm0:1.nodeAffinity=1 nvdimm0:2.nodeAffinity=2 numa.vcpu.preferHT=\"TRUE\" sched.node0.affinity=\"0\" sched.node1.affinity=\"1\" sched.node2.affinity=\"2\" \n Table 46. Additional VMX parameters to set for 4-socket SAP HANA VMs on a 28-core/4-socket CPU 4-socket SAP HANA VM additional VMX parameters Settings 4-socket VM on a 4-socket server No additional settings are required as the VM utilizes all server resources. 4-socket PMem VM on a 4-socket server nvdimm0:0.nodeAffinity=0 nvdimm0:1.nodeAffinity=1 nvdimm0:2.nodeAffinity=2 nvdimm0:3.nodeAffinity=3", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1532, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "64d8d71d-5c08-4438-9591-4c3f7686e48d": {"__data__": {"id_": "64d8d71d-5c08-4438-9591-4c3f7686e48d", "embedding": null, "metadata": {"page_label": "126", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "06615b46-5854-4379-9492-88c3af1b3796", "node_type": "4", "metadata": {"page_label": "126", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "134ed05ee49769bd1aa1049e57859856bf7a181f99a4fe292be77d7ec7d0472f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 126 \nTable 47. Additional VMX parameters to set for 4-socket SAP HANA VM on a 28-core/8-socket CPU; sockets 0-3 4-socket SAP HANA VM additional VMX parameters Settings 4-socket VM on an example 28-core CPU 8-socket server running on sockets 0\u20133 numa.slit.enable = \"TRUE\" sched.vcpu0.affinity = \"0-55\" sched.vcpu1.affinity = \"0-55\" sched.vcpu2.affinity = \"0-55\" \u2026 sched.vcpu222.affinity = \"168-223\" sched.vcpu223.affinity = \"168-223\"  Table 48. Additional VMX parameters to set for 6-socket SAP HANA VM on a 28-core/8-socket CPU server; sockets 0-5 6-socket SAP HANA VM additional VMX parameters Settings 6-socket VM on an example 28-core CPU 8-socket server running  on sockets 0\u20135 numa.slit.enable = \"TRUE\" sched.vcpu0.affinity = \"0-55\" sched.vcpu1.affinity = \"0-55\" sched.vcpu2.affinity = \"0-55\" \u2026 sched.vcpu334.affinity = \"280-335\" sched.vcpu335.affinity = \"280-335\" \n Table 49. Additional VMX parameters to set for 8-socket SAP HANA VM on a 28-core/8-socket CPU server SAP HANA 8-socket VM additional VMX parameters Settings 8-socket VM on an example 28-core CPU 8-socket server numa.slit.enable = \"TRUE\" sched.vcpu0.affinity = \"0-55\" sched.vcpu1.affinity = \"0-55\" sched.vcpu2.affinity = \"0-55\" \u2026 sched.vcpu446.affinity = \"392-447\" sched.vcpu447.affinity = \"1392-447\" \n Table 50. Additional VMX parameters to set for an SAP HANA VM running a latency-sensitive application Low latency SAP HANA VM additional VMX parameters Settings n-socket low-latency VM on an n-socket, CPU server (Valid for all VMs when even a lower latency is required.) monitor.idleLoopSpinBeforeHalt = \"TRUE\" monitor.idleLoopMinSpinUS = \"50\" For a Skylake CPU: monitor_control.disable_pause_loop_exiting = \"TRUE\"", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1749, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b9548a24-da41-4091-80cd-0c9861b40ed5": {"__data__": {"id_": "b9548a24-da41-4091-80cd-0c9861b40ed5", "embedding": null, "metadata": {"page_label": "127", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "db5be68a-9e23-4656-8b86-d1ee16d2e7fa", "node_type": "4", "metadata": {"page_label": "127", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "307299de5185eefde0ae4372c5fd9a9e6987cbbefa52c18bc7593c54b76a6643", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6ee249c2-027f-4a79-b1cd-ab6b71b54401", "node_type": "1", "metadata": {}, "hash": "fdcbb841a866d2a38742793e1af04db5f37f176c1fb6e42b8542ee499e41221a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 127 \nCPU thread matrix examples Figure 52 shows the CPU thread matrix of a 28-core CPU as a reference when configuring the sched.vCPUXx.affinty = \"Xx-Yy\" parameter. The list shows the start and end ranges required for the \"Xx-Yy\" parameter (for example, for CPU 5, this would be 280\u2013335). Figure 52.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 360, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6ee249c2-027f-4a79-b1cd-ab6b71b54401": {"__data__": {"id_": "6ee249c2-027f-4a79-b1cd-ab6b71b54401", "embedding": null, "metadata": {"page_label": "127", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "db5be68a-9e23-4656-8b86-d1ee16d2e7fa", "node_type": "4", "metadata": {"page_label": "127", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "307299de5185eefde0ae4372c5fd9a9e6987cbbefa52c18bc7593c54b76a6643", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b9548a24-da41-4091-80cd-0c9861b40ed5", "node_type": "1", "metadata": {"page_label": "127", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "89defa4db241b82b40bac6888012ed9201a4f242995d8563c2febc05936a3abe", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The list shows the start and end ranges required for the \"Xx-Yy\" parameter (for example, for CPU 5, this would be 280\u2013335). Figure 52. CPU thread examples for a 28-core/56-thread CPU server \n \nCPU0 ThreadsCPU1 ThreadsCPU2 ThreadsCPU3 ThreadsCPU4 ThreadsCPU5 ThreadsCPU6 ThreadsCPU7 Threads0 56 112 168 224 280 336 3921 57 113 169 225 281 337 3932 58 114 170 226 282 338 3943 59 115 171 227 283 339 3954 60 116 172 228 284 340 3965 61 117 173 229 285 341 3976 62 118 174 230 286 342 3987 63 119 175 231 287 343 3998 64 120 176 232 288 344 4009 65 121 177 233 289 345 40110 66 122 178 234 290 346 40211 67 123 179 235 291 347 40312 68 124 180 236 292 348 40413 69 125 181 237 293 349 40514 70 126 182 238 294 350 40615 71 127 183 239 295 351 40716 72 128 184 240 296 352 40817 73 129 185 241 297 353 40918 74 130 186 242 298 354 41019 75 131 187 243 299 355 41120 76 132 188 244 300 356 41221 77 133 189 245 301 357 41322 78 134 190 246 302 358 41423 79 135 191 247 303 359 41524 80 136 192 248 304 360 41625 81 137 193 249 305 361 41726 82 138 194 250 306 362 41827 83 139 195 251 307 363 41928 84 140 196 252 308 364 42029 85 141 197 253 309 365 42130 86 142 198 254 310 366 42231 87 143 199 255 311 367 42332 88 144 200 256 312 368 42433 89 145 201 257 313 369 42534 90 146 202 258 314 370 42635 91 147 203 259 315 371 42736 92 148 204 260 316 372 42837 93 149 205 261 317 373 42938 94 150 206 262 318 374 43039 95 151 207 263 319 375 43140 96 152 208 264 320 376 43241 97 153 209 265 321 377 43342 98 154 210 266 322 378 43443 99 155 211 267 323 379 43544 100 156 212 268 324 380 43645 101 157 213 269 325 381 43746 102 158 214 270 326 382 43847 103 159 215 271 327 383 43948 104 160 216 272 328 384 44049 105 161 217 273 329 385 44150 106 162 218 274 330 386 44251 107 163 219 275 331 387 44352 108 164 220 276 332 388 44453 109 165 221 277 333 389 44554 110 166 222 278 334 390 44655 111 167 223 279 335 391 447Total CPU Threads224 56 56 56 56 56 56 56 56\nTotal CPU Cores 112 28 28 28 28 28 28 28 28\n28 Core, 56 Thread CPU \nHalf-SocketHalf-Socket", "mimetype": "text/plain", "start_char_idx": 226, "end_char_idx": 2276, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "19504757-4080-4ec6-9c81-d27a6f2337c0": {"__data__": {"id_": "19504757-4080-4ec6-9c81-d27a6f2337c0", "embedding": null, "metadata": {"page_label": "128", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64fbc43b-3519-4b38-987f-55f8318cd9e7", "node_type": "4", "metadata": {"page_label": "128", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "c1499d445e7d0e8f25b8257cb1385293867b1ac0d15c0ddeb97b36decb83a3f7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 128 \nFigure 53 shows the CPU thread matrix of a 24-core CPU as a reference when configuring the sched.vCPUXx.affinty =\"Xx-Yy\" parameter. The list shows the staring and end range required for the \"Xx-Yy\" parameter. For example, for CPU 5 it would be \"240-287\". Figure 53. CPU thread examples for a 24-core/48-thread CPU server \n \nCPU0 Threads CPU1 Threads CPU2 Threads CPU3 Threads CPU4 Threads CPU5 Threads CPU6 Threads CPU7 Threads\n0 48 96 144 192 240 288 3361 49 97 145 193 241 289 3372 50 98 146 194 242 290 3383 51 99 147 195 243 291 3394 52 100 148 196 244 292 3405 53 101 149 197 245 293 3416 54 102 150 198 246 294 3427 55 103 151 199 247 295 3438 56 104 152 200 248 296 3449 57 105 153 201 249 297 34510 58 106 154 202 250 298 34611 59 107 155 203 251 299 34712 60 108 156 204 252 300 34813 61 109 157 205 253 301 34914 62 110 158 206 254 302 35015 63 111 159 207 255 303 35116 64 112 160 208 256 304 35217 65 113 161 209 257 305 35318 66 114 162 210 258 306 35419 67 115 163 211 259 307 35520 68 116 164 212 260 308 35621 69 117 165 213 261 309 35722 70 118 166 214 262 310 35823 71 119 167 215 263 311 35924 72 120 168 216 264 312 360\n25 73 121 169 217 265 313 36126 74 122 170 218 266 314 36227 75 123 171 219 267 315 36328 76 124 172 220 268 316 36429 77 125 173 221 269 317 36530 78 126 174 222 270 318 36631 79 127 175 223 271 319 36732 80 128 176 224 272 320 36833 81 129 177 225 273 321 36934 82 130 178 226 274 322 37035 83 131 179 227 275 323 37136 84 132 180 228 276 324 37237 85 133 181 229 277 325 37338 86 134 182 230 278 326 37439 87 135 183 231 279 327 37540 88 136 184 232 280 328 37641 89 137 185 233 281 329 37742 90 138 186 234 282 330 37843 91 139 187 235 283 331 37944 92 140 188 236 284 332 38045 93 141 189 237 285 333 38146 94 142 190 238 286 334 38247 95 143 191 239 287 335 383\nTotal CPU Threads 192 48 48 48 48 48 48 48 48\nTotal CPU Cores 96 24 24 24 24 24 24 24 24\n24 Core, 48 Thread CPU \nHalf-SocketHalf-Socket", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2009, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "dd20197b-6c27-44a1-8225-1ad821a356f2": {"__data__": {"id_": "dd20197b-6c27-44a1-8225-1ad821a356f2", "embedding": null, "metadata": {"page_label": "129", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "89ca57d8-39ac-496c-9260-85876c02a6a8", "node_type": "4", "metadata": {"page_label": "129", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "fdb5b32e93665421034a1bb5795c05066dd1811911feb735af1ca53d96275625", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 129 \nFigure 54 shows the CPU thread matrix of a 22-core CPU as a reference when configuring the sched.vCPUXx.affinty =\"Xx-Yy\" parameter. The list shows the staring and end range required for the \"Xx-Yy\" parameter. For example, for CPU 5 it would be \"220-263\". Figure 54. CPU thread examples for a 22-core/44-thread CPU server \n   \nCPU0 \nThreads\nCPU1 \nThreads\nCPU2 \nThreads\nCPU3 \nThreads\nCPU4 \nThreads\nCPU5 \nThreads\nCPU6 \nThreads\nCPU7 \nThreads\n0 44 88 132 176 220 264 308\n1 45 89 133 177 221 265 309\n2 46 90 134 178 222 266 310\n3 47 91 135 179 223 267 311\n4 48 92 136 180 224 268 312\n5 49 93 137 181 225 269 313\n6 50 94 138 182 226 270 314\n7 51 95 139 183 227 271 315\n8 52 96 140 184 228 272 316\n9 53 97 141 185 229 273 317\n10 54 98 142 186 230 274 318\n11 55 99 143 187 231 275 319\n12 56 100 144 188 232 276 320\n13 57 101 145 189 233 277 321\n14 58 102 146 190 234 278 322\n15 59 103 147 191 235 279 323\n16 60 104 148 192 236 280 324\n17 61 105 149 193 237 281 325\n18 62 106 150 194 238 282 326\n19 63 107 151 195 239 283 327\n20 64 108 152 196 240 284 328\n21 65 109 153 197 241 285 329\n22 66 110 154 198 242 286 330\n23 67 111 155 199 243 287 331\n24 68 112 156 200 244 288 332\n25 69 113 157 201 245 289 333\n26 70 114 158 202 246 290 334\n27 71 115 159 203 247 291 335\n28 72 116 160 204 248 292 336\n29 73 117 161 205 249 293 337\n30 74 118 162 206 250 294 338\n31 75 119 163 207 251 295 339\n32 76 120 164 208 252 296 340\n33 77 121 165 209 253 297 341\n34 78 122 166 210 254 298 342\n35 79 123 167 211 255 299 343\n36 80 124 168 212 256 300 344\n37 81 125 169 213 257 301 345\n38 82 126 170 214 258 302 346\n39 83 127 171 215 259 303 347\n40 84 128 172 216 260 304 348\n41 85 129 173 217 261 305 349\n42 86 130 174 218 262 306 350\n43 87 131 175 219 263 307 351\nTotal CPU \nThreads 176 44 44 44 44 44 44 44 44\nTotal CPU \nCores 88 22 22 22 22 22 22 22 22\n22 Core, 44 Thread CPU \nHalf-SocketHalf-Socket", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1939, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "545fd552-6268-48cf-abfc-22639bf3f972": {"__data__": {"id_": "545fd552-6268-48cf-abfc-22639bf3f972", "embedding": null, "metadata": {"page_label": "130", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "43decc17-278d-40e9-87b7-0fe92124c597", "node_type": "4", "metadata": {"page_label": "130", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "257b759f38476b0d60bdf666716c1033f21f5fcf5757ee61069528bfcc1c6e1b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 130 \nSAP HANA support and process To get support for your virtualized SAP HANA systems, open a ticket directly with SAP. The ticket will be routed directly to VMware and SAP HANA support engineers, who will then troubleshoot the escalated issue. \nOpen an SAP support request ticket VMware is part of the SAP support organization, allowing VMware support engineers to work directly with SAP, SAP customers, and other SAP software partners, such as SUSE, as well as with hardware partners, on solving issues that need escalation. Before opening a VMware support ticket, we recommend opening a support request within the SAP support system for SAP HANA systems virtualized with vSphere. This ensures that SAP HANA and VMware specialists will work on the case and, if needed, escalate the issue to VMware product support (when it is a VMware product issue) or to SAP support (when it is an SAP HANA issue). The following components are available for escalating SAP on vSphere issues: \u2022 BC-OP-NT-ESX (Windows on VMware ESXi) \u2022 BC-OP-LNX-ESX (Linux on VMware ESXi and SAP HANA) You should escalate issues related to SAP HANA on vSphere to BC-OP-LNX-ESX using the SAP Solution Manager. For non-vSphere-related SAP HANA issues, the escalation will be moved to the correct support component. Figure 55 shows the support process workflow for vSphere-related SAP HANA issues.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1425, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "83d04389-c709-4279-b507-19f4cbeca161": {"__data__": {"id_": "83d04389-c709-4279-b507-19f4cbeca161", "embedding": null, "metadata": {"page_label": "131", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f81ac8a0-6df9-456d-8cc5-be1d40e59482", "node_type": "4", "metadata": {"page_label": "131", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "72f460a8a04a26801b3303572ee3008ad36de3ef1eefd703c6f5f8d85d9c3e01", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 131 \nFigure 55. SAP support workflow for vSphere-related escalations \n  If the problem cannot be solved by the first and second levels of SAP support, they forward it to the next support level. For example, if the issue is a Linux kernel panic or an SAP HANA product issue, we recommend that you use the correct support component instead of using VMware support because this may delay the support process. If you are uncertain that the issue is related to vSphere, open the ticket first at the general SAP HANA support component. If the issue is related to vSphere, such as an ESXi driver, then you may either open the ticket via SAP Solution Manager and escalate it to BC-OP-LNX-ESX or ask the VMware customer administrator to open a support ticket directly at VMware.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 830, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b19822c1-40a6-4371-b2dc-a3fec62cb144": {"__data__": {"id_": "b19822c1-40a6-4371-b2dc-a3fec62cb144", "embedding": null, "metadata": {"page_label": "132", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f92f2662-3ed0-48cb-8f1d-a1c4e109f11e", "node_type": "4", "metadata": {"page_label": "132", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "001fa3178c8c3ccb4249dfb6cccba2d8da27d048ee92824880e01129da873be2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 132 \nOpen a VMware support request ticket If there appears to be a VMware product issue or if vSphere is not configured optimally and is causing a bottleneck, file a support request at https://support.broadcom.com/web/ecx/software-contact-support.  In addition: \u2022 Follow the troubleshooting steps outlined in the VMware knowledge base article, Troubleshooting ESX/ESXi virtual machine performance issues (2001003). \u2022 Run the vm-support utility, and then run the following command at the service console:  vm support-s  This command collects the necessary information that VMware uses to help diagnose issues. It is best to run this command when symptoms first occur. If you want to escalate an issue with your SAP HANA HCI solution, please work directly with your HCI vendor and follow the defined and agreed support process, which normally starts by opening a support ticket within the SAP support tools and selecting the HCI partners SAP support component. \nConclusion SAP HANA on VMware vSphere/VMware Cloud Foundation provides a cloud operation model for your business-critical enterprise application and data. For over 12 years, virtualizing SAP HANA with vSphere has been supported. Compared to a natively installed SAP HANA system, virtualizing SAP HANA with vSphere does not require any specific considerations for deployment and operation. In addition, your SAP HANA environment gains all the virtualization benefits of easier operation, such as SAP HANA database live migration with vMotion or strict resource isolation on a virtual serve, increased security, standardization, better service levels and resource utilization, an easy HA solution using vSphere HA, lower total cost of ownership, an easier way to maintain compliance, faster time to value, reduced complexity and dependencies, custom SAP HANA system sizes optimally aligned to your workload and needs, and the previously mentioned advantage of using a cloud operation model. I think anything \"software-defined\" means it\u2019s digital. It means we can automate it, and we can control it, and we can move it much faster. \u2014Andrew Henderson, Former CTO, ING Bank", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2189, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0460150c-98c0-42b7-85cd-fe32e49c8c52": {"__data__": {"id_": "0460150c-98c0-42b7-85cd-fe32e49c8c52", "embedding": null, "metadata": {"page_label": "133", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "becbf40d-d736-4b29-a852-53776d343652", "node_type": "4", "metadata": {"page_label": "133", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "29ba49d31529fec3a7a20717b2e1205d950d6bc997251e4fd3930dc86a1a3fcc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 133 \nAbout the Author Erik Rieger is a Principal SAP Global Technical Alliance Manager & Architect, working with VMware by Broadcom's Global SAP Alliance. He defines and manages the VMware SAP solution and validation roadmap. Erik works closely with SAP, partners, and customers to define the architectures of VMware-based SAP solutions so that they have the best mix of functionality to help transform businesses into real-time enterprises. Erik has more than 20 years of experience in the IT sector, has a technical degree in electronics, and a Master of Science degree in Information Systems and Management. \nAcknowledgments The following individuals from Broadcom contributed content or helped review this guide: \u2022 Fred Abounader, Staff Performance Engineer, VCF Performance Engineering team \u2022 Louis Barton, Staff Performance Engineer, VCF Performance Engineering team \u2022 Julie Brodeur, Senior Technical Writer, VCF Performance Engineering team \u2022 Pascal Hanke, Solution Consultant, Professional Services team \u2022 Sathya Krishnaswamy, Staff Performance Engineer, Performance Engineering team \u2022 Sebastian Lenz, Staff Performance Engineer, Performance Engineering team \u2022 Todd Muirhead, Staff Performance Engineer, Performance Engineering team \u2022 Oliver Ziltener, Senior Technical Product Manager, VCF division  \u2022 Catherine Xu, Manager of Workload, Technical Marketing team", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1430, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "82f419c5-1734-45c9-bb02-6943c7dfdfec": {"__data__": {"id_": "82f419c5-1734-45c9-bb02-6943c7dfdfec", "embedding": null, "metadata": {"page_label": "134", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cf8d5d6c-eb0f-4fa1-9fba-8ad20a9403dc", "node_type": "4", "metadata": {"page_label": "134", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}, "hash": "dae3b82fa3c01dbcdb2aeb9018c9165d6c3ae10ea301ef97abbf9ff3e1a77efb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \u00a9 2024 Broadcom. All rights reserved.  The term \u201cBroadcom\u201d refers to Broadcom Inc. and/or its subsidiaries. For more information, go to www.broadcom.com. All trademarks, trade names, service marks, and logos referenced herein belong to their respective companies. Broadcom reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design. Information furnished by Broadcom is believed to be accurate and reliable. However, Broadcom does not assume any liability arising out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license under its patent rights nor the rights of others.", "mimetype": "text/plain", "start_char_idx": 3, "end_char_idx": 757, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}}, "docstore/metadata": {"3305a4a6-dd44-4313-92fc-4c749f994fb5": {"doc_hash": "df86a05e9146164c75872a88723260263281bd3630feaa406e86c24ce47d92ee", "ref_doc_id": "f57158dd-482c-460c-8a0c-383e996d287d"}, "8c3b1054-bc5a-4267-b1ee-015ac3a3b1ae": {"doc_hash": "fc628f4e997d7fde46936fb0b708738733d681e15c2805321b7f74cf7dfd4e88", "ref_doc_id": "14de8f19-1af1-4e77-aa65-a47e801bed81"}, "b5ef1bba-1325-4638-ae7b-5037c0be243f": {"doc_hash": "15384b6e3778a44dcfff39acbf27b439b413ab6fa825e4fc712d5fb7f458163d", "ref_doc_id": "ebb78c39-214b-414f-98da-c4f508e4c360"}, "d09ff1dc-fa95-4b7b-b861-e1abbb5c712f": {"doc_hash": "18beb236e5b5afbe47e94b127e164ca9948fc40e754acef6d178445d4ad3bc21", "ref_doc_id": "a15bc9a4-bea6-4cfb-b1cf-5860d0d05985"}, "da2411dc-df42-497a-9058-91f85e84cc3a": {"doc_hash": "f50ddfc307a618fdf2dd8a707eac4327cbcb1b5d28ce2acb0f2289882d08ae12", "ref_doc_id": "b4ac6bdb-21de-4ba9-81a2-c8c9efd026d0"}, "b6037a98-c333-4efe-8252-15771771d3ab": {"doc_hash": "95311783f6c7eb8364ba03229618b46d771315ebe6d747e996417e59cb0365bf", "ref_doc_id": "57f68954-18a2-474f-92d4-1b2b379a82ef"}, "c8e54680-d98e-452d-86bf-8dbc22c0be21": {"doc_hash": "fbb3310fb7c1a8d27c17308aa1900f0c802ebcfbe392c3b3ad2e4b0e66668891", "ref_doc_id": "11a53dba-f8d9-426c-9da6-fa1274ba338e"}, "9b0a191a-0cf2-447a-ad44-4e72c6a1aab0": {"doc_hash": "529bf0d264ea5e1d8a020a40e22ef5ec18e8ddcec339fcdd0f7e8e71c4f6ae6f", "ref_doc_id": "6fa86d53-69c9-40cd-9e70-8c0250d03028"}, "d9ad649f-3689-4956-867f-b07050a582b7": {"doc_hash": "6bbc7d33d5b3f51a1e9815915842ea2ef6f437f0addb21efb4bb38bfb4188127", "ref_doc_id": "f9dd9b41-38ce-4d00-8a49-56f10108ff5a"}, "687e5b25-8144-4ac4-868b-a8e18f2ffd6b": {"doc_hash": "26c067529fcd5d4725cdebd5374873a8f557e7355aa6e2e6d783d18130e76d09", "ref_doc_id": "7db2d1dd-0c52-4db7-91c9-66f044823976"}, "55dabf03-fee0-4f6b-9a19-c01f8720cc85": {"doc_hash": "d1f99269b8c2bd41985e06c69ad2ac8d8db6c9e8f0c1465f936bd886ac53b65c", "ref_doc_id": "f37dc781-4f13-4d10-a1c4-f00d9c983df2"}, "5e5c9b33-a79b-476f-ba1c-720014db55bc": {"doc_hash": "d3c210bf6ae4ba86e8de156258f75722a3598eb372211031984a4382494f3f4b", "ref_doc_id": "611393c2-a681-45af-83e7-6cb2187f62f8"}, "0a8c4276-6098-48a3-b4c9-cf9877a608da": {"doc_hash": "5d23dd73143b59aa0cc92ca10bf5ee9d830194b8cbf6ad1c81917f18db0c2df6", "ref_doc_id": "603b6f5c-74cb-4151-b57b-69d4a16b0fec"}, "eb8fb177-8f54-47f0-a7f5-91089dcc9d70": {"doc_hash": "4009a63f816e3e781c2b7463617a2bbc876a061ead07ae83365a3525acebabac", "ref_doc_id": "93ceda28-c6a9-4e98-9230-2ef4d4289b3a"}, "168029fe-db58-4b40-a469-58bb39529ad4": {"doc_hash": "da1c9c4f281dee828a5ca59a350eb2ae286602af3d799f3893ba111dba7f1619", "ref_doc_id": "045e0363-71ef-4507-90e5-65e50e6d1c96"}, "f5f475ab-9c04-48e3-8d9d-51d37945ad46": {"doc_hash": "faa9adf2dbe7967b2e8d74b46c40d0513efded5e4284149cb4585fbacb3772b9", "ref_doc_id": "e37f34b7-2894-4a1a-82f8-0b6486d094f3"}, "1be57a80-20a3-4fcc-9341-1613efb0ab3a": {"doc_hash": "60d040de3a87abd9a6bfcdb46efdbdf679f2b79cde5ecc4ddacbac4481bae71b", "ref_doc_id": "4247131f-f0bc-4f9b-8625-c3b2fdacb4a3"}, "8e577a27-23a5-4778-99e4-997cceb47ada": {"doc_hash": "4a45d34ddcd2de26ab4e3648633849bf0f15493780848a7ea68f590b037a1f60", "ref_doc_id": "60a80aa1-1f98-4b29-90c9-69771ac56efe"}, "44554d05-8173-4678-af1c-9fa5742db362": {"doc_hash": "f9bcf0907c3b0cc9fde969e660f35c6b1c5b703d3e408e7a585d99885317ec4c", "ref_doc_id": "ac5daf6a-8557-4e7f-8f2b-04ad39aad244"}, "0c2c5ab7-7a4c-47f0-a071-a8f50678aa20": {"doc_hash": "deee2617be4023f7bb687c53bf7c7c52483fbb3f017d50e9c159a06911311842", "ref_doc_id": "974ee13a-350b-4f28-a3c1-d080a1fc27f4"}, "acc98e35-cac7-47d3-91e5-ee7eaa80ab87": {"doc_hash": "6803c1270c26f088d3838f2d3db73472f0bf9bb7196f5b31921dd10dae290d41", "ref_doc_id": "334cf420-2348-4a23-97eb-9f5d36e78f06"}, "6af53963-f330-49e4-a687-7d486de0542c": {"doc_hash": "540b6dcf70114a87713906413d26bfd870c8fdb479dd446e5d584d298ef79260", "ref_doc_id": "a7c57881-cac6-4466-8a0f-5ceb8e6a3008"}, "0c3c40db-ded2-4a17-8410-a20d3da1d3f5": {"doc_hash": "e647c3cd9ce4e7c1e6c1b420b7b37935ecf5ab2f5c83772268e8df4f86769811", "ref_doc_id": "3afd1d68-5450-4529-abbb-81fee2b3a04f"}, "8cb07cc5-8828-4ee7-80d1-bc11abfe3967": {"doc_hash": "a948f6a8745034440d5234629b647d4c5c9b39d06483826740410ead1a1157e8", "ref_doc_id": "9ea4203c-818f-4785-8e3b-3dbdb2e69452"}, "2017bd80-cbdd-4c47-bae0-49d3e84201e1": {"doc_hash": "398ace9585f1325a892aec934f1c485c870acd2ae354ac9e2a5647901b2dcde1", "ref_doc_id": "ce88c7ba-579f-4c1e-972e-05c03e90988a"}, "ad06cbc0-abe9-49ae-bc9c-be1bd21bc53a": {"doc_hash": "0af7bd06b81b728f83baa68464a99cea05ad7d9f324526e0227a91904260f934", "ref_doc_id": "d5e5d9ce-45bd-45fc-b6de-daeaa4f94458"}, "409b9130-07d2-4682-b4ec-63b7a85b29c5": {"doc_hash": "af1b011eecffd851b59c015dcce886b98d1021ba5043958f0cbcd3ab05c0eae5", "ref_doc_id": "430b42b6-22c0-4fdc-b042-861a90102908"}, "566ad79d-062a-4226-ad2b-92841ae1e80c": {"doc_hash": "40416b696e0afb741cb6bd42375f5471e55ab05f39584c5441c50ca96e754279", "ref_doc_id": "2a8056b1-d3fc-4bcc-ad5f-6abffae13f49"}, "d07a93e6-be16-41aa-8c22-06308249f7d5": {"doc_hash": "c8c3a780ac00499ec275e95808d12390d3b837fb3afb52ce13f28356b4c3cdf3", "ref_doc_id": "660e8212-a2f0-4a45-92e3-ab8923b42da0"}, "145574ee-eee0-4c80-8171-44efcd0bfc2d": {"doc_hash": "3fd295188f3788094cb8c277642be7dbdbe995137a2987e8b62f4135a2204b40", "ref_doc_id": "77d91572-ce65-43ac-aadf-ab8daf273132"}, "4bdec536-c8ce-469d-ba2b-e5cbec41920f": {"doc_hash": "03c465d172b2f2bb8c7ecb3d870469b2e78a10765d38b2a4d8fa5faba51258e4", "ref_doc_id": "742f7cfa-1250-4743-b44a-1145a332e70a"}, "77a0a10b-087e-4647-931e-e168b21d1e3c": {"doc_hash": "c1699f61683ed3b5798525bb3b95829049cef756b79e4762978123ce80f753ca", "ref_doc_id": "c225216f-21b7-4e13-ac17-bfc76af89c66"}, "0b4748c6-7735-4f5a-95e4-15aa500aa064": {"doc_hash": "a8678fb0ddbb16abb1e77f6222cff84978c0f04cc6d413aaab48c6a99ebaaaa7", "ref_doc_id": "786be5b8-3416-43d0-a27c-1905d32dc812"}, "66839750-bf7e-4f2a-91e3-28b049c120ca": {"doc_hash": "e0243753078cc8443b3b62462dd5a2d7ad505fd734ca41257d5860019e914578", "ref_doc_id": "9963de48-8906-4a4d-9ad1-29e44aa2f783"}, "9f4052d8-c3d6-4d7f-a6e8-8d46d1c3fa71": {"doc_hash": "7d2bcce62a3940a7576c62af47c851a0132263814b38b8bbab379a930af0771e", "ref_doc_id": "0fb805d7-f60e-485d-8481-a3d59b2396c8"}, "09a5332b-001d-45de-95a1-9ee9eba470ae": {"doc_hash": "7a981b192635b5ae42b21946188c1922309c1057a19ced5124e73e55fa04d5b9", "ref_doc_id": "bdc12ebf-9487-481d-b890-eaea55e32d33"}, "205d8fbb-544f-4882-8da0-3a89ecf4844b": {"doc_hash": "25f4e142b1e8b4262d64938ebb873fcc1aa8d97ed49edba4a3070a90fdfd2292", "ref_doc_id": "d14349f7-57a2-4876-97ba-3153ff528294"}, "49f407d4-87cc-47d5-a900-7dd84589a1f7": {"doc_hash": "15d8056a94050b02727598dc807004ab484526e049bd44eff5444a93f907e76e", "ref_doc_id": "4de40bda-276b-4fe8-90d2-ca7d50d6dc1d"}, "194bbc40-6b2c-40e9-85f0-6b8ede9750fd": {"doc_hash": "b4d06a4042f09dce385a4429ad135dfa9c4a108f0614243f258186ced62e993c", "ref_doc_id": "eac8901c-020b-43d0-b7c6-44ee328c9ba2"}, "fb06f5da-4a4c-411d-ace4-72101f9c033c": {"doc_hash": "d08a51edcbeb1bd0860a56bf4fa91a7c426093f668d8d89f90e45473586f2235", "ref_doc_id": "1089d6db-efe9-46e2-b24e-d6742d057236"}, "1264681e-1c6c-4194-a503-2ad279514612": {"doc_hash": "abd8292697d886641d44443df504d38c5a1a67259f8c3c3172cc6772e02b463b", "ref_doc_id": "9536a207-e17c-4164-9442-867d1054eb47"}, "c4065047-ebdb-443a-aefd-f88152674abf": {"doc_hash": "9cb8b29b8a68ab4902855d3607df512ce965c7f59ad9171e8772950cdf9acd7c", "ref_doc_id": "30533f6e-c031-4c6b-a426-c6a68b25d37e"}, "f23b6f09-1a5a-40a6-a273-c2e9ac5277a5": {"doc_hash": "b669fd931700a9600859e8ae3df59787d4b400005b01b5c90ccdd79ec6d6c34e", "ref_doc_id": "bbad33ad-d1bc-41ef-8039-d6c33ef07c4c"}, "d65be2c1-d6fe-41cb-996b-19073a16ba5b": {"doc_hash": "e0a0e60ac4b5965771cf1cbfb5aa175d1d5ca0c61afdeeaf99683c7adf91e367", "ref_doc_id": "c907bc35-6fb0-4066-92e9-9dd26f0abc87"}, "f6104870-4d5f-4e91-a46c-027c1714e5cb": {"doc_hash": "5148323b849c0319afbc84de54a01cfb8657c11d0cf1fb7238e78ce797e7cb96", "ref_doc_id": "0e972dfe-7a4d-479f-87ad-8ea6b16e1f21"}, "5c360185-ce7b-422a-b09a-e78165dd6dc1": {"doc_hash": "1e5684ceeb6da90991339ff2de93769147642fc8a829d69a901acb09d6397231", "ref_doc_id": "d41ce52b-6a37-48c6-b56b-b2d6daa031ca"}, "2802aeba-1052-4b68-b362-0872d85000c0": {"doc_hash": "7a7781a8eae90bc502b87fd00ecc493e1d87dba282048af0ad400608e8ec83bb", "ref_doc_id": "21fa2575-7323-4d1b-b141-55a3d3505599"}, "af7fac99-d858-49a9-a6b2-0dadcf106dfc": {"doc_hash": "5a54fc4ba285e5379f8124bd4f424f05036071333f978eda51318f471176fbbf", "ref_doc_id": "e90e3a4a-0b4d-4e75-8456-23fb784291b2"}, "cf2eff0a-5aac-4baf-bd8e-e734f53315be": {"doc_hash": "98ee4a8ca182584ec1386f04518fdda8ec2145cc6766651f434ba7ccce78ffd7", "ref_doc_id": "29912c1c-8b79-42e6-9fb0-5d3d4f2f6c2a"}, "5e32c843-ca64-467e-b826-0a0de8b904ea": {"doc_hash": "fdf9c2e13d4dcc90e5fcbb228c07dda314e6b47d9c6131b77517b5cf5663a239", "ref_doc_id": "6aca107c-6227-4713-96d8-5407af124ad4"}, "45c68e18-58c5-4f82-86aa-d673c528b749": {"doc_hash": "076d92041eb308419c0917803dcd54a5ebdead1df7bd58de7de5d099acc485a0", "ref_doc_id": "c0d9f8dd-1290-4cea-b5b1-372f4f4ddd96"}, "cb4b8b3e-6b23-4acf-aa42-347d9a2fe580": {"doc_hash": "d31d7bfdb129b8a4fe7d634b5348fdfff58780145baa13e9ce56ee21cfedd75c", "ref_doc_id": "5cda10f5-c706-4f01-b846-16ee40ddec87"}, "4de0be74-30b1-44cc-a2ab-f873c5d7aec9": {"doc_hash": "b00dd58b4996eebc99566380feb9d1435f8463e0235c0ef93fda66af8e7a1a09", "ref_doc_id": "ec1f92b1-e1ca-47dc-8c81-3cdf65dbfabc"}, "2bfa53c3-c01b-40aa-9a8d-9695480e2a54": {"doc_hash": "822a97fcfd4ae1d057179ab639181dd84168d7cf24d1f724d7d9538a867a083e", "ref_doc_id": "fb1315ac-ca93-4c2f-873b-64d1c00828a7"}, "235ce56b-bcd4-494b-b0b3-f9470fe5fabb": {"doc_hash": "9ce0dd96dff47dc525b2dc0a701f1ee188b227e9fa94bbb7e937a18ff94440b7", "ref_doc_id": "8a9f6e2f-5d40-4df3-b00f-e5d11e438c5e"}, "2dec690f-b5e7-42a2-bc9b-70dc41b7bea1": {"doc_hash": "c9243272888c065c13b62d6f6ccf0a160701dfc5b1145a85974ea9209fb71cd1", "ref_doc_id": "fe0aebd2-c39b-41c3-bffa-7237ddd69d35"}, "366b63a7-d761-4721-825c-e69548114d45": {"doc_hash": "0dc5515837001cbbd8a47ae96fb482c3c78665b9abc32709912f4ee8e2c6e43d", "ref_doc_id": "41a7d4e2-7379-4ba8-aab8-0360c9d86cda"}, "2339e0da-6c76-4e2c-81d9-d07334738d51": {"doc_hash": "1b25b0b01bad8d8ca3b2d8d049d77eae4e8241c76275ce4e4e0c26cbe9bde480", "ref_doc_id": "41e61114-5429-4829-9c48-3ef1dbc23add"}, "34e4c93e-e9a0-448b-9c03-0075e7f7ef93": {"doc_hash": "0639b6a4408aa8db39a7a4b2f66e2c10524f39fadc103d8c5bc31905e8c43257", "ref_doc_id": "63c95f09-72a8-458f-994b-ce0d1c1a4d7d"}, "3eaef5ef-b189-4275-9789-9e95d16e77df": {"doc_hash": "2cf1cab3f3faaaba67cf636f6d7ad18efeda4d332cebb87cfcdca444125aed58", "ref_doc_id": "e6711169-c44a-44aa-a582-de70a5396156"}, "9a0f81a5-c222-499f-b061-2516a84cb631": {"doc_hash": "cd5e12f3e96e45aaf748a8a188e602fd3822e7c434c9e462cba2865cb18f1afb", "ref_doc_id": "87aac8eb-1470-4d91-a51f-063d901cf9ff"}, "d6b961d4-e3f4-423c-b5d3-10228c851f72": {"doc_hash": "d00648b33296aef29ec94e94b5ad2c8f3d0ba19c79f0cc0e7c11e2781812f7b9", "ref_doc_id": "1e8aee61-b34e-4b2b-a526-009acad3800f"}, "6c6263fd-ba30-4e1f-b237-9c658fab61e7": {"doc_hash": "2a774ee404256ae8b4ecccefe1fc4c1f7a18f503c0a081951900a1fdf20ef818", "ref_doc_id": "3ff4415c-3e7e-4781-9071-d3ee74e23cbe"}, "586a6e38-23be-4afb-add6-f811d48c3ce4": {"doc_hash": "83f777b170eb84c55bf34cecbc8dd4f6915e7d29a3d76b843edc49eecbde4650", "ref_doc_id": "4d425313-3535-4744-a6fb-3174e9e5a1ce"}, "749991db-2240-4801-9730-45981a009f24": {"doc_hash": "a6f945a79c375d85053a7e57350c51dde6bfa6f3faaf926de4d8792ee8d1396f", "ref_doc_id": "86707dbf-1028-4b1a-94f7-70cd9f45329d"}, "4bc21243-4832-4f39-99a0-52b00ecee30d": {"doc_hash": "3e1606a878d72594bc6c2af079def09bf3037b94755ee456e175dc5e409f9bd2", "ref_doc_id": "c5ec5a59-311c-4314-b344-b77bea16f4bb"}, "3e20003a-c09f-42d5-8a0f-1b8574c6655d": {"doc_hash": "21b110c6d66351465eb99a0da3afd5fc777d605bc7c146ec3c4af505356478ef", "ref_doc_id": "c2674162-9167-4ed4-b90c-6b023f500e5f"}, "6ff74509-f044-415e-b6f8-27c487e89e1a": {"doc_hash": "e708ee09b2020f0e1869a8a59a98e48b7f1e38a527e8c97d014e24675048061d", "ref_doc_id": "bfa82023-9652-40bb-a749-f5ee804f8e72"}, "188a8848-5e71-4a60-b834-7fa879ce59ed": {"doc_hash": "31849e83edbccc79c0f25b5beec198ea3a21aa676585da95dbde4c7d1404bac9", "ref_doc_id": "9e05ba78-00c1-47ed-a0fd-160903956224"}, "accc0b4c-d988-420f-bc9d-887489f6d654": {"doc_hash": "37d4322179eb3b9d088cdb69cb52ffa466ef0a6e3185b266862d8330adc5d1f3", "ref_doc_id": "90217bf5-e465-4d0e-88e8-71195e5813fa"}, "e29b2260-5a14-40b2-81a2-02f01c2568d1": {"doc_hash": "cb5226a7ad75f2942ff4665e7ce2c550c4651d1f4cc94b1226872092940ae50a", "ref_doc_id": "fdf4f97d-0ea8-4acd-b82b-28ed646d0d39"}, "9417635c-5825-4d43-a80f-2517fb3028de": {"doc_hash": "f993392d3e0000c846c6ce5ea4072396dc38ffc96e9862d072fcf08e2e35a142", "ref_doc_id": "e9e92f9b-f9ee-47bf-997e-f8f97433c067"}, "d21811fe-11d2-4d0b-af52-a87a52246ae5": {"doc_hash": "a5703b95cdd6f6d30cc4d7f9ce7d012c31959ffc5d66d51973578ce54b693325", "ref_doc_id": "44da2dfe-0683-48df-bf9b-1c6fd83093e1"}, "456e8b5a-ceea-4bcd-bf4c-ee4feb65f39a": {"doc_hash": "cf78d1860eee73d5c1468849eb4a544928a46c95c2852925c5845f8e500a73d6", "ref_doc_id": "f450bab0-eea7-4be5-bbbd-774fb5b8ced6"}, "673554e1-3b63-416f-a26c-16c48826f42a": {"doc_hash": "814d3e6b9bd13c6210b8664d768186e81b4d6915470b2d314a333adaef2bb330", "ref_doc_id": "8fa114ad-c6ee-4352-9831-e3bef0f112c9"}, "7f5562eb-1c21-4cec-983a-6ef8ad2fbcc1": {"doc_hash": "867886121afcfac3f214d188470e3a582e37becc8dbfd3acd3578c84f6628906", "ref_doc_id": "bd2ea2a2-2b70-45b0-a29c-9695e4084564"}, "89828c88-7087-4ead-935f-dc84f1a79cf6": {"doc_hash": "253baddf44061c1338012c1882161953347b13396347a59e24e68118d735430e", "ref_doc_id": "b9c43116-a511-4e46-9d0a-719552100809"}, "eee59672-0bee-47e7-9f35-0aefef4e5e6b": {"doc_hash": "994385f8162c553c98f67f77ec2c18527a07f64ade33bf4f3ca8ddd5c3b7dd24", "ref_doc_id": "850c81bc-bde1-499d-88cc-6bf424b20006"}, "c31aaa9e-634a-47a1-a3a8-a0b973a9c032": {"doc_hash": "61faf94b3cd13302445d9b802566272138d9b7a45dde395d97ef022f61313874", "ref_doc_id": "c9c2166b-c9b6-44c1-af82-bc8246b84afe"}, "594d883f-f3d3-42d3-b04e-8db4da61a337": {"doc_hash": "9ab512368ae38732564f06b695de889b0bdbad505d82a7cc81b99c819128d2de", "ref_doc_id": "607cfff8-c9a3-4f88-ba09-7b92188360fa"}, "6c7b6ec6-e713-4270-a2ce-c407fc9f6f50": {"doc_hash": "cdbc72416978ba79f0af15fe2ceaed162be21b933e110d882b2fa37e2a43d8ba", "ref_doc_id": "737ff743-8e6f-46e0-b074-fa1e94a218cf"}, "683279d5-f171-4bd9-9f12-b2a1a04a3c2f": {"doc_hash": "92428b90290ddedbda5ef51c4eb7a2476f6c5eaf63ab21a5ab378e31e192a980", "ref_doc_id": "7b6814dc-a22e-4e2d-b1d5-1a5b7aa964f0"}, "5729e1ae-b693-46d4-a14c-592e2d2c5928": {"doc_hash": "ecae859579ad2fb1724ebf009d94a34c105ac9ff548f972c4eb0dfc6906034ff", "ref_doc_id": "a6a1c9de-01ea-449d-930c-09b0e6babf29"}, "45a123ab-22c5-428c-9940-06b25abdeade": {"doc_hash": "eb5b9af0d72124de6b0be5db6b158b332ad629f851717695b40a24615b5e8b64", "ref_doc_id": "a16579d5-c214-46df-b99e-03f5cbfd936a"}, "931b86f8-e951-4b96-8ede-85ee880c260c": {"doc_hash": "e4c7ebfedae2032cf93c75d06c9bc5622927fa31080e5bed68d14336ff7bb6cb", "ref_doc_id": "a2472a53-4268-4755-a35c-0fc2e2b71bc9"}, "0b2457ba-60c5-4e64-8dbd-6a5283fa2c2d": {"doc_hash": "0f3edbdeaa067475e0f8723cafa0891e46f6742d8391eab76633687938416f8a", "ref_doc_id": "fb723b83-e0a1-4e23-b033-7469aefe775f"}, "4cf2e41b-a668-46b7-af01-6fb36033d9b5": {"doc_hash": "82d9adb976f68a9a31adb20621838633cbc7cb520bf3ec232c7b9912520f7ec3", "ref_doc_id": "7863467b-5e9c-41d0-9ff0-89a7f15e518d"}, "d563be88-840b-4637-833a-1e4381038bfa": {"doc_hash": "4c5d2fd2bc088223b9fcdc8600f927c07fc3e17b24e397e3731b0a8758ce9f78", "ref_doc_id": "afcb6e3c-38a6-4006-99ee-c5b233dba095"}, "1c5f1f1c-858e-496c-b621-b75b656b0e23": {"doc_hash": "ee6d19ce7c50ffc1ac64bfebcec6dd5a4fc9a5808f6011960ae52dcd348410f5", "ref_doc_id": "a4dbd3c0-ec43-4768-8d0a-4f975cd26dd2"}, "daecbc2c-0c60-4cdf-bea6-435760547d19": {"doc_hash": "d69c64eb858415b720a463f95f234fc94a696334a77a4db8dfb732f9e304600f", "ref_doc_id": "3d99d070-35c1-4a05-9455-cb4427a9c456"}, "2347319f-e8b2-42d0-aaf0-9eb4b3dbc521": {"doc_hash": "c6eac126f8160eaa73b2e53558c2d49d4d42ba7298f63f3f1e763d82aaca4e81", "ref_doc_id": "6e77dac8-64ca-4a79-bb2c-4fea0323b4c4"}, "53b1848e-c035-4501-acea-fcbbde2648ac": {"doc_hash": "c6d840c791d726d0010014150e0c601ff6aebb020e3ade126da1fb3e3a16d05a", "ref_doc_id": "506c7d61-5a12-4ea4-894a-2071bc95c513"}, "52f0c747-0ebb-4f02-ad47-e6ad775d562d": {"doc_hash": "1860056d375b0d3f7ebfcefc83a42870120481b8a71a911c9ac5f7cd1607b43c", "ref_doc_id": "8dc0fe88-5a69-4436-bc69-11ea6ebffb2b"}, "9a8cc991-c554-4da3-8584-58cd382d6260": {"doc_hash": "15a076b958deb75dc40e6b1b1d372b553e98512d4e81ca8792a963fa47b8cb98", "ref_doc_id": "29cae1f2-90f9-4980-a0af-54ee67483754"}, "e3b412c0-860b-4fc1-a9d6-b3951b2cbc8f": {"doc_hash": "c5fc725ccea3d55ff45819a5e83e6906d10b01d249c0daf4250b65669d1ca016", "ref_doc_id": "a5b3508f-3441-4b43-92c4-f1c1346e837c"}, "a5d73f8b-c130-4b7c-986e-346c2c87f156": {"doc_hash": "9054eea3189241cd1028c5920e28cecf87ae59a9523f43a24158b5074c5658c0", "ref_doc_id": "9f0b2bf7-e5be-4d43-b015-411bbbea45be"}, "4c645d14-8057-4bd3-8119-6a971fcd9211": {"doc_hash": "3935238d17451abc7720f9639ee130e94dd40682c775b189a6d02802901bf6ca", "ref_doc_id": "63216401-1ee0-4406-928e-5864af0e355d"}, "f28254b6-0971-47de-982d-317fc6f48e0a": {"doc_hash": "cd8b2c25798b7f8277479dffbde180d670e7634930f4750f5ba247472796560f", "ref_doc_id": "c47e26bf-e93f-4cec-b5de-43a5bd35fb3a"}, "0b590c11-b4a2-4f27-b357-8547ee99ba65": {"doc_hash": "3cdb4e28712dfd0ff2d54a208f84e5037f7d5e06fc603839c0d96d3b7bd5d199", "ref_doc_id": "6fd5ca7d-24e8-42f3-b736-538ea906f834"}, "b1c2517f-c894-4537-8d37-960374bd92f5": {"doc_hash": "64ed33d2759f45243272eea140374db741989b504faba5bd3080deb8df208c3d", "ref_doc_id": "65fbdd68-8aa3-4ab6-bb38-07138811a401"}, "3b79f109-d2cd-469d-8924-82afc70f38bb": {"doc_hash": "74a1bf2884d0392fd6adb01f1a2d007074feec5c250df71f24ae5eed200852ab", "ref_doc_id": "ce302665-993d-45c5-816e-d0dd1364052c"}, "e4097209-8ece-4cb0-8ae5-deb3ef00b188": {"doc_hash": "9a1fd38cad30178fb6d86fcfee373d2893d2adf29e4730b1e4588b37624351a0", "ref_doc_id": "7deaaf13-426f-43bb-97d2-f1e521460b74"}, "e3755302-dc6d-4654-bca6-0c48f1410ca9": {"doc_hash": "31a895b345cb294201bf8a591e5de9eeabc724d234792c2dd84c502b155ee4dd", "ref_doc_id": "e1f478a3-c1ea-4224-90b0-45c12f392597"}, "e2b0e123-5815-48c3-a99b-286d7d7b520e": {"doc_hash": "301aa70f3bf51df348c781ea15b90df3acd696f0766f9f827a8d3edadeca3399", "ref_doc_id": "27e2ea02-9874-4336-b1b7-eea79416d212"}, "6337894d-706c-4d61-abfe-85790003f85f": {"doc_hash": "bf3e24016a3d6442f88ae9693a3063b477a4e8b3d04bdedcadb4c677f01571cb", "ref_doc_id": "22246bc3-2ee2-4d96-b2bd-4f205c73eb7d"}, "a0a3d1a5-15df-4785-89b0-d1e405ba5fe4": {"doc_hash": "7fbdf7ab413f7986a3eea3ddf308b6364cf24d91e96ab05460d213c6cb2ae9c4", "ref_doc_id": "b4bdd867-a46b-417a-9da5-f3bbaa2cc10f"}, "12da484d-56d7-4907-84bc-382eae43b05e": {"doc_hash": "e19ba9b5839a8f8ab52bf65e20dd1f63847f6f349b9972f9561beb154115099d", "ref_doc_id": "0dd2bda4-fa94-45e0-8c4c-1986839557cc"}, "5fcf1741-98b2-4bc4-a0ea-b1acd90307e7": {"doc_hash": "9602c245389b35fcc44ee15883ac199fe16e1bc4e2a36684a050ecc558097268", "ref_doc_id": "7a4b412c-4765-41db-b3cc-45301eb5802c"}, "55b1a575-87a0-4110-be00-20e5ec1bc18a": {"doc_hash": "3faa3d50e8d8a9545cb055c1f583b1800adcc905337229ba696f33cc31d7a3d0", "ref_doc_id": "45de293a-8406-4405-a4cb-001f1889a3c9"}, "266db906-6de4-4a09-86bf-6a97d2f1cb34": {"doc_hash": "af2a2e1047e8b275db18f10863be1fe45fc0b819dbdd3cb4ac27d2b62ec27291", "ref_doc_id": "6bf964c0-5715-4e44-af83-f28c83ada0c4"}, "9dd23d4e-d85a-4b86-8c2c-0df9ca30c3b2": {"doc_hash": "3336f2de4b766cf0b93de6bb0b0a48c8187371360d72edf7ceab64b957a63f71", "ref_doc_id": "d2a4de9e-eaa3-4947-bcb2-7527d990b2e4"}, "7f1c9ee8-f991-436e-a71c-12efb68f2986": {"doc_hash": "15e2bbfcf97205063964fe09aafc83c23bff07f6ddebdd24811d2f9091ffd2f6", "ref_doc_id": "cc4698e5-478f-4ac7-b991-480e567f604a"}, "b0930504-f3dc-407b-832c-11469be9b38c": {"doc_hash": "28710f0d4bd9d5c14e10fe5f300b28bc89ac90c98a0c0b4b6efdb9badee46e52", "ref_doc_id": "53fe6ebb-5964-4bec-af98-1b1e2df5c18a"}, "87f689ac-2284-4981-9fb5-263bb49682f8": {"doc_hash": "0732a488c8eafcb21e280915dbf727595ba15882029b75e6bd0b25bbb8da50a6", "ref_doc_id": "04703a1e-a949-4622-9789-0fe99cd0a024"}, "cfe9fa97-affd-418c-93f0-00308430c1a0": {"doc_hash": "dd8e0a6bdde9d6042dfc1e2a61f78f031f497da831c35944384cea83e530b4eb", "ref_doc_id": "ec49943a-c3f9-432e-9dd7-ecde8a83884b"}, "45857a4f-aa29-4d4a-8a66-d7fda36f2537": {"doc_hash": "69a515487eddb87f2276a42b5dffb2d9612efd5f3a2bd6b905653efdf647ae7c", "ref_doc_id": "fa244fac-7449-4a65-8845-57f93f76a64f"}, "fec254c9-3c8e-4de3-992d-03a164986974": {"doc_hash": "3a7b3317867b8350ccb25ea1d7507fa5a4ea859d2398024aaeb11523ca245a7b", "ref_doc_id": "ad4f61de-d5f6-443d-b705-e961c42b3c19"}, "9a297b81-548e-4a9b-a172-7b682b88f78a": {"doc_hash": "7563d3c9e25938f28bb419f08dbef75d472f6ff7874486edc40228cec437f5fd", "ref_doc_id": "fa26dc95-b8cf-4b64-b555-b8be3454b3a2"}, "2de194b1-e811-4aa5-9865-8e918b8ca641": {"doc_hash": "917daa75e52a59883b6a5f8a0cf8802d9fda424884f2ceb791bcda00c45b67f0", "ref_doc_id": "5e83c9af-2964-40a9-9464-e46f2316b9b4"}, "e5687703-6a49-4439-9230-6c3865de4cf5": {"doc_hash": "67baba9d5663732d2f831e80e22693dfb71b15bcb6f0b3d92935674232a6cd19", "ref_doc_id": "e8961316-5613-45e8-8d53-da4e59122409"}, "506be888-20dc-46f2-aa55-0acbb4f3eeb2": {"doc_hash": "9c17e3d60658ef58795b71a18d412263759114757bd9cc137b252b447327eafe", "ref_doc_id": "6260bdee-b0d8-4817-80cf-28875b3bf94f"}, "5829de11-3e6b-4d81-9a3e-2c574e949204": {"doc_hash": "5e589312e6b98e27303fc6161c0344335efa06f3bfcd0c02f0cb20e26102d861", "ref_doc_id": "9a42be9d-93e4-4c4b-aa16-3add2ebc2bc1"}, "dd75f390-c37c-4701-b400-29152893fd16": {"doc_hash": "6fad957de9fb68857106f54958028dac969548fd9a080406607f06df811ab08a", "ref_doc_id": "fe9b62b9-89af-4b0a-94c3-85627398120e"}, "da34fb48-299b-4f55-b2b8-16a56d6c2455": {"doc_hash": "687d9ab87d957ddcd391823f3d42226b568ff5e3ee4b6c8b617f659d3619bc1f", "ref_doc_id": "32a039fa-9b7e-4eeb-a86b-2e92e7af9dee"}, "1590cc48-2024-4734-9af4-e00abacfad95": {"doc_hash": "a7ab4af014e3c523f0c097641a13a4e59b2eef712103c72629ee39aec01870dd", "ref_doc_id": "e8baa4f4-abcc-4a96-b687-d9d2399ea085"}, "64d8d71d-5c08-4438-9591-4c3f7686e48d": {"doc_hash": "8fb481dede8e85b69234caf5a9437cfcbe27cdd0bab985c5c16ba69ea4e2b8a0", "ref_doc_id": "06615b46-5854-4379-9492-88c3af1b3796"}, "b9548a24-da41-4091-80cd-0c9861b40ed5": {"doc_hash": "89defa4db241b82b40bac6888012ed9201a4f242995d8563c2febc05936a3abe", "ref_doc_id": "db5be68a-9e23-4656-8b86-d1ee16d2e7fa"}, "6ee249c2-027f-4a79-b1cd-ab6b71b54401": {"doc_hash": "235cb67b5345020037180a07723c93e03c3bbba1fe9dff133565f4a2059e58b2", "ref_doc_id": "db5be68a-9e23-4656-8b86-d1ee16d2e7fa"}, "19504757-4080-4ec6-9c81-d27a6f2337c0": {"doc_hash": "a9729d89d2ff9bb2b14e4e409cd7428aade75c4cb3d0a89a99a97ddd62edbb0a", "ref_doc_id": "64fbc43b-3519-4b38-987f-55f8318cd9e7"}, "dd20197b-6c27-44a1-8225-1ad821a356f2": {"doc_hash": "bb3a569b174f3bd9a5e6e28dd35340e146d184a71a92e4f354ae208e25513172", "ref_doc_id": "89ca57d8-39ac-496c-9260-85876c02a6a8"}, "545fd552-6268-48cf-abfc-22639bf3f972": {"doc_hash": "fcd56e304a540fb7bce003acf553450be4f8c9aaad58bd85b3b2956deb5108d1", "ref_doc_id": "43decc17-278d-40e9-87b7-0fe92124c597"}, "83d04389-c709-4279-b507-19f4cbeca161": {"doc_hash": "05a8f2f1ae815df9ac5f17be463b4b58b3e61765665e952776f76132f0f4e4aa", "ref_doc_id": "f81ac8a0-6df9-456d-8cc5-be1d40e59482"}, "b19822c1-40a6-4371-b2dc-a3fec62cb144": {"doc_hash": "ef26a338312282e34099cbec87deeed3e21c94cb6998b5e96543be1f48066b63", "ref_doc_id": "f92f2662-3ed0-48cb-8f1d-a1c4e109f11e"}, "0460150c-98c0-42b7-85cd-fe32e49c8c52": {"doc_hash": "9c6bd5da743edfb2c7dd9773fc2136dc047110674d145c7ba028641ce0c88936", "ref_doc_id": "becbf40d-d736-4b29-a852-53776d343652"}, "82f419c5-1734-45c9-bb02-6943c7dfdfec": {"doc_hash": "baa677063a58258d19dcaa670dd667595788451431298c7d7830d1d12982ef1e", "ref_doc_id": "cf8d5d6c-eb0f-4fa1-9fba-8ad20a9403dc"}}, "docstore/ref_doc_info": {"f57158dd-482c-460c-8a0c-383e996d287d": {"node_ids": ["3305a4a6-dd44-4313-92fc-4c749f994fb5"], "metadata": {"page_label": "1", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "14de8f19-1af1-4e77-aa65-a47e801bed81": {"node_ids": ["8c3b1054-bc5a-4267-b1ee-015ac3a3b1ae"], "metadata": {"page_label": "2", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "ebb78c39-214b-414f-98da-c4f508e4c360": {"node_ids": ["b5ef1bba-1325-4638-ae7b-5037c0be243f"], "metadata": {"page_label": "3", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "a15bc9a4-bea6-4cfb-b1cf-5860d0d05985": {"node_ids": ["d09ff1dc-fa95-4b7b-b861-e1abbb5c712f"], "metadata": {"page_label": "4", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "b4ac6bdb-21de-4ba9-81a2-c8c9efd026d0": {"node_ids": ["da2411dc-df42-497a-9058-91f85e84cc3a"], "metadata": {"page_label": "5", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "57f68954-18a2-474f-92d4-1b2b379a82ef": {"node_ids": ["b6037a98-c333-4efe-8252-15771771d3ab"], "metadata": {"page_label": "6", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "11a53dba-f8d9-426c-9da6-fa1274ba338e": {"node_ids": ["c8e54680-d98e-452d-86bf-8dbc22c0be21"], "metadata": {"page_label": "7", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "6fa86d53-69c9-40cd-9e70-8c0250d03028": {"node_ids": ["9b0a191a-0cf2-447a-ad44-4e72c6a1aab0"], "metadata": {"page_label": "8", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "f9dd9b41-38ce-4d00-8a49-56f10108ff5a": {"node_ids": ["d9ad649f-3689-4956-867f-b07050a582b7"], "metadata": {"page_label": "9", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "7db2d1dd-0c52-4db7-91c9-66f044823976": {"node_ids": ["687e5b25-8144-4ac4-868b-a8e18f2ffd6b"], "metadata": {"page_label": "10", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "f37dc781-4f13-4d10-a1c4-f00d9c983df2": {"node_ids": ["55dabf03-fee0-4f6b-9a19-c01f8720cc85"], "metadata": {"page_label": "11", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "611393c2-a681-45af-83e7-6cb2187f62f8": {"node_ids": ["5e5c9b33-a79b-476f-ba1c-720014db55bc"], "metadata": {"page_label": "12", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "603b6f5c-74cb-4151-b57b-69d4a16b0fec": {"node_ids": ["0a8c4276-6098-48a3-b4c9-cf9877a608da"], "metadata": {"page_label": "13", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "93ceda28-c6a9-4e98-9230-2ef4d4289b3a": {"node_ids": ["eb8fb177-8f54-47f0-a7f5-91089dcc9d70"], "metadata": {"page_label": "14", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "045e0363-71ef-4507-90e5-65e50e6d1c96": {"node_ids": ["168029fe-db58-4b40-a469-58bb39529ad4"], "metadata": {"page_label": "15", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "e37f34b7-2894-4a1a-82f8-0b6486d094f3": {"node_ids": ["f5f475ab-9c04-48e3-8d9d-51d37945ad46"], "metadata": {"page_label": "16", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "4247131f-f0bc-4f9b-8625-c3b2fdacb4a3": {"node_ids": ["1be57a80-20a3-4fcc-9341-1613efb0ab3a"], "metadata": {"page_label": "17", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "60a80aa1-1f98-4b29-90c9-69771ac56efe": {"node_ids": ["8e577a27-23a5-4778-99e4-997cceb47ada"], "metadata": {"page_label": "18", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "ac5daf6a-8557-4e7f-8f2b-04ad39aad244": {"node_ids": ["44554d05-8173-4678-af1c-9fa5742db362"], "metadata": {"page_label": "19", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "974ee13a-350b-4f28-a3c1-d080a1fc27f4": {"node_ids": ["0c2c5ab7-7a4c-47f0-a071-a8f50678aa20"], "metadata": {"page_label": "20", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "334cf420-2348-4a23-97eb-9f5d36e78f06": {"node_ids": ["acc98e35-cac7-47d3-91e5-ee7eaa80ab87"], "metadata": {"page_label": "21", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "a7c57881-cac6-4466-8a0f-5ceb8e6a3008": {"node_ids": ["6af53963-f330-49e4-a687-7d486de0542c"], "metadata": {"page_label": "22", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "3afd1d68-5450-4529-abbb-81fee2b3a04f": {"node_ids": ["0c3c40db-ded2-4a17-8410-a20d3da1d3f5"], "metadata": {"page_label": "23", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "9ea4203c-818f-4785-8e3b-3dbdb2e69452": {"node_ids": ["8cb07cc5-8828-4ee7-80d1-bc11abfe3967"], "metadata": {"page_label": "24", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "ce88c7ba-579f-4c1e-972e-05c03e90988a": {"node_ids": ["2017bd80-cbdd-4c47-bae0-49d3e84201e1"], "metadata": {"page_label": "25", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "d5e5d9ce-45bd-45fc-b6de-daeaa4f94458": {"node_ids": ["ad06cbc0-abe9-49ae-bc9c-be1bd21bc53a"], "metadata": {"page_label": "26", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "430b42b6-22c0-4fdc-b042-861a90102908": {"node_ids": ["409b9130-07d2-4682-b4ec-63b7a85b29c5"], "metadata": {"page_label": "27", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "2a8056b1-d3fc-4bcc-ad5f-6abffae13f49": {"node_ids": ["566ad79d-062a-4226-ad2b-92841ae1e80c"], "metadata": {"page_label": "28", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "660e8212-a2f0-4a45-92e3-ab8923b42da0": {"node_ids": ["d07a93e6-be16-41aa-8c22-06308249f7d5"], "metadata": {"page_label": "29", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "77d91572-ce65-43ac-aadf-ab8daf273132": {"node_ids": ["145574ee-eee0-4c80-8171-44efcd0bfc2d"], "metadata": {"page_label": "30", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "742f7cfa-1250-4743-b44a-1145a332e70a": {"node_ids": ["4bdec536-c8ce-469d-ba2b-e5cbec41920f"], "metadata": {"page_label": "31", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "c225216f-21b7-4e13-ac17-bfc76af89c66": {"node_ids": ["77a0a10b-087e-4647-931e-e168b21d1e3c"], "metadata": {"page_label": "32", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "786be5b8-3416-43d0-a27c-1905d32dc812": {"node_ids": ["0b4748c6-7735-4f5a-95e4-15aa500aa064"], "metadata": {"page_label": "33", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "9963de48-8906-4a4d-9ad1-29e44aa2f783": {"node_ids": ["66839750-bf7e-4f2a-91e3-28b049c120ca"], "metadata": {"page_label": "34", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "0fb805d7-f60e-485d-8481-a3d59b2396c8": {"node_ids": ["9f4052d8-c3d6-4d7f-a6e8-8d46d1c3fa71"], "metadata": {"page_label": "35", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "bdc12ebf-9487-481d-b890-eaea55e32d33": {"node_ids": ["09a5332b-001d-45de-95a1-9ee9eba470ae"], "metadata": {"page_label": "36", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "d14349f7-57a2-4876-97ba-3153ff528294": {"node_ids": ["205d8fbb-544f-4882-8da0-3a89ecf4844b"], "metadata": {"page_label": "37", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "4de40bda-276b-4fe8-90d2-ca7d50d6dc1d": {"node_ids": ["49f407d4-87cc-47d5-a900-7dd84589a1f7"], "metadata": {"page_label": "38", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "eac8901c-020b-43d0-b7c6-44ee328c9ba2": {"node_ids": ["194bbc40-6b2c-40e9-85f0-6b8ede9750fd"], "metadata": {"page_label": "39", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "1089d6db-efe9-46e2-b24e-d6742d057236": {"node_ids": ["fb06f5da-4a4c-411d-ace4-72101f9c033c"], "metadata": {"page_label": "40", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "9536a207-e17c-4164-9442-867d1054eb47": {"node_ids": ["1264681e-1c6c-4194-a503-2ad279514612"], "metadata": {"page_label": "41", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "30533f6e-c031-4c6b-a426-c6a68b25d37e": {"node_ids": ["c4065047-ebdb-443a-aefd-f88152674abf"], "metadata": {"page_label": "42", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "bbad33ad-d1bc-41ef-8039-d6c33ef07c4c": {"node_ids": ["f23b6f09-1a5a-40a6-a273-c2e9ac5277a5"], "metadata": {"page_label": "43", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "c907bc35-6fb0-4066-92e9-9dd26f0abc87": {"node_ids": ["d65be2c1-d6fe-41cb-996b-19073a16ba5b"], "metadata": {"page_label": "44", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "0e972dfe-7a4d-479f-87ad-8ea6b16e1f21": {"node_ids": ["f6104870-4d5f-4e91-a46c-027c1714e5cb"], "metadata": {"page_label": "45", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "d41ce52b-6a37-48c6-b56b-b2d6daa031ca": {"node_ids": ["5c360185-ce7b-422a-b09a-e78165dd6dc1"], "metadata": {"page_label": "46", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "21fa2575-7323-4d1b-b141-55a3d3505599": {"node_ids": ["2802aeba-1052-4b68-b362-0872d85000c0"], "metadata": {"page_label": "47", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "e90e3a4a-0b4d-4e75-8456-23fb784291b2": {"node_ids": ["af7fac99-d858-49a9-a6b2-0dadcf106dfc"], "metadata": {"page_label": "48", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "29912c1c-8b79-42e6-9fb0-5d3d4f2f6c2a": {"node_ids": ["cf2eff0a-5aac-4baf-bd8e-e734f53315be"], "metadata": {"page_label": "49", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "6aca107c-6227-4713-96d8-5407af124ad4": {"node_ids": ["5e32c843-ca64-467e-b826-0a0de8b904ea"], "metadata": {"page_label": "50", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "c0d9f8dd-1290-4cea-b5b1-372f4f4ddd96": {"node_ids": ["45c68e18-58c5-4f82-86aa-d673c528b749"], "metadata": {"page_label": "51", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "5cda10f5-c706-4f01-b846-16ee40ddec87": {"node_ids": ["cb4b8b3e-6b23-4acf-aa42-347d9a2fe580"], "metadata": {"page_label": "52", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "ec1f92b1-e1ca-47dc-8c81-3cdf65dbfabc": {"node_ids": ["4de0be74-30b1-44cc-a2ab-f873c5d7aec9"], "metadata": {"page_label": "53", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "fb1315ac-ca93-4c2f-873b-64d1c00828a7": {"node_ids": ["2bfa53c3-c01b-40aa-9a8d-9695480e2a54"], "metadata": {"page_label": "54", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "8a9f6e2f-5d40-4df3-b00f-e5d11e438c5e": {"node_ids": ["235ce56b-bcd4-494b-b0b3-f9470fe5fabb"], "metadata": {"page_label": "55", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "fe0aebd2-c39b-41c3-bffa-7237ddd69d35": {"node_ids": ["2dec690f-b5e7-42a2-bc9b-70dc41b7bea1"], "metadata": {"page_label": "56", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "41a7d4e2-7379-4ba8-aab8-0360c9d86cda": {"node_ids": ["366b63a7-d761-4721-825c-e69548114d45"], "metadata": {"page_label": "57", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "41e61114-5429-4829-9c48-3ef1dbc23add": {"node_ids": ["2339e0da-6c76-4e2c-81d9-d07334738d51"], "metadata": {"page_label": "58", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "63c95f09-72a8-458f-994b-ce0d1c1a4d7d": {"node_ids": ["34e4c93e-e9a0-448b-9c03-0075e7f7ef93"], "metadata": {"page_label": "59", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "e6711169-c44a-44aa-a582-de70a5396156": {"node_ids": ["3eaef5ef-b189-4275-9789-9e95d16e77df"], "metadata": {"page_label": "60", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "87aac8eb-1470-4d91-a51f-063d901cf9ff": {"node_ids": ["9a0f81a5-c222-499f-b061-2516a84cb631"], "metadata": {"page_label": "61", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "1e8aee61-b34e-4b2b-a526-009acad3800f": {"node_ids": ["d6b961d4-e3f4-423c-b5d3-10228c851f72"], "metadata": {"page_label": "62", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "3ff4415c-3e7e-4781-9071-d3ee74e23cbe": {"node_ids": ["6c6263fd-ba30-4e1f-b237-9c658fab61e7"], "metadata": {"page_label": "63", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "4d425313-3535-4744-a6fb-3174e9e5a1ce": {"node_ids": ["586a6e38-23be-4afb-add6-f811d48c3ce4"], "metadata": {"page_label": "64", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "86707dbf-1028-4b1a-94f7-70cd9f45329d": {"node_ids": ["749991db-2240-4801-9730-45981a009f24"], "metadata": {"page_label": "65", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "c5ec5a59-311c-4314-b344-b77bea16f4bb": {"node_ids": ["4bc21243-4832-4f39-99a0-52b00ecee30d"], "metadata": {"page_label": "66", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "c2674162-9167-4ed4-b90c-6b023f500e5f": {"node_ids": ["3e20003a-c09f-42d5-8a0f-1b8574c6655d"], "metadata": {"page_label": "67", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "bfa82023-9652-40bb-a749-f5ee804f8e72": {"node_ids": ["6ff74509-f044-415e-b6f8-27c487e89e1a"], "metadata": {"page_label": "68", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "9e05ba78-00c1-47ed-a0fd-160903956224": {"node_ids": ["188a8848-5e71-4a60-b834-7fa879ce59ed"], "metadata": {"page_label": "69", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "90217bf5-e465-4d0e-88e8-71195e5813fa": {"node_ids": ["accc0b4c-d988-420f-bc9d-887489f6d654"], "metadata": {"page_label": "70", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "fdf4f97d-0ea8-4acd-b82b-28ed646d0d39": {"node_ids": ["e29b2260-5a14-40b2-81a2-02f01c2568d1"], "metadata": {"page_label": "71", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "e9e92f9b-f9ee-47bf-997e-f8f97433c067": {"node_ids": ["9417635c-5825-4d43-a80f-2517fb3028de"], "metadata": {"page_label": "72", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "44da2dfe-0683-48df-bf9b-1c6fd83093e1": {"node_ids": ["d21811fe-11d2-4d0b-af52-a87a52246ae5"], "metadata": {"page_label": "73", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "f450bab0-eea7-4be5-bbbd-774fb5b8ced6": {"node_ids": ["456e8b5a-ceea-4bcd-bf4c-ee4feb65f39a"], "metadata": {"page_label": "74", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "8fa114ad-c6ee-4352-9831-e3bef0f112c9": {"node_ids": ["673554e1-3b63-416f-a26c-16c48826f42a"], "metadata": {"page_label": "75", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "bd2ea2a2-2b70-45b0-a29c-9695e4084564": {"node_ids": ["7f5562eb-1c21-4cec-983a-6ef8ad2fbcc1"], "metadata": {"page_label": "76", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "b9c43116-a511-4e46-9d0a-719552100809": {"node_ids": ["89828c88-7087-4ead-935f-dc84f1a79cf6"], "metadata": {"page_label": "77", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "850c81bc-bde1-499d-88cc-6bf424b20006": {"node_ids": ["eee59672-0bee-47e7-9f35-0aefef4e5e6b"], "metadata": {"page_label": "78", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "c9c2166b-c9b6-44c1-af82-bc8246b84afe": {"node_ids": ["c31aaa9e-634a-47a1-a3a8-a0b973a9c032"], "metadata": {"page_label": "79", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "607cfff8-c9a3-4f88-ba09-7b92188360fa": {"node_ids": ["594d883f-f3d3-42d3-b04e-8db4da61a337"], "metadata": {"page_label": "80", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "737ff743-8e6f-46e0-b074-fa1e94a218cf": {"node_ids": ["6c7b6ec6-e713-4270-a2ce-c407fc9f6f50"], "metadata": {"page_label": "81", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "7b6814dc-a22e-4e2d-b1d5-1a5b7aa964f0": {"node_ids": ["683279d5-f171-4bd9-9f12-b2a1a04a3c2f"], "metadata": {"page_label": "82", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "a6a1c9de-01ea-449d-930c-09b0e6babf29": {"node_ids": ["5729e1ae-b693-46d4-a14c-592e2d2c5928"], "metadata": {"page_label": "83", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "a16579d5-c214-46df-b99e-03f5cbfd936a": {"node_ids": ["45a123ab-22c5-428c-9940-06b25abdeade"], "metadata": {"page_label": "84", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "a2472a53-4268-4755-a35c-0fc2e2b71bc9": {"node_ids": ["931b86f8-e951-4b96-8ede-85ee880c260c"], "metadata": {"page_label": "85", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "fb723b83-e0a1-4e23-b033-7469aefe775f": {"node_ids": ["0b2457ba-60c5-4e64-8dbd-6a5283fa2c2d"], "metadata": {"page_label": "86", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "7863467b-5e9c-41d0-9ff0-89a7f15e518d": {"node_ids": ["4cf2e41b-a668-46b7-af01-6fb36033d9b5"], "metadata": {"page_label": "87", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "afcb6e3c-38a6-4006-99ee-c5b233dba095": {"node_ids": ["d563be88-840b-4637-833a-1e4381038bfa"], "metadata": {"page_label": "88", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "a4dbd3c0-ec43-4768-8d0a-4f975cd26dd2": {"node_ids": ["1c5f1f1c-858e-496c-b621-b75b656b0e23"], "metadata": {"page_label": "89", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "3d99d070-35c1-4a05-9455-cb4427a9c456": {"node_ids": ["daecbc2c-0c60-4cdf-bea6-435760547d19"], "metadata": {"page_label": "90", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "6e77dac8-64ca-4a79-bb2c-4fea0323b4c4": {"node_ids": ["2347319f-e8b2-42d0-aaf0-9eb4b3dbc521"], "metadata": {"page_label": "91", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "506c7d61-5a12-4ea4-894a-2071bc95c513": {"node_ids": ["53b1848e-c035-4501-acea-fcbbde2648ac"], "metadata": {"page_label": "92", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "8dc0fe88-5a69-4436-bc69-11ea6ebffb2b": {"node_ids": ["52f0c747-0ebb-4f02-ad47-e6ad775d562d"], "metadata": {"page_label": "93", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "29cae1f2-90f9-4980-a0af-54ee67483754": {"node_ids": ["9a8cc991-c554-4da3-8584-58cd382d6260"], "metadata": {"page_label": "94", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "a5b3508f-3441-4b43-92c4-f1c1346e837c": {"node_ids": ["e3b412c0-860b-4fc1-a9d6-b3951b2cbc8f"], "metadata": {"page_label": "95", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "9f0b2bf7-e5be-4d43-b015-411bbbea45be": {"node_ids": ["a5d73f8b-c130-4b7c-986e-346c2c87f156"], "metadata": {"page_label": "96", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "63216401-1ee0-4406-928e-5864af0e355d": {"node_ids": ["4c645d14-8057-4bd3-8119-6a971fcd9211"], "metadata": {"page_label": "97", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "c47e26bf-e93f-4cec-b5de-43a5bd35fb3a": {"node_ids": ["f28254b6-0971-47de-982d-317fc6f48e0a"], "metadata": {"page_label": "98", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "6fd5ca7d-24e8-42f3-b736-538ea906f834": {"node_ids": ["0b590c11-b4a2-4f27-b357-8547ee99ba65"], "metadata": {"page_label": "99", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "65fbdd68-8aa3-4ab6-bb38-07138811a401": {"node_ids": ["b1c2517f-c894-4537-8d37-960374bd92f5"], "metadata": {"page_label": "100", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "ce302665-993d-45c5-816e-d0dd1364052c": {"node_ids": ["3b79f109-d2cd-469d-8924-82afc70f38bb"], "metadata": {"page_label": "101", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "7deaaf13-426f-43bb-97d2-f1e521460b74": {"node_ids": ["e4097209-8ece-4cb0-8ae5-deb3ef00b188"], "metadata": {"page_label": "102", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "e1f478a3-c1ea-4224-90b0-45c12f392597": {"node_ids": ["e3755302-dc6d-4654-bca6-0c48f1410ca9"], "metadata": {"page_label": "103", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "27e2ea02-9874-4336-b1b7-eea79416d212": {"node_ids": ["e2b0e123-5815-48c3-a99b-286d7d7b520e"], "metadata": {"page_label": "104", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "22246bc3-2ee2-4d96-b2bd-4f205c73eb7d": {"node_ids": ["6337894d-706c-4d61-abfe-85790003f85f"], "metadata": {"page_label": "105", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "b4bdd867-a46b-417a-9da5-f3bbaa2cc10f": {"node_ids": ["a0a3d1a5-15df-4785-89b0-d1e405ba5fe4"], "metadata": {"page_label": "106", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "0dd2bda4-fa94-45e0-8c4c-1986839557cc": {"node_ids": ["12da484d-56d7-4907-84bc-382eae43b05e"], "metadata": {"page_label": "107", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "7a4b412c-4765-41db-b3cc-45301eb5802c": {"node_ids": ["5fcf1741-98b2-4bc4-a0ea-b1acd90307e7"], "metadata": {"page_label": "108", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "45de293a-8406-4405-a4cb-001f1889a3c9": {"node_ids": ["55b1a575-87a0-4110-be00-20e5ec1bc18a"], "metadata": {"page_label": "109", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "6bf964c0-5715-4e44-af83-f28c83ada0c4": {"node_ids": ["266db906-6de4-4a09-86bf-6a97d2f1cb34"], "metadata": {"page_label": "110", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "d2a4de9e-eaa3-4947-bcb2-7527d990b2e4": {"node_ids": ["9dd23d4e-d85a-4b86-8c2c-0df9ca30c3b2"], "metadata": {"page_label": "111", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "cc4698e5-478f-4ac7-b991-480e567f604a": {"node_ids": ["7f1c9ee8-f991-436e-a71c-12efb68f2986"], "metadata": {"page_label": "112", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "53fe6ebb-5964-4bec-af98-1b1e2df5c18a": {"node_ids": ["b0930504-f3dc-407b-832c-11469be9b38c"], "metadata": {"page_label": "113", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "04703a1e-a949-4622-9789-0fe99cd0a024": {"node_ids": ["87f689ac-2284-4981-9fb5-263bb49682f8"], "metadata": {"page_label": "114", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "ec49943a-c3f9-432e-9dd7-ecde8a83884b": {"node_ids": ["cfe9fa97-affd-418c-93f0-00308430c1a0"], "metadata": {"page_label": "115", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "fa244fac-7449-4a65-8845-57f93f76a64f": {"node_ids": ["45857a4f-aa29-4d4a-8a66-d7fda36f2537"], "metadata": {"page_label": "116", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "ad4f61de-d5f6-443d-b705-e961c42b3c19": {"node_ids": ["fec254c9-3c8e-4de3-992d-03a164986974"], "metadata": {"page_label": "117", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "fa26dc95-b8cf-4b64-b555-b8be3454b3a2": {"node_ids": ["9a297b81-548e-4a9b-a172-7b682b88f78a"], "metadata": {"page_label": "118", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "5e83c9af-2964-40a9-9464-e46f2316b9b4": {"node_ids": ["2de194b1-e811-4aa5-9865-8e918b8ca641"], "metadata": {"page_label": "119", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "e8961316-5613-45e8-8d53-da4e59122409": {"node_ids": ["e5687703-6a49-4439-9230-6c3865de4cf5"], "metadata": {"page_label": "120", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "6260bdee-b0d8-4817-80cf-28875b3bf94f": {"node_ids": ["506be888-20dc-46f2-aa55-0acbb4f3eeb2"], "metadata": {"page_label": "121", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "9a42be9d-93e4-4c4b-aa16-3add2ebc2bc1": {"node_ids": ["5829de11-3e6b-4d81-9a3e-2c574e949204"], "metadata": {"page_label": "122", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "fe9b62b9-89af-4b0a-94c3-85627398120e": {"node_ids": ["dd75f390-c37c-4701-b400-29152893fd16"], "metadata": {"page_label": "123", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "32a039fa-9b7e-4eeb-a86b-2e92e7af9dee": {"node_ids": ["da34fb48-299b-4f55-b2b8-16a56d6c2455"], "metadata": {"page_label": "124", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "e8baa4f4-abcc-4a96-b687-d9d2399ea085": {"node_ids": ["1590cc48-2024-4734-9af4-e00abacfad95"], "metadata": {"page_label": "125", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "06615b46-5854-4379-9492-88c3af1b3796": {"node_ids": ["64d8d71d-5c08-4438-9591-4c3f7686e48d"], "metadata": {"page_label": "126", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "db5be68a-9e23-4656-8b86-d1ee16d2e7fa": {"node_ids": ["b9548a24-da41-4091-80cd-0c9861b40ed5", "6ee249c2-027f-4a79-b1cd-ab6b71b54401"], "metadata": {"page_label": "127", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "64fbc43b-3519-4b38-987f-55f8318cd9e7": {"node_ids": ["19504757-4080-4ec6-9c81-d27a6f2337c0"], "metadata": {"page_label": "128", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "89ca57d8-39ac-496c-9260-85876c02a6a8": {"node_ids": ["dd20197b-6c27-44a1-8225-1ad821a356f2"], "metadata": {"page_label": "129", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "43decc17-278d-40e9-87b7-0fe92124c597": {"node_ids": ["545fd552-6268-48cf-abfc-22639bf3f972"], "metadata": {"page_label": "130", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "f81ac8a0-6df9-456d-8cc5-be1d40e59482": {"node_ids": ["83d04389-c709-4279-b507-19f4cbeca161"], "metadata": {"page_label": "131", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "f92f2662-3ed0-48cb-8f1d-a1c4e109f11e": {"node_ids": ["b19822c1-40a6-4371-b2dc-a3fec62cb144"], "metadata": {"page_label": "132", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "becbf40d-d736-4b29-a852-53776d343652": {"node_ids": ["0460150c-98c0-42b7-85cd-fe32e49c8c52"], "metadata": {"page_label": "133", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}, "cf8d5d6c-eb0f-4fa1-9fba-8ad20a9403dc": {"node_ids": ["82f419c5-1734-45c9-bb02-6943c7dfdfec"], "metadata": {"page_label": "134", "file_name": "sap-hana-on-vmware-vsphere-bp_0.pdf", "file_path": "/Users/kusalanithennakoon/Documents/kocha/OllamaGraphRAGPoC/input-dir/sap-hana-on-vmware-vsphere-bp_0.pdf", "file_type": "application/pdf", "file_size": 12721542, "creation_date": "2025-05-26", "last_modified_date": "2025-05-24"}}}}